{"remainingRequest":"/home/saptarsi/go/src/hackathon/shiaa3/vue/node_modules/babel-loader/lib/index.js!/home/saptarsi/go/src/hackathon/shiaa3/vue/node_modules/eslint-loader/index.js??ref--13-0!/home/saptarsi/go/src/hackathon/shiaa3/vue/src/store/generated/cosmos/cosmos-sdk/ibc.core.client.v1/index.js","dependencies":[{"path":"/home/saptarsi/go/src/hackathon/shiaa3/vue/src/store/generated/cosmos/cosmos-sdk/ibc.core.client.v1/index.js","mtime":1616424851692},{"path":"/home/saptarsi/go/src/hackathon/shiaa3/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/saptarsi/go/src/hackathon/shiaa3/vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/saptarsi/go/src/hackathon/shiaa3/vue/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmVudHJpZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc2V0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIi9ob21lL3NhcHRhcnNpL2dvL3NyYy9oYWNrYXRob24vc2hpYWEzL3Z1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvaG9tZS9zYXB0YXJzaS9nby9zcmMvaGFja2F0aG9uL3NoaWFhMy92dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBfdHlwZW9mIGZyb20gIi9ob21lL3NhcHRhcnNpL2dvL3NyYy9oYWNrYXRob24vc2hpYWEzL3Z1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mIjsKaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9ob21lL3NhcHRhcnNpL2dvL3NyYy9oYWNrYXRob24vc2hpYWEzL3Z1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvaG9tZS9zYXB0YXJzaS9nby9zcmMvaGFja2F0aG9uL3NoaWFhMy92dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgeyB0eENsaWVudCwgcXVlcnlDbGllbnQgfSBmcm9tICcuL21vZHVsZSc7IC8vIEB0cy1pZ25vcmUKCmltcG9ydCB7IFNwVnVleEVycm9yIH0gZnJvbSAnQHN0YXJwb3J0L3Z1ZXgnOwppbXBvcnQgeyBJZGVudGlmaWVkQ2xpZW50U3RhdGUgfSBmcm9tICIuL21vZHVsZS90eXBlcy9pYmMvY29yZS9jbGllbnQvdjEvY2xpZW50IjsKaW1wb3J0IHsgQ29uc2Vuc3VzU3RhdGVXaXRoSGVpZ2h0IH0gZnJvbSAiLi9tb2R1bGUvdHlwZXMvaWJjL2NvcmUvY2xpZW50L3YxL2NsaWVudCI7CmltcG9ydCB7IENsaWVudENvbnNlbnN1c1N0YXRlcyB9IGZyb20gIi4vbW9kdWxlL3R5cGVzL2liYy9jb3JlL2NsaWVudC92MS9jbGllbnQiOwppbXBvcnQgeyBDbGllbnRVcGRhdGVQcm9wb3NhbCB9IGZyb20gIi4vbW9kdWxlL3R5cGVzL2liYy9jb3JlL2NsaWVudC92MS9jbGllbnQiOwppbXBvcnQgeyBIZWlnaHQgfSBmcm9tICIuL21vZHVsZS90eXBlcy9pYmMvY29yZS9jbGllbnQvdjEvY2xpZW50IjsKaW1wb3J0IHsgUGFyYW1zIH0gZnJvbSAiLi9tb2R1bGUvdHlwZXMvaWJjL2NvcmUvY2xpZW50L3YxL2NsaWVudCI7CmltcG9ydCB7IEdlbmVzaXNNZXRhZGF0YSB9IGZyb20gIi4vbW9kdWxlL3R5cGVzL2liYy9jb3JlL2NsaWVudC92MS9nZW5lc2lzIjsKaW1wb3J0IHsgSWRlbnRpZmllZEdlbmVzaXNNZXRhZGF0YSB9IGZyb20gIi4vbW9kdWxlL3R5cGVzL2liYy9jb3JlL2NsaWVudC92MS9nZW5lc2lzIjsKCmZ1bmN0aW9uIGluaXRUeENsaWVudChfeCkgewogIHJldHVybiBfaW5pdFR4Q2xpZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9pbml0VHhDbGllbnQoKSB7CiAgX2luaXRUeENsaWVudCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE1KHZ1ZXhHZXR0ZXJzKSB7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE1JChfY29udGV4dDE1KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDE1LnByZXYgPSBfY29udGV4dDE1Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIHR4Q2xpZW50KHZ1ZXhHZXR0ZXJzWydjb21tb24vd2FsbGV0L3NpZ25lciddLCB7CiAgICAgICAgICAgICAgYWRkcjogdnVleEdldHRlcnNbJ2NvbW1vbi9lbnYvYXBpVGVuZGVybWludCddCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTUuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDE1LnNlbnQpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUxNSk7CiAgfSkpOwogIHJldHVybiBfaW5pdFR4Q2xpZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIGluaXRRdWVyeUNsaWVudChfeDIpIHsKICByZXR1cm4gX2luaXRRdWVyeUNsaWVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfaW5pdFF1ZXJ5Q2xpZW50KCkgewogIF9pbml0UXVlcnlDbGllbnQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNih2dWV4R2V0dGVycykgewogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNiQoX2NvbnRleHQxNikgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNi5wcmV2ID0gX2NvbnRleHQxNi5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBxdWVyeUNsaWVudCh7CiAgICAgICAgICAgICAgYWRkcjogdnVleEdldHRlcnNbJ2NvbW1vbi9lbnYvYXBpQ29zbW9zJ10KICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNi5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0MTYuc2VudCk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTE2KTsKICB9KSk7CiAgcmV0dXJuIF9pbml0UXVlcnlDbGllbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gZ2V0U3RydWN0dXJlKHRlbXBsYXRlKSB7CiAgdmFyIHN0cnVjdHVyZSA9IHsKICAgIGZpZWxkczogW10KICB9OwoKICBmb3IgKHZhciBfaSA9IDAsIF9PYmplY3QkZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKHRlbXBsYXRlKTsgX2kgPCBfT2JqZWN0JGVudHJpZXMubGVuZ3RoOyBfaSsrKSB7CiAgICB2YXIgX09iamVjdCRlbnRyaWVzJF9pID0gX3NsaWNlZFRvQXJyYXkoX09iamVjdCRlbnRyaWVzW19pXSwgMiksCiAgICAgICAga2V5ID0gX09iamVjdCRlbnRyaWVzJF9pWzBdLAogICAgICAgIHZhbHVlID0gX09iamVjdCRlbnRyaWVzJF9pWzFdOwoKICAgIHZhciBmaWVsZCA9IHt9OwogICAgZmllbGQubmFtZSA9IGtleTsKICAgIGZpZWxkLnR5cGUgPSBfdHlwZW9mKHZhbHVlKTsKICAgIHN0cnVjdHVyZS5maWVsZHMucHVzaChmaWVsZCk7CiAgfQoKICByZXR1cm4gc3RydWN0dXJlOwp9Cgp2YXIgZ2V0RGVmYXVsdFN0YXRlID0gZnVuY3Rpb24gZ2V0RGVmYXVsdFN0YXRlKCkgewogIHJldHVybiB7CiAgICBDbGllbnRTdGF0ZToge30sCiAgICBDbGllbnRTdGF0ZXM6IHt9LAogICAgQ29uc2Vuc3VzU3RhdGU6IHt9LAogICAgQ29uc2Vuc3VzU3RhdGVzOiB7fSwKICAgIENsaWVudFBhcmFtczoge30sCiAgICBfU3RydWN0dXJlOiB7CiAgICAgIElkZW50aWZpZWRDbGllbnRTdGF0ZTogZ2V0U3RydWN0dXJlKElkZW50aWZpZWRDbGllbnRTdGF0ZS5mcm9tUGFydGlhbCh7fSkpLAogICAgICBDb25zZW5zdXNTdGF0ZVdpdGhIZWlnaHQ6IGdldFN0cnVjdHVyZShDb25zZW5zdXNTdGF0ZVdpdGhIZWlnaHQuZnJvbVBhcnRpYWwoe30pKSwKICAgICAgQ2xpZW50Q29uc2Vuc3VzU3RhdGVzOiBnZXRTdHJ1Y3R1cmUoQ2xpZW50Q29uc2Vuc3VzU3RhdGVzLmZyb21QYXJ0aWFsKHt9KSksCiAgICAgIENsaWVudFVwZGF0ZVByb3Bvc2FsOiBnZXRTdHJ1Y3R1cmUoQ2xpZW50VXBkYXRlUHJvcG9zYWwuZnJvbVBhcnRpYWwoe30pKSwKICAgICAgSGVpZ2h0OiBnZXRTdHJ1Y3R1cmUoSGVpZ2h0LmZyb21QYXJ0aWFsKHt9KSksCiAgICAgIFBhcmFtczogZ2V0U3RydWN0dXJlKFBhcmFtcy5mcm9tUGFydGlhbCh7fSkpLAogICAgICBHZW5lc2lzTWV0YWRhdGE6IGdldFN0cnVjdHVyZShHZW5lc2lzTWV0YWRhdGEuZnJvbVBhcnRpYWwoe30pKSwKICAgICAgSWRlbnRpZmllZEdlbmVzaXNNZXRhZGF0YTogZ2V0U3RydWN0dXJlKElkZW50aWZpZWRHZW5lc2lzTWV0YWRhdGEuZnJvbVBhcnRpYWwoe30pKQogICAgfSwKICAgIF9TdWJzY3JpcHRpb25zOiBuZXcgU2V0KCkKICB9Owp9OyAvLyBpbml0aWFsIHN0YXRlCgoKdmFyIHN0YXRlID0gZ2V0RGVmYXVsdFN0YXRlKCk7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiBzdGF0ZSwKICBtdXRhdGlvbnM6IHsKICAgIFJFU0VUX1NUQVRFOiBmdW5jdGlvbiBSRVNFVF9TVEFURShzdGF0ZSkgewogICAgICBPYmplY3QuYXNzaWduKHN0YXRlLCBnZXREZWZhdWx0U3RhdGUoKSk7CiAgICB9LAogICAgUVVFUlk6IGZ1bmN0aW9uIFFVRVJZKHN0YXRlLCBfcmVmKSB7CiAgICAgIHZhciBxdWVyeSA9IF9yZWYucXVlcnksCiAgICAgICAgICBrZXkgPSBfcmVmLmtleSwKICAgICAgICAgIHZhbHVlID0gX3JlZi52YWx1ZTsKICAgICAgc3RhdGVbcXVlcnldW0pTT04uc3RyaW5naWZ5KGtleSldID0gdmFsdWU7CiAgICB9LAogICAgU1VCU0NSSUJFOiBmdW5jdGlvbiBTVUJTQ1JJQkUoc3RhdGUsIHN1YnNjcmlwdGlvbikgewogICAgICBzdGF0ZS5fU3Vic2NyaXB0aW9ucy5hZGQoc3Vic2NyaXB0aW9uKTsKICAgIH0sCiAgICBVTlNVQlNDUklCRTogZnVuY3Rpb24gVU5TVUJTQ1JJQkUoc3RhdGUsIHN1YnNjcmlwdGlvbikgewogICAgICBzdGF0ZS5fU3Vic2NyaXB0aW9ucy5kZWxldGUoc3Vic2NyaXB0aW9uKTsKICAgIH0KICB9LAogIGdldHRlcnM6IHsKICAgIGdldENsaWVudFN0YXRlOiBmdW5jdGlvbiBnZXRDbGllbnRTdGF0ZShzdGF0ZSkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfc3RhdGUkQ2xpZW50U3RhdGUkSlM7CgogICAgICAgIHZhciBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9OwoKICAgICAgICBpZiAoIXBhcmFtcy5xdWVyeSkgewogICAgICAgICAgcGFyYW1zLnF1ZXJ5ID0gbnVsbDsKICAgICAgICB9CgogICAgICAgIHJldHVybiAoX3N0YXRlJENsaWVudFN0YXRlJEpTID0gc3RhdGUuQ2xpZW50U3RhdGVbSlNPTi5zdHJpbmdpZnkocGFyYW1zKV0pICE9PSBudWxsICYmIF9zdGF0ZSRDbGllbnRTdGF0ZSRKUyAhPT0gdm9pZCAwID8gX3N0YXRlJENsaWVudFN0YXRlJEpTIDoge307CiAgICAgIH07CiAgICB9LAogICAgZ2V0Q2xpZW50U3RhdGVzOiBmdW5jdGlvbiBnZXRDbGllbnRTdGF0ZXMoc3RhdGUpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3N0YXRlJENsaWVudFN0YXRlcyRKOwoKICAgICAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKCiAgICAgICAgaWYgKCFwYXJhbXMucXVlcnkpIHsKICAgICAgICAgIHBhcmFtcy5xdWVyeSA9IG51bGw7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gKF9zdGF0ZSRDbGllbnRTdGF0ZXMkSiA9IHN0YXRlLkNsaWVudFN0YXRlc1tKU09OLnN0cmluZ2lmeShwYXJhbXMpXSkgIT09IG51bGwgJiYgX3N0YXRlJENsaWVudFN0YXRlcyRKICE9PSB2b2lkIDAgPyBfc3RhdGUkQ2xpZW50U3RhdGVzJEogOiB7fTsKICAgICAgfTsKICAgIH0sCiAgICBnZXRDb25zZW5zdXNTdGF0ZTogZnVuY3Rpb24gZ2V0Q29uc2Vuc3VzU3RhdGUoc3RhdGUpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3N0YXRlJENvbnNlbnN1c1N0YXRlOwoKICAgICAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKCiAgICAgICAgaWYgKCFwYXJhbXMucXVlcnkpIHsKICAgICAgICAgIHBhcmFtcy5xdWVyeSA9IG51bGw7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gKF9zdGF0ZSRDb25zZW5zdXNTdGF0ZSA9IHN0YXRlLkNvbnNlbnN1c1N0YXRlW0pTT04uc3RyaW5naWZ5KHBhcmFtcyldKSAhPT0gbnVsbCAmJiBfc3RhdGUkQ29uc2Vuc3VzU3RhdGUgIT09IHZvaWQgMCA/IF9zdGF0ZSRDb25zZW5zdXNTdGF0ZSA6IHt9OwogICAgICB9OwogICAgfSwKICAgIGdldENvbnNlbnN1c1N0YXRlczogZnVuY3Rpb24gZ2V0Q29uc2Vuc3VzU3RhdGVzKHN0YXRlKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9zdGF0ZSRDb25zZW5zdXNTdGF0ZTI7CgogICAgICAgIHZhciBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9OwoKICAgICAgICBpZiAoIXBhcmFtcy5xdWVyeSkgewogICAgICAgICAgcGFyYW1zLnF1ZXJ5ID0gbnVsbDsKICAgICAgICB9CgogICAgICAgIHJldHVybiAoX3N0YXRlJENvbnNlbnN1c1N0YXRlMiA9IHN0YXRlLkNvbnNlbnN1c1N0YXRlc1tKU09OLnN0cmluZ2lmeShwYXJhbXMpXSkgIT09IG51bGwgJiYgX3N0YXRlJENvbnNlbnN1c1N0YXRlMiAhPT0gdm9pZCAwID8gX3N0YXRlJENvbnNlbnN1c1N0YXRlMiA6IHt9OwogICAgICB9OwogICAgfSwKICAgIGdldENsaWVudFBhcmFtczogZnVuY3Rpb24gZ2V0Q2xpZW50UGFyYW1zKHN0YXRlKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9zdGF0ZSRDbGllbnRQYXJhbXMkSjsKCiAgICAgICAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CgogICAgICAgIGlmICghcGFyYW1zLnF1ZXJ5KSB7CiAgICAgICAgICBwYXJhbXMucXVlcnkgPSBudWxsOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIChfc3RhdGUkQ2xpZW50UGFyYW1zJEogPSBzdGF0ZS5DbGllbnRQYXJhbXNbSlNPTi5zdHJpbmdpZnkocGFyYW1zKV0pICE9PSBudWxsICYmIF9zdGF0ZSRDbGllbnRQYXJhbXMkSiAhPT0gdm9pZCAwID8gX3N0YXRlJENsaWVudFBhcmFtcyRKIDoge307CiAgICAgIH07CiAgICB9LAogICAgZ2V0VHlwZVN0cnVjdHVyZTogZnVuY3Rpb24gZ2V0VHlwZVN0cnVjdHVyZShzdGF0ZSkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKHR5cGUpIHsKICAgICAgICByZXR1cm4gc3RhdGUuX1N0cnVjdHVyZVt0eXBlXS5maWVsZHM7CiAgICAgIH07CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBpbml0OiBmdW5jdGlvbiBpbml0KF9yZWYyKSB7CiAgICAgIHZhciBkaXNwYXRjaCA9IF9yZWYyLmRpc3BhdGNoLAogICAgICAgICAgcm9vdEdldHRlcnMgPSBfcmVmMi5yb290R2V0dGVyczsKICAgICAgY29uc29sZS5sb2coJ2luaXQnKTsKCiAgICAgIGlmIChyb290R2V0dGVyc1snY29tbW9uL2Vudi9jbGllbnQnXSkgewogICAgICAgIHJvb3RHZXR0ZXJzWydjb21tb24vZW52L2NsaWVudCddLm9uKCduZXdibG9jaycsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGRpc3BhdGNoKCdTdG9yZVVwZGF0ZScpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgcmVzZXRTdGF0ZTogZnVuY3Rpb24gcmVzZXRTdGF0ZShfcmVmMykgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgICBjb21taXQoJ1JFU0VUX1NUQVRFJyk7CiAgICB9LAogICAgdW5zdWJzY3JpYmU6IGZ1bmN0aW9uIHVuc3Vic2NyaWJlKF9yZWY0LCBzdWJzY3JpcHRpb24pIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY0LmNvbW1pdDsKICAgICAgY29tbWl0KCdVTlNVQlNDUklCRScsIHN1YnNjcmlwdGlvbik7CiAgICB9LAogICAgU3RvcmVVcGRhdGU6IGZ1bmN0aW9uIFN0b3JlVXBkYXRlKF9yZWY1KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHN0YXRlLCBkaXNwYXRjaDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBzdGF0ZSA9IF9yZWY1LnN0YXRlLCBkaXNwYXRjaCA9IF9yZWY1LmRpc3BhdGNoOwoKICAgICAgICAgICAgICAgIHN0YXRlLl9TdWJzY3JpcHRpb25zLmZvckVhY2goZnVuY3Rpb24gKHN1YnNjcmlwdGlvbikgewogICAgICAgICAgICAgICAgICBkaXNwYXRjaChzdWJzY3JpcHRpb24uYWN0aW9uLCBzdWJzY3JpcHRpb24ucGF5bG9hZCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIFF1ZXJ5Q2xpZW50U3RhdGU6IGZ1bmN0aW9uIFF1ZXJ5Q2xpZW50U3RhdGUoX3JlZjYsIF9yZWY3KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBjb21taXQsIHJvb3RHZXR0ZXJzLCBnZXR0ZXJzLCBfcmVmNyRvcHRpb25zLCBfcmVmNyRvcHRpb25zJHN1YnNjcmksIHN1YnNjcmliZSwgX3JlZjckb3B0aW9ucyRhbGwsIGFsbCwga2V5LCBfcmVmNyRxdWVyeSwgcXVlcnksIF9nZXR0ZXJzJGdldENsaWVudFN0YSwgdmFsdWU7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmNi5jb21taXQsIHJvb3RHZXR0ZXJzID0gX3JlZjYucm9vdEdldHRlcnMsIGdldHRlcnMgPSBfcmVmNi5nZXR0ZXJzOwogICAgICAgICAgICAgICAgX3JlZjckb3B0aW9ucyA9IF9yZWY3Lm9wdGlvbnMsIF9yZWY3JG9wdGlvbnMkc3Vic2NyaSA9IF9yZWY3JG9wdGlvbnMuc3Vic2NyaWJlLCBzdWJzY3JpYmUgPSBfcmVmNyRvcHRpb25zJHN1YnNjcmkgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjckb3B0aW9ucyRzdWJzY3JpLCBfcmVmNyRvcHRpb25zJGFsbCA9IF9yZWY3JG9wdGlvbnMuYWxsLCBhbGwgPSBfcmVmNyRvcHRpb25zJGFsbCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmNyRvcHRpb25zJGFsbCwga2V5ID0gT2JqZWN0LmFzc2lnbih7fSwgX3JlZjcucGFyYW1zKSwgX3JlZjckcXVlcnkgPSBfcmVmNy5xdWVyeSwgcXVlcnkgPSBfcmVmNyRxdWVyeSA9PT0gdm9pZCAwID8gbnVsbCA6IF9yZWY3JHF1ZXJ5OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAyOwoKICAgICAgICAgICAgICAgIGlmICghcXVlcnkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRRdWVyeUNsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc2VudC5xdWVyeUNsaWVudFN0YXRlKGtleS5jbGllbnRfaWQsIHF1ZXJ5KTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyLnNlbnQuZGF0YTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnNlbnQucXVlcnlDbGllbnRTdGF0ZShrZXkuY2xpZW50X2lkKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0Mi5zZW50LmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9jb250ZXh0Mi50MDsKICAgICAgICAgICAgICAgIGNvbW1pdCgnUVVFUlknLCB7CiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiAnQ2xpZW50U3RhdGUnLAogICAgICAgICAgICAgICAgICBrZXk6IHsKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaWJlKSBjb21taXQoJ1NVQlNDUklCRScsIHsKICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnUXVlcnlDbGllbnRTdGF0ZScsCiAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IHsKICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7CiAgICAgICAgICAgICAgICAgICAgICBhbGw6IGFsbAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCAoX2dldHRlcnMkZ2V0Q2xpZW50U3RhID0gZ2V0dGVyc1snZ2V0Q2xpZW50U3RhdGUnXSh7CiAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICB9KSkgIT09IG51bGwgJiYgX2dldHRlcnMkZ2V0Q2xpZW50U3RhICE9PSB2b2lkIDAgPyBfZ2V0dGVycyRnZXRDbGllbnRTdGEgOiB7fSk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDIyOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQxID0gX2NvbnRleHQyWyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihuZXcgU3BWdWV4RXJyb3IoJ1F1ZXJ5Q2xpZW50OlF1ZXJ5Q2xpZW50U3RhdGUnLCAnQVBJIE5vZGUgVW5hdmFpbGFibGUuIENvdWxkIG5vdCBwZXJmb3JtIHF1ZXJ5LicpKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCB7fSk7CgogICAgICAgICAgICAgIGNhc2UgMjY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMiwgMjJdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIFF1ZXJ5Q2xpZW50U3RhdGVzOiBmdW5jdGlvbiBRdWVyeUNsaWVudFN0YXRlcyhfcmVmOCwgX3JlZjkpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgcm9vdEdldHRlcnMsIGdldHRlcnMsIF9yZWY5JG9wdGlvbnMsIF9yZWY5JG9wdGlvbnMkc3Vic2NyaSwgc3Vic2NyaWJlLCBfcmVmOSRvcHRpb25zJGFsbCwgYWxsLCBrZXksIF9yZWY5JHF1ZXJ5LCBxdWVyeSwgX2dldHRlcnMkZ2V0Q2xpZW50U3RhMiwgdmFsdWUsIG5leHRfdmFsdWVzLCBfaTIsIF9PYmplY3Qka2V5cywgcHJvcDsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWY4LmNvbW1pdCwgcm9vdEdldHRlcnMgPSBfcmVmOC5yb290R2V0dGVycywgZ2V0dGVycyA9IF9yZWY4LmdldHRlcnM7CiAgICAgICAgICAgICAgICBfcmVmOSRvcHRpb25zID0gX3JlZjkub3B0aW9ucywgX3JlZjkkb3B0aW9ucyRzdWJzY3JpID0gX3JlZjkkb3B0aW9ucy5zdWJzY3JpYmUsIHN1YnNjcmliZSA9IF9yZWY5JG9wdGlvbnMkc3Vic2NyaSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmOSRvcHRpb25zJHN1YnNjcmksIF9yZWY5JG9wdGlvbnMkYWxsID0gX3JlZjkkb3B0aW9ucy5hbGwsIGFsbCA9IF9yZWY5JG9wdGlvbnMkYWxsID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWY5JG9wdGlvbnMkYWxsLCBrZXkgPSBPYmplY3QuYXNzaWduKHt9LCBfcmVmOS5wYXJhbXMpLCBfcmVmOSRxdWVyeSA9IF9yZWY5LnF1ZXJ5LCBxdWVyeSA9IF9yZWY5JHF1ZXJ5ID09PSB2b2lkIDAgPyBudWxsIDogX3JlZjkkcXVlcnk7CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDI7CgogICAgICAgICAgICAgICAgaWYgKCFxdWVyeSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zZW50LnF1ZXJ5Q2xpZW50U3RhdGVzKHF1ZXJ5KTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzLnNlbnQuZGF0YTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnNlbnQucXVlcnlDbGllbnRTdGF0ZXMoKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0My50MCA9IF9jb250ZXh0My5zZW50LmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9jb250ZXh0My50MDsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIGlmICghKGFsbCAmJiB2YWx1ZS5wYWdpbmF0aW9uICYmIHZhbHVlLnBhZ2luYXRpb24ubmV4dEtleSAhPSBudWxsKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRRdWVyeUNsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zZW50LnF1ZXJ5Q2xpZW50U3RhdGVzKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcXVlcnkpLCB7fSwgewogICAgICAgICAgICAgICAgICAncGFnaW5hdGlvbi5rZXknOiB2YWx1ZS5wYWdpbmF0aW9uLm5leHRLZXkKICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIG5leHRfdmFsdWVzID0gX2NvbnRleHQzLnNlbnQuZGF0YTsKCiAgICAgICAgICAgICAgICBmb3IgKF9pMiA9IDAsIF9PYmplY3Qka2V5cyA9IE9iamVjdC5rZXlzKG5leHRfdmFsdWVzKTsgX2kyIDwgX09iamVjdCRrZXlzLmxlbmd0aDsgX2kyKyspIHsKICAgICAgICAgICAgICAgICAgcHJvcCA9IF9PYmplY3Qka2V5c1tfaTJdOwoKICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobmV4dF92YWx1ZXNbcHJvcF0pKSB7CiAgICAgICAgICAgICAgICAgICAgdmFsdWVbcHJvcF0gPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHZhbHVlW3Byb3BdKSwgX3RvQ29uc3VtYWJsZUFycmF5KG5leHRfdmFsdWVzW3Byb3BdKSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdmFsdWVbcHJvcF0gPSBuZXh0X3ZhbHVlc1twcm9wXTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyNjoKICAgICAgICAgICAgICAgIGNvbW1pdCgnUVVFUlknLCB7CiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiAnQ2xpZW50U3RhdGVzJywKICAgICAgICAgICAgICAgICAga2V5OiB7CiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgaWYgKHN1YnNjcmliZSkgY29tbWl0KCdTVUJTQ1JJQkUnLCB7CiAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ1F1ZXJ5Q2xpZW50U3RhdGVzJywKICAgICAgICAgICAgICAgICAgcGF5bG9hZDogewogICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgICAgICAgICAgIGFsbDogYWxsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIChfZ2V0dGVycyRnZXRDbGllbnRTdGEyID0gZ2V0dGVyc1snZ2V0Q2xpZW50U3RhdGVzJ10oewogICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgfSkpICE9PSBudWxsICYmIF9nZXR0ZXJzJGdldENsaWVudFN0YTIgIT09IHZvaWQgMCA/IF9nZXR0ZXJzJGdldENsaWVudFN0YTIgOiB7fSk7CgogICAgICAgICAgICAgIGNhc2UgMzE6CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDMxOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQxID0gX2NvbnRleHQzWyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihuZXcgU3BWdWV4RXJyb3IoJ1F1ZXJ5Q2xpZW50OlF1ZXJ5Q2xpZW50U3RhdGVzJywgJ0FQSSBOb2RlIFVuYXZhaWxhYmxlLiBDb3VsZCBub3QgcGVyZm9ybSBxdWVyeS4nKSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwge30pOwoKICAgICAgICAgICAgICBjYXNlIDM1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCBudWxsLCBbWzIsIDMxXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBRdWVyeUNvbnNlbnN1c1N0YXRlOiBmdW5jdGlvbiBRdWVyeUNvbnNlbnN1c1N0YXRlKF9yZWYxMCwgX3JlZjExKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciBjb21taXQsIHJvb3RHZXR0ZXJzLCBnZXR0ZXJzLCBfcmVmMTEkb3B0aW9ucywgX3JlZjExJG9wdGlvbnMkc3Vic2NyLCBzdWJzY3JpYmUsIF9yZWYxMSRvcHRpb25zJGFsbCwgYWxsLCBrZXksIF9yZWYxMSRxdWVyeSwgcXVlcnksIF9nZXR0ZXJzJGdldENvbnNlbnN1cywgdmFsdWUsIG5leHRfdmFsdWVzLCBfaTMsIF9PYmplY3Qka2V5czIsIHByb3A7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMTAuY29tbWl0LCByb290R2V0dGVycyA9IF9yZWYxMC5yb290R2V0dGVycywgZ2V0dGVycyA9IF9yZWYxMC5nZXR0ZXJzOwogICAgICAgICAgICAgICAgX3JlZjExJG9wdGlvbnMgPSBfcmVmMTEub3B0aW9ucywgX3JlZjExJG9wdGlvbnMkc3Vic2NyID0gX3JlZjExJG9wdGlvbnMuc3Vic2NyaWJlLCBzdWJzY3JpYmUgPSBfcmVmMTEkb3B0aW9ucyRzdWJzY3IgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjExJG9wdGlvbnMkc3Vic2NyLCBfcmVmMTEkb3B0aW9ucyRhbGwgPSBfcmVmMTEkb3B0aW9ucy5hbGwsIGFsbCA9IF9yZWYxMSRvcHRpb25zJGFsbCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmMTEkb3B0aW9ucyRhbGwsIGtleSA9IE9iamVjdC5hc3NpZ24oe30sIF9yZWYxMS5wYXJhbXMpLCBfcmVmMTEkcXVlcnkgPSBfcmVmMTEucXVlcnksIHF1ZXJ5ID0gX3JlZjExJHF1ZXJ5ID09PSB2b2lkIDAgPyBudWxsIDogX3JlZjExJHF1ZXJ5OwogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnByZXYgPSAyOwoKICAgICAgICAgICAgICAgIGlmICghcXVlcnkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRRdWVyeUNsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc2VudC5xdWVyeUNvbnNlbnN1c1N0YXRlKGtleS5jbGllbnRfaWQsIGtleS5yZXZpc2lvbl9udW1iZXIsIGtleS5yZXZpc2lvbl9oZWlnaHQsIHF1ZXJ5KTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnQwID0gX2NvbnRleHQ0LnNlbnQuZGF0YTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnNlbnQucXVlcnlDb25zZW5zdXNTdGF0ZShrZXkuY2xpZW50X2lkLCBrZXkucmV2aXNpb25fbnVtYmVyLCBrZXkucmV2aXNpb25faGVpZ2h0KTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0NC50MCA9IF9jb250ZXh0NC5zZW50LmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9jb250ZXh0NC50MDsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIGlmICghKGFsbCAmJiB2YWx1ZS5wYWdpbmF0aW9uICYmIHZhbHVlLnBhZ2luYXRpb24ubmV4dEtleSAhPSBudWxsKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRRdWVyeUNsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zZW50LnF1ZXJ5Q29uc2Vuc3VzU3RhdGUoa2V5LmNsaWVudF9pZCwga2V5LnJldmlzaW9uX251bWJlciwga2V5LnJldmlzaW9uX2hlaWdodCwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBxdWVyeSksIHt9LCB7CiAgICAgICAgICAgICAgICAgICdwYWdpbmF0aW9uLmtleSc6IHZhbHVlLnBhZ2luYXRpb24ubmV4dEtleQogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgbmV4dF92YWx1ZXMgPSBfY29udGV4dDQuc2VudC5kYXRhOwoKICAgICAgICAgICAgICAgIGZvciAoX2kzID0gMCwgX09iamVjdCRrZXlzMiA9IE9iamVjdC5rZXlzKG5leHRfdmFsdWVzKTsgX2kzIDwgX09iamVjdCRrZXlzMi5sZW5ndGg7IF9pMysrKSB7CiAgICAgICAgICAgICAgICAgIHByb3AgPSBfT2JqZWN0JGtleXMyW19pM107CgogICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShuZXh0X3ZhbHVlc1twcm9wXSkpIHsKICAgICAgICAgICAgICAgICAgICB2YWx1ZVtwcm9wXSA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkodmFsdWVbcHJvcF0pLCBfdG9Db25zdW1hYmxlQXJyYXkobmV4dF92YWx1ZXNbcHJvcF0pKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB2YWx1ZVtwcm9wXSA9IG5leHRfdmFsdWVzW3Byb3BdOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxNzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDI2OgogICAgICAgICAgICAgICAgY29tbWl0KCdRVUVSWScsIHsKICAgICAgICAgICAgICAgICAgcXVlcnk6ICdDb25zZW5zdXNTdGF0ZScsCiAgICAgICAgICAgICAgICAgIGtleTogewogICAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpYmUpIGNvbW1pdCgnU1VCU0NSSUJFJywgewogICAgICAgICAgICAgICAgICBhY3Rpb246ICdRdWVyeUNvbnNlbnN1c1N0YXRlJywKICAgICAgICAgICAgICAgICAgcGF5bG9hZDogewogICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgICAgICAgICAgIGFsbDogYWxsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIChfZ2V0dGVycyRnZXRDb25zZW5zdXMgPSBnZXR0ZXJzWydnZXRDb25zZW5zdXNTdGF0ZSddKHsKICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgIH0pKSAhPT0gbnVsbCAmJiBfZ2V0dGVycyRnZXRDb25zZW5zdXMgIT09IHZvaWQgMCA/IF9nZXR0ZXJzJGdldENvbnNlbnN1cyA6IHt9KTsKCiAgICAgICAgICAgICAgY2FzZSAzMToKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5wcmV2ID0gMzE7CiAgICAgICAgICAgICAgICBfY29udGV4dDQudDEgPSBfY29udGV4dDRbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKG5ldyBTcFZ1ZXhFcnJvcignUXVlcnlDbGllbnQ6UXVlcnlDb25zZW5zdXNTdGF0ZScsICdBUEkgTm9kZSBVbmF2YWlsYWJsZS4gQ291bGQgbm90IHBlcmZvcm0gcXVlcnkuJykpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIHt9KTsKCiAgICAgICAgICAgICAgY2FzZSAzNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCwgbnVsbCwgW1syLCAzMV1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgUXVlcnlDb25zZW5zdXNTdGF0ZXM6IGZ1bmN0aW9uIFF1ZXJ5Q29uc2Vuc3VzU3RhdGVzKF9yZWYxMiwgX3JlZjEzKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHZhciBjb21taXQsIHJvb3RHZXR0ZXJzLCBnZXR0ZXJzLCBfcmVmMTMkb3B0aW9ucywgX3JlZjEzJG9wdGlvbnMkc3Vic2NyLCBzdWJzY3JpYmUsIF9yZWYxMyRvcHRpb25zJGFsbCwgYWxsLCBrZXksIF9yZWYxMyRxdWVyeSwgcXVlcnksIF9nZXR0ZXJzJGdldENvbnNlbnN1czIsIHZhbHVlLCBuZXh0X3ZhbHVlcywgX2k0LCBfT2JqZWN0JGtleXMzLCBwcm9wOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjEyLmNvbW1pdCwgcm9vdEdldHRlcnMgPSBfcmVmMTIucm9vdEdldHRlcnMsIGdldHRlcnMgPSBfcmVmMTIuZ2V0dGVyczsKICAgICAgICAgICAgICAgIF9yZWYxMyRvcHRpb25zID0gX3JlZjEzLm9wdGlvbnMsIF9yZWYxMyRvcHRpb25zJHN1YnNjciA9IF9yZWYxMyRvcHRpb25zLnN1YnNjcmliZSwgc3Vic2NyaWJlID0gX3JlZjEzJG9wdGlvbnMkc3Vic2NyID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYxMyRvcHRpb25zJHN1YnNjciwgX3JlZjEzJG9wdGlvbnMkYWxsID0gX3JlZjEzJG9wdGlvbnMuYWxsLCBhbGwgPSBfcmVmMTMkb3B0aW9ucyRhbGwgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjEzJG9wdGlvbnMkYWxsLCBrZXkgPSBPYmplY3QuYXNzaWduKHt9LCBfcmVmMTMucGFyYW1zKSwgX3JlZjEzJHF1ZXJ5ID0gX3JlZjEzLnF1ZXJ5LCBxdWVyeSA9IF9yZWYxMyRxdWVyeSA9PT0gdm9pZCAwID8gbnVsbCA6IF9yZWYxMyRxdWVyeTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5wcmV2ID0gMjsKCiAgICAgICAgICAgICAgICBpZiAoIXF1ZXJ5KSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0UXVlcnlDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnNlbnQucXVlcnlDb25zZW5zdXNTdGF0ZXMoa2V5LmNsaWVudF9pZCwgcXVlcnkpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDUudDAgPSBfY29udGV4dDUuc2VudC5kYXRhOwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0UXVlcnlDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc2VudC5xdWVyeUNvbnNlbnN1c1N0YXRlcyhrZXkuY2xpZW50X2lkKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0NS50MCA9IF9jb250ZXh0NS5zZW50LmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9jb250ZXh0NS50MDsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIGlmICghKGFsbCAmJiB2YWx1ZS5wYWdpbmF0aW9uICYmIHZhbHVlLnBhZ2luYXRpb24ubmV4dEtleSAhPSBudWxsKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDI2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRRdWVyeUNsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zZW50LnF1ZXJ5Q29uc2Vuc3VzU3RhdGVzKGtleS5jbGllbnRfaWQsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcXVlcnkpLCB7fSwgewogICAgICAgICAgICAgICAgICAncGFnaW5hdGlvbi5rZXknOiB2YWx1ZS5wYWdpbmF0aW9uLm5leHRLZXkKICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIG5leHRfdmFsdWVzID0gX2NvbnRleHQ1LnNlbnQuZGF0YTsKCiAgICAgICAgICAgICAgICBmb3IgKF9pNCA9IDAsIF9PYmplY3Qka2V5czMgPSBPYmplY3Qua2V5cyhuZXh0X3ZhbHVlcyk7IF9pNCA8IF9PYmplY3Qka2V5czMubGVuZ3RoOyBfaTQrKykgewogICAgICAgICAgICAgICAgICBwcm9wID0gX09iamVjdCRrZXlzM1tfaTRdOwoKICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobmV4dF92YWx1ZXNbcHJvcF0pKSB7CiAgICAgICAgICAgICAgICAgICAgdmFsdWVbcHJvcF0gPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHZhbHVlW3Byb3BdKSwgX3RvQ29uc3VtYWJsZUFycmF5KG5leHRfdmFsdWVzW3Byb3BdKSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdmFsdWVbcHJvcF0gPSBuZXh0X3ZhbHVlc1twcm9wXTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyNjoKICAgICAgICAgICAgICAgIGNvbW1pdCgnUVVFUlknLCB7CiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiAnQ29uc2Vuc3VzU3RhdGVzJywKICAgICAgICAgICAgICAgICAga2V5OiB7CiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgaWYgKHN1YnNjcmliZSkgY29tbWl0KCdTVUJTQ1JJQkUnLCB7CiAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ1F1ZXJ5Q29uc2Vuc3VzU3RhdGVzJywKICAgICAgICAgICAgICAgICAgcGF5bG9hZDogewogICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgICAgICAgICAgIGFsbDogYWxsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoInJldHVybiIsIChfZ2V0dGVycyRnZXRDb25zZW5zdXMyID0gZ2V0dGVyc1snZ2V0Q29uc2Vuc3VzU3RhdGVzJ10oewogICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgfSkpICE9PSBudWxsICYmIF9nZXR0ZXJzJGdldENvbnNlbnN1czIgIT09IHZvaWQgMCA/IF9nZXR0ZXJzJGdldENvbnNlbnN1czIgOiB7fSk7CgogICAgICAgICAgICAgIGNhc2UgMzE6CiAgICAgICAgICAgICAgICBfY29udGV4dDUucHJldiA9IDMxOwogICAgICAgICAgICAgICAgX2NvbnRleHQ1LnQxID0gX2NvbnRleHQ1WyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihuZXcgU3BWdWV4RXJyb3IoJ1F1ZXJ5Q2xpZW50OlF1ZXJ5Q29uc2Vuc3VzU3RhdGVzJywgJ0FQSSBOb2RlIFVuYXZhaWxhYmxlLiBDb3VsZCBub3QgcGVyZm9ybSBxdWVyeS4nKSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwge30pOwoKICAgICAgICAgICAgICBjYXNlIDM1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1LCBudWxsLCBbWzIsIDMxXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBRdWVyeUNsaWVudFBhcmFtczogZnVuY3Rpb24gUXVlcnlDbGllbnRQYXJhbXMoX3JlZjE0LCBfcmVmMTUpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgcm9vdEdldHRlcnMsIGdldHRlcnMsIF9yZWYxNSRvcHRpb25zLCBfcmVmMTUkb3B0aW9ucyRzdWJzY3IsIHN1YnNjcmliZSwgX3JlZjE1JG9wdGlvbnMkYWxsLCBhbGwsIGtleSwgX3JlZjE1JHF1ZXJ5LCBxdWVyeSwgX2dldHRlcnMkZ2V0Q2xpZW50UGFyLCB2YWx1ZTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYxNC5jb21taXQsIHJvb3RHZXR0ZXJzID0gX3JlZjE0LnJvb3RHZXR0ZXJzLCBnZXR0ZXJzID0gX3JlZjE0LmdldHRlcnM7CiAgICAgICAgICAgICAgICBfcmVmMTUkb3B0aW9ucyA9IF9yZWYxNS5vcHRpb25zLCBfcmVmMTUkb3B0aW9ucyRzdWJzY3IgPSBfcmVmMTUkb3B0aW9ucy5zdWJzY3JpYmUsIHN1YnNjcmliZSA9IF9yZWYxNSRvcHRpb25zJHN1YnNjciA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmMTUkb3B0aW9ucyRzdWJzY3IsIF9yZWYxNSRvcHRpb25zJGFsbCA9IF9yZWYxNSRvcHRpb25zLmFsbCwgYWxsID0gX3JlZjE1JG9wdGlvbnMkYWxsID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYxNSRvcHRpb25zJGFsbCwga2V5ID0gT2JqZWN0LmFzc2lnbih7fSwgX3JlZjE1LnBhcmFtcyksIF9yZWYxNSRxdWVyeSA9IF9yZWYxNS5xdWVyeSwgcXVlcnkgPSBfcmVmMTUkcXVlcnkgPT09IHZvaWQgMCA/IG51bGwgOiBfcmVmMTUkcXVlcnk7CiAgICAgICAgICAgICAgICBfY29udGV4dDYucHJldiA9IDI7CgogICAgICAgICAgICAgICAgaWYgKCFxdWVyeSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zZW50LnF1ZXJ5Q2xpZW50UGFyYW1zKHF1ZXJ5KTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQ2LnQwID0gX2NvbnRleHQ2LnNlbnQuZGF0YTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnNlbnQucXVlcnlDbGllbnRQYXJhbXMoKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni50MCA9IF9jb250ZXh0Ni5zZW50LmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9jb250ZXh0Ni50MDsKICAgICAgICAgICAgICAgIGNvbW1pdCgnUVVFUlknLCB7CiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiAnQ2xpZW50UGFyYW1zJywKICAgICAgICAgICAgICAgICAga2V5OiB7CiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgaWYgKHN1YnNjcmliZSkgY29tbWl0KCdTVUJTQ1JJQkUnLCB7CiAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ1F1ZXJ5Q2xpZW50UGFyYW1zJywKICAgICAgICAgICAgICAgICAgcGF5bG9hZDogewogICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgICAgICAgICAgIGFsbDogYWxsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoInJldHVybiIsIChfZ2V0dGVycyRnZXRDbGllbnRQYXIgPSBnZXR0ZXJzWydnZXRDbGllbnRQYXJhbXMnXSh7CiAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICB9KSkgIT09IG51bGwgJiYgX2dldHRlcnMkZ2V0Q2xpZW50UGFyICE9PSB2b2lkIDAgPyBfZ2V0dGVycyRnZXRDbGllbnRQYXIgOiB7fSk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBfY29udGV4dDYucHJldiA9IDIyOwogICAgICAgICAgICAgICAgX2NvbnRleHQ2LnQxID0gX2NvbnRleHQ2WyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihuZXcgU3BWdWV4RXJyb3IoJ1F1ZXJ5Q2xpZW50OlF1ZXJ5Q2xpZW50UGFyYW1zJywgJ0FQSSBOb2RlIFVuYXZhaWxhYmxlLiBDb3VsZCBub3QgcGVyZm9ybSBxdWVyeS4nKSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgicmV0dXJuIiwge30pOwoKICAgICAgICAgICAgICBjYXNlIDI2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2LCBudWxsLCBbWzIsIDIyXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzZW5kTXNnVXBncmFkZUNsaWVudDogZnVuY3Rpb24gc2VuZE1zZ1VwZ3JhZGVDbGllbnQoX3JlZjE2LCBfcmVmMTcpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgdmFyIHJvb3RHZXR0ZXJzLCB2YWx1ZSwgZmVlLCBtZW1vLCBtc2csIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcm9vdEdldHRlcnMgPSBfcmVmMTYucm9vdEdldHRlcnM7CiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9yZWYxNy52YWx1ZSwgZmVlID0gX3JlZjE3LmZlZSwgbWVtbyA9IF9yZWYxNy5tZW1vOwogICAgICAgICAgICAgICAgX2NvbnRleHQ3LnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRUeENsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc2VudC5tc2dVcGdyYWRlQ2xpZW50KHZhbHVlKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgbXNnID0gX2NvbnRleHQ3LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRUeENsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zZW50LnNpZ25BbmRCcm9hZGNhc3QoW21zZ10sIHsKICAgICAgICAgICAgICAgICAgZmVlOiB7CiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBmZWUsCiAgICAgICAgICAgICAgICAgICAgZ2FzOiAiMjAwMDAwIgogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBtZW1vOiBtZW1vCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0Ny5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5hYnJ1cHQoInJldHVybiIsIHJlc3VsdCk7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBfY29udGV4dDcucHJldiA9IDE2OwogICAgICAgICAgICAgICAgX2NvbnRleHQ3LnQwID0gX2NvbnRleHQ3WyJjYXRjaCJdKDIpOwoKICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0Ny50MC50b1N0cmluZygpID09ICd3YWxsZXQgaXMgcmVxdWlyZWQnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3BWdWV4RXJyb3IoJ1R4Q2xpZW50Ok1zZ1VwZ3JhZGVDbGllbnQ6SW5pdCcsICdDb3VsZCBub3QgaW5pdGlhbGl6ZSBzaWduaW5nIGNsaWVudC4gV2FsbGV0IGlzIHJlcXVpcmVkLicpOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNwVnVleEVycm9yKCdUeENsaWVudDpNc2dVcGdyYWRlQ2xpZW50OlNlbmQnLCAnQ291bGQgbm90IGJyb2FkY2FzdCBUeC4nKTsKCiAgICAgICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNywgbnVsbCwgW1syLCAxNl1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2VuZE1zZ1VwZGF0ZUNsaWVudDogZnVuY3Rpb24gc2VuZE1zZ1VwZGF0ZUNsaWVudChfcmVmMTgsIF9yZWYxOSkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOCgpIHsKICAgICAgICB2YXIgcm9vdEdldHRlcnMsIHZhbHVlLCBmZWUsIG1lbW8sIG1zZywgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByb290R2V0dGVycyA9IF9yZWYxOC5yb290R2V0dGVyczsKICAgICAgICAgICAgICAgIHZhbHVlID0gX3JlZjE5LnZhbHVlLCBmZWUgPSBfcmVmMTkuZmVlLCBtZW1vID0gX3JlZjE5Lm1lbW87CiAgICAgICAgICAgICAgICBfY29udGV4dDgucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFR4Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zZW50Lm1zZ1VwZGF0ZUNsaWVudCh2YWx1ZSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIG1zZyA9IF9jb250ZXh0OC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0VHhDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc2VudC5zaWduQW5kQnJvYWRjYXN0KFttc2ddLCB7CiAgICAgICAgICAgICAgICAgIGZlZTogewogICAgICAgICAgICAgICAgICAgIGFtb3VudDogZmVlLAogICAgICAgICAgICAgICAgICAgIGdhczogIjIwMDAwMCIKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgbWVtbzogbWVtbwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDguc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguYWJydXB0KCJyZXR1cm4iLCByZXN1bHQpOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgX2NvbnRleHQ4LnByZXYgPSAxNjsKICAgICAgICAgICAgICAgIF9jb250ZXh0OC50MCA9IF9jb250ZXh0OFsiY2F0Y2giXSgyKTsKCiAgICAgICAgICAgICAgICBpZiAoIShfY29udGV4dDgudDAudG9TdHJpbmcoKSA9PSAnd2FsbGV0IGlzIHJlcXVpcmVkJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAyMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNwVnVleEVycm9yKCdUeENsaWVudDpNc2dVcGRhdGVDbGllbnQ6SW5pdCcsICdDb3VsZCBub3QgaW5pdGlhbGl6ZSBzaWduaW5nIGNsaWVudC4gV2FsbGV0IGlzIHJlcXVpcmVkLicpOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNwVnVleEVycm9yKCdUeENsaWVudDpNc2dVcGRhdGVDbGllbnQ6U2VuZCcsICdDb3VsZCBub3QgYnJvYWRjYXN0IFR4LicpOwoKICAgICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU4LCBudWxsLCBbWzIsIDE2XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzZW5kTXNnQ3JlYXRlQ2xpZW50OiBmdW5jdGlvbiBzZW5kTXNnQ3JlYXRlQ2xpZW50KF9yZWYyMCwgX3JlZjIxKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KCkgewogICAgICAgIHZhciByb290R2V0dGVycywgdmFsdWUsIGZlZSwgbWVtbywgbXNnLCByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJvb3RHZXR0ZXJzID0gX3JlZjIwLnJvb3RHZXR0ZXJzOwogICAgICAgICAgICAgICAgdmFsdWUgPSBfcmVmMjEudmFsdWUsIGZlZSA9IF9yZWYyMS5mZWUsIG1lbW8gPSBfcmVmMjEubWVtbzsKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5wcmV2ID0gMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0VHhDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnNlbnQubXNnQ3JlYXRlQ2xpZW50KHZhbHVlKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgbXNnID0gX2NvbnRleHQ5LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRUeENsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5zZW50LnNpZ25BbmRCcm9hZGNhc3QoW21zZ10sIHsKICAgICAgICAgICAgICAgICAgZmVlOiB7CiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBmZWUsCiAgICAgICAgICAgICAgICAgICAgZ2FzOiAiMjAwMDAwIgogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBtZW1vOiBtZW1vCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0OS5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5hYnJ1cHQoInJldHVybiIsIHJlc3VsdCk7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBfY29udGV4dDkucHJldiA9IDE2OwogICAgICAgICAgICAgICAgX2NvbnRleHQ5LnQwID0gX2NvbnRleHQ5WyJjYXRjaCJdKDIpOwoKICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0OS50MC50b1N0cmluZygpID09ICd3YWxsZXQgaXMgcmVxdWlyZWQnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3BWdWV4RXJyb3IoJ1R4Q2xpZW50Ok1zZ0NyZWF0ZUNsaWVudDpJbml0JywgJ0NvdWxkIG5vdCBpbml0aWFsaXplIHNpZ25pbmcgY2xpZW50LiBXYWxsZXQgaXMgcmVxdWlyZWQuJyk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3BWdWV4RXJyb3IoJ1R4Q2xpZW50Ok1zZ0NyZWF0ZUNsaWVudDpTZW5kJywgJ0NvdWxkIG5vdCBicm9hZGNhc3QgVHguJyk7CgogICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTksIG51bGwsIFtbMiwgMTZdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNlbmRNc2dTdWJtaXRNaXNiZWhhdmlvdXI6IGZ1bmN0aW9uIHNlbmRNc2dTdWJtaXRNaXNiZWhhdmlvdXIoX3JlZjIyLCBfcmVmMjMpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwKCkgewogICAgICAgIHZhciByb290R2V0dGVycywgdmFsdWUsIGZlZSwgbWVtbywgbXNnLCByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMCQoX2NvbnRleHQxMCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEwLnByZXYgPSBfY29udGV4dDEwLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByb290R2V0dGVycyA9IF9yZWYyMi5yb290R2V0dGVyczsKICAgICAgICAgICAgICAgIHZhbHVlID0gX3JlZjIzLnZhbHVlLCBmZWUgPSBfcmVmMjMuZmVlLCBtZW1vID0gX3JlZjIzLm1lbW87CiAgICAgICAgICAgICAgICBfY29udGV4dDEwLnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0VHhDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuc2VudC5tc2dTdWJtaXRNaXNiZWhhdmlvdXIodmFsdWUpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBtc2cgPSBfY29udGV4dDEwLnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0VHhDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zZW50LnNpZ25BbmRCcm9hZGNhc3QoW21zZ10sIHsKICAgICAgICAgICAgICAgICAgZmVlOiB7CiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBmZWUsCiAgICAgICAgICAgICAgICAgICAgZ2FzOiAiMjAwMDAwIgogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBtZW1vOiBtZW1vCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0MTAuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLmFicnVwdCgicmV0dXJuIiwgcmVzdWx0KTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAucHJldiA9IDE2OwogICAgICAgICAgICAgICAgX2NvbnRleHQxMC50MCA9IF9jb250ZXh0MTBbImNhdGNoIl0oMik7CgogICAgICAgICAgICAgICAgaWYgKCEoX2NvbnRleHQxMC50MC50b1N0cmluZygpID09ICd3YWxsZXQgaXMgcmVxdWlyZWQnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSAyMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNwVnVleEVycm9yKCdUeENsaWVudDpNc2dTdWJtaXRNaXNiZWhhdmlvdXI6SW5pdCcsICdDb3VsZCBub3QgaW5pdGlhbGl6ZSBzaWduaW5nIGNsaWVudC4gV2FsbGV0IGlzIHJlcXVpcmVkLicpOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNwVnVleEVycm9yKCdUeENsaWVudDpNc2dTdWJtaXRNaXNiZWhhdmlvdXI6U2VuZCcsICdDb3VsZCBub3QgYnJvYWRjYXN0IFR4LicpOwoKICAgICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTAsIG51bGwsIFtbMiwgMTZdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIE1zZ1VwZ3JhZGVDbGllbnQ6IGZ1bmN0aW9uIE1zZ1VwZ3JhZGVDbGllbnQoX3JlZjI0LCBfcmVmMjUpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTExKCkgewogICAgICAgIHZhciByb290R2V0dGVycywgdmFsdWUsIG1zZzsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTExJChfY29udGV4dDExKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTEucHJldiA9IF9jb250ZXh0MTEubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJvb3RHZXR0ZXJzID0gX3JlZjI0LnJvb3RHZXR0ZXJzOwogICAgICAgICAgICAgICAgdmFsdWUgPSBfcmVmMjUudmFsdWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDExLnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0VHhDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuc2VudC5tc2dVcGdyYWRlQ2xpZW50KHZhbHVlKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgbXNnID0gX2NvbnRleHQxMS5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuYWJydXB0KCJyZXR1cm4iLCBtc2cpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5wcmV2ID0gMTE7CiAgICAgICAgICAgICAgICBfY29udGV4dDExLnQwID0gX2NvbnRleHQxMVsiY2F0Y2giXSgyKTsKCiAgICAgICAgICAgICAgICBpZiAoIShfY29udGV4dDExLnQwLnRvU3RyaW5nKCkgPT0gJ3dhbGxldCBpcyByZXF1aXJlZCcpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3BWdWV4RXJyb3IoJ1R4Q2xpZW50Ok1zZ1VwZ3JhZGVDbGllbnQ6SW5pdCcsICdDb3VsZCBub3QgaW5pdGlhbGl6ZSBzaWduaW5nIGNsaWVudC4gV2FsbGV0IGlzIHJlcXVpcmVkLicpOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNwVnVleEVycm9yKCdUeENsaWVudDpNc2dVcGdyYWRlQ2xpZW50OkNyZWF0ZScsICdDb3VsZCBub3QgY3JlYXRlIG1lc3NhZ2UuJyk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMSwgbnVsbCwgW1syLCAxMV1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgTXNnVXBkYXRlQ2xpZW50OiBmdW5jdGlvbiBNc2dVcGRhdGVDbGllbnQoX3JlZjI2LCBfcmVmMjcpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEyKCkgewogICAgICAgIHZhciByb290R2V0dGVycywgdmFsdWUsIG1zZzsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyJChfY29udGV4dDEyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTIucHJldiA9IF9jb250ZXh0MTIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJvb3RHZXR0ZXJzID0gX3JlZjI2LnJvb3RHZXR0ZXJzOwogICAgICAgICAgICAgICAgdmFsdWUgPSBfcmVmMjcudmFsdWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDEyLnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0VHhDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuc2VudC5tc2dVcGRhdGVDbGllbnQodmFsdWUpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBtc2cgPSBfY29udGV4dDEyLnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5hYnJ1cHQoInJldHVybiIsIG1zZyk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDEyLnByZXYgPSAxMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTIudDAgPSBfY29udGV4dDEyWyJjYXRjaCJdKDIpOwoKICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0MTIudDAudG9TdHJpbmcoKSA9PSAnd2FsbGV0IGlzIHJlcXVpcmVkJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBTcFZ1ZXhFcnJvcignVHhDbGllbnQ6TXNnVXBkYXRlQ2xpZW50OkluaXQnLCAnQ291bGQgbm90IGluaXRpYWxpemUgc2lnbmluZyBjbGllbnQuIFdhbGxldCBpcyByZXF1aXJlZC4nKTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBTcFZ1ZXhFcnJvcignVHhDbGllbnQ6TXNnVXBkYXRlQ2xpZW50OkNyZWF0ZScsICdDb3VsZCBub3QgY3JlYXRlIG1lc3NhZ2UuJyk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMiwgbnVsbCwgW1syLCAxMV1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgTXNnQ3JlYXRlQ2xpZW50OiBmdW5jdGlvbiBNc2dDcmVhdGVDbGllbnQoX3JlZjI4LCBfcmVmMjkpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEzKCkgewogICAgICAgIHZhciByb290R2V0dGVycywgdmFsdWUsIG1zZzsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEzJChfY29udGV4dDEzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTMucHJldiA9IF9jb250ZXh0MTMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJvb3RHZXR0ZXJzID0gX3JlZjI4LnJvb3RHZXR0ZXJzOwogICAgICAgICAgICAgICAgdmFsdWUgPSBfcmVmMjkudmFsdWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0VHhDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuc2VudC5tc2dDcmVhdGVDbGllbnQodmFsdWUpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBtc2cgPSBfY29udGV4dDEzLnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5hYnJ1cHQoInJldHVybiIsIG1zZyk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLnByZXYgPSAxMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTMudDAgPSBfY29udGV4dDEzWyJjYXRjaCJdKDIpOwoKICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0MTMudDAudG9TdHJpbmcoKSA9PSAnd2FsbGV0IGlzIHJlcXVpcmVkJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBTcFZ1ZXhFcnJvcignVHhDbGllbnQ6TXNnQ3JlYXRlQ2xpZW50OkluaXQnLCAnQ291bGQgbm90IGluaXRpYWxpemUgc2lnbmluZyBjbGllbnQuIFdhbGxldCBpcyByZXF1aXJlZC4nKTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBTcFZ1ZXhFcnJvcignVHhDbGllbnQ6TXNnQ3JlYXRlQ2xpZW50OkNyZWF0ZScsICdDb3VsZCBub3QgY3JlYXRlIG1lc3NhZ2UuJyk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMywgbnVsbCwgW1syLCAxMV1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgTXNnU3VibWl0TWlzYmVoYXZpb3VyOiBmdW5jdGlvbiBNc2dTdWJtaXRNaXNiZWhhdmlvdXIoX3JlZjMwLCBfcmVmMzEpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE0KCkgewogICAgICAgIHZhciByb290R2V0dGVycywgdmFsdWUsIG1zZzsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE0JChfY29udGV4dDE0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTQucHJldiA9IF9jb250ZXh0MTQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJvb3RHZXR0ZXJzID0gX3JlZjMwLnJvb3RHZXR0ZXJzOwogICAgICAgICAgICAgICAgdmFsdWUgPSBfcmVmMzEudmFsdWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDE0LnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0VHhDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTQuc2VudC5tc2dTdWJtaXRNaXNiZWhhdmlvdXIodmFsdWUpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBtc2cgPSBfY29udGV4dDE0LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNC5hYnJ1cHQoInJldHVybiIsIG1zZyk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDE0LnByZXYgPSAxMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTQudDAgPSBfY29udGV4dDE0WyJjYXRjaCJdKDIpOwoKICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0MTQudDAudG9TdHJpbmcoKSA9PSAnd2FsbGV0IGlzIHJlcXVpcmVkJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBTcFZ1ZXhFcnJvcignVHhDbGllbnQ6TXNnU3VibWl0TWlzYmVoYXZpb3VyOkluaXQnLCAnQ291bGQgbm90IGluaXRpYWxpemUgc2lnbmluZyBjbGllbnQuIFdhbGxldCBpcyByZXF1aXJlZC4nKTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBTcFZ1ZXhFcnJvcignVHhDbGllbnQ6TXNnU3VibWl0TWlzYmVoYXZpb3VyOkNyZWF0ZScsICdDb3VsZCBub3QgY3JlYXRlIG1lc3NhZ2UuJyk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNCwgbnVsbCwgW1syLCAxMV1dKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/home/saptarsi/go/src/hackathon/shiaa3/vue/src/store/generated/cosmos/cosmos-sdk/ibc.core.client.v1/index.js"],"names":["txClient","queryClient","SpVuexError","IdentifiedClientState","ConsensusStateWithHeight","ClientConsensusStates","ClientUpdateProposal","Height","Params","GenesisMetadata","IdentifiedGenesisMetadata","initTxClient","vuexGetters","addr","initQueryClient","getStructure","template","structure","fields","Object","entries","key","value","field","name","type","push","getDefaultState","ClientState","ClientStates","ConsensusState","ConsensusStates","ClientParams","_Structure","fromPartial","_Subscriptions","Set","state","namespaced","mutations","RESET_STATE","assign","QUERY","query","JSON","stringify","SUBSCRIBE","subscription","add","UNSUBSCRIBE","delete","getters","getClientState","params","getClientStates","getConsensusState","getConsensusStates","getClientParams","getTypeStructure","actions","init","dispatch","rootGetters","console","log","on","resetState","commit","unsubscribe","StoreUpdate","forEach","action","payload","QueryClientState","options","subscribe","all","queryClientState","client_id","data","error","QueryClientStates","queryClientStates","pagination","nextKey","next_values","keys","prop","Array","isArray","QueryConsensusState","queryConsensusState","revision_number","revision_height","QueryConsensusStates","queryConsensusStates","QueryClientParams","queryClientParams","sendMsgUpgradeClient","fee","memo","msgUpgradeClient","msg","signAndBroadcast","amount","gas","result","toString","sendMsgUpdateClient","msgUpdateClient","sendMsgCreateClient","msgCreateClient","sendMsgSubmitMisbehaviour","msgSubmitMisbehaviour","MsgUpgradeClient","MsgUpdateClient","MsgCreateClient","MsgSubmitMisbehaviour"],"mappings":"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","sourcesContent":["import { txClient, queryClient } from './module';\n// @ts-ignore\nimport { SpVuexError } from '@starport/vuex';\nimport { IdentifiedClientState } from \"./module/types/ibc/core/client/v1/client\";\nimport { ConsensusStateWithHeight } from \"./module/types/ibc/core/client/v1/client\";\nimport { ClientConsensusStates } from \"./module/types/ibc/core/client/v1/client\";\nimport { ClientUpdateProposal } from \"./module/types/ibc/core/client/v1/client\";\nimport { Height } from \"./module/types/ibc/core/client/v1/client\";\nimport { Params } from \"./module/types/ibc/core/client/v1/client\";\nimport { GenesisMetadata } from \"./module/types/ibc/core/client/v1/genesis\";\nimport { IdentifiedGenesisMetadata } from \"./module/types/ibc/core/client/v1/genesis\";\nasync function initTxClient(vuexGetters) {\n    return await txClient(vuexGetters['common/wallet/signer'], {\n        addr: vuexGetters['common/env/apiTendermint']\n    });\n}\nasync function initQueryClient(vuexGetters) {\n    return await queryClient({\n        addr: vuexGetters['common/env/apiCosmos']\n    });\n}\nfunction getStructure(template) {\n    let structure = { fields: [] };\n    for (const [key, value] of Object.entries(template)) {\n        let field = {};\n        field.name = key;\n        field.type = typeof value;\n        structure.fields.push(field);\n    }\n    return structure;\n}\nconst getDefaultState = () => {\n    return {\n        ClientState: {},\n        ClientStates: {},\n        ConsensusState: {},\n        ConsensusStates: {},\n        ClientParams: {},\n        _Structure: {\n            IdentifiedClientState: getStructure(IdentifiedClientState.fromPartial({})),\n            ConsensusStateWithHeight: getStructure(ConsensusStateWithHeight.fromPartial({})),\n            ClientConsensusStates: getStructure(ClientConsensusStates.fromPartial({})),\n            ClientUpdateProposal: getStructure(ClientUpdateProposal.fromPartial({})),\n            Height: getStructure(Height.fromPartial({})),\n            Params: getStructure(Params.fromPartial({})),\n            GenesisMetadata: getStructure(GenesisMetadata.fromPartial({})),\n            IdentifiedGenesisMetadata: getStructure(IdentifiedGenesisMetadata.fromPartial({})),\n        },\n        _Subscriptions: new Set(),\n    };\n};\n// initial state\nconst state = getDefaultState();\nexport default {\n    namespaced: true,\n    state,\n    mutations: {\n        RESET_STATE(state) {\n            Object.assign(state, getDefaultState());\n        },\n        QUERY(state, { query, key, value }) {\n            state[query][JSON.stringify(key)] = value;\n        },\n        SUBSCRIBE(state, subscription) {\n            state._Subscriptions.add(subscription);\n        },\n        UNSUBSCRIBE(state, subscription) {\n            state._Subscriptions.delete(subscription);\n        }\n    },\n    getters: {\n        getClientState: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.ClientState[JSON.stringify(params)] ?? {};\n        },\n        getClientStates: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.ClientStates[JSON.stringify(params)] ?? {};\n        },\n        getConsensusState: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.ConsensusState[JSON.stringify(params)] ?? {};\n        },\n        getConsensusStates: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.ConsensusStates[JSON.stringify(params)] ?? {};\n        },\n        getClientParams: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.ClientParams[JSON.stringify(params)] ?? {};\n        },\n        getTypeStructure: (state) => (type) => {\n            return state._Structure[type].fields;\n        }\n    },\n    actions: {\n        init({ dispatch, rootGetters }) {\n            console.log('init');\n            if (rootGetters['common/env/client']) {\n                rootGetters['common/env/client'].on('newblock', () => {\n                    dispatch('StoreUpdate');\n                });\n            }\n        },\n        resetState({ commit }) {\n            commit('RESET_STATE');\n        },\n        unsubscribe({ commit }, subscription) {\n            commit('UNSUBSCRIBE', subscription);\n        },\n        async StoreUpdate({ state, dispatch }) {\n            state._Subscriptions.forEach((subscription) => {\n                dispatch(subscription.action, subscription.payload);\n            });\n        },\n        async QueryClientState({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryClientState(key.client_id, query)).data : (await (await initQueryClient(rootGetters)).queryClientState(key.client_id)).data;\n                commit('QUERY', { query: 'ClientState', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryClientState', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getClientState']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryClientState', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryClientStates({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryClientStates(query)).data : (await (await initQueryClient(rootGetters)).queryClientStates()).data;\n                while (all && value.pagination && value.pagination.nextKey != null) {\n                    let next_values = (await (await initQueryClient(rootGetters)).queryClientStates({ ...query, 'pagination.key': value.pagination.nextKey })).data;\n                    for (let prop of Object.keys(next_values)) {\n                        if (Array.isArray(next_values[prop])) {\n                            value[prop] = [...value[prop], ...next_values[prop]];\n                        }\n                        else {\n                            value[prop] = next_values[prop];\n                        }\n                    }\n                }\n                commit('QUERY', { query: 'ClientStates', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryClientStates', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getClientStates']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryClientStates', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryConsensusState({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryConsensusState(key.client_id, key.revision_number, key.revision_height, query)).data : (await (await initQueryClient(rootGetters)).queryConsensusState(key.client_id, key.revision_number, key.revision_height)).data;\n                while (all && value.pagination && value.pagination.nextKey != null) {\n                    let next_values = (await (await initQueryClient(rootGetters)).queryConsensusState(key.client_id, key.revision_number, key.revision_height, { ...query, 'pagination.key': value.pagination.nextKey })).data;\n                    for (let prop of Object.keys(next_values)) {\n                        if (Array.isArray(next_values[prop])) {\n                            value[prop] = [...value[prop], ...next_values[prop]];\n                        }\n                        else {\n                            value[prop] = next_values[prop];\n                        }\n                    }\n                }\n                commit('QUERY', { query: 'ConsensusState', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryConsensusState', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getConsensusState']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryConsensusState', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryConsensusStates({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryConsensusStates(key.client_id, query)).data : (await (await initQueryClient(rootGetters)).queryConsensusStates(key.client_id)).data;\n                while (all && value.pagination && value.pagination.nextKey != null) {\n                    let next_values = (await (await initQueryClient(rootGetters)).queryConsensusStates(key.client_id, { ...query, 'pagination.key': value.pagination.nextKey })).data;\n                    for (let prop of Object.keys(next_values)) {\n                        if (Array.isArray(next_values[prop])) {\n                            value[prop] = [...value[prop], ...next_values[prop]];\n                        }\n                        else {\n                            value[prop] = next_values[prop];\n                        }\n                    }\n                }\n                commit('QUERY', { query: 'ConsensusStates', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryConsensusStates', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getConsensusStates']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryConsensusStates', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryClientParams({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryClientParams(query)).data : (await (await initQueryClient(rootGetters)).queryClientParams()).data;\n                commit('QUERY', { query: 'ClientParams', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryClientParams', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getClientParams']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryClientParams', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async sendMsgUpgradeClient({ rootGetters }, { value, fee, memo }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgUpgradeClient(value);\n                const result = await (await initTxClient(rootGetters)).signAndBroadcast([msg], { fee: { amount: fee,\n                        gas: \"200000\" }, memo });\n                return result;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgUpgradeClient:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgUpgradeClient:Send', 'Could not broadcast Tx.');\n                }\n            }\n        },\n        async sendMsgUpdateClient({ rootGetters }, { value, fee, memo }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgUpdateClient(value);\n                const result = await (await initTxClient(rootGetters)).signAndBroadcast([msg], { fee: { amount: fee,\n                        gas: \"200000\" }, memo });\n                return result;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgUpdateClient:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgUpdateClient:Send', 'Could not broadcast Tx.');\n                }\n            }\n        },\n        async sendMsgCreateClient({ rootGetters }, { value, fee, memo }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgCreateClient(value);\n                const result = await (await initTxClient(rootGetters)).signAndBroadcast([msg], { fee: { amount: fee,\n                        gas: \"200000\" }, memo });\n                return result;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgCreateClient:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgCreateClient:Send', 'Could not broadcast Tx.');\n                }\n            }\n        },\n        async sendMsgSubmitMisbehaviour({ rootGetters }, { value, fee, memo }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgSubmitMisbehaviour(value);\n                const result = await (await initTxClient(rootGetters)).signAndBroadcast([msg], { fee: { amount: fee,\n                        gas: \"200000\" }, memo });\n                return result;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgSubmitMisbehaviour:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgSubmitMisbehaviour:Send', 'Could not broadcast Tx.');\n                }\n            }\n        },\n        async MsgUpgradeClient({ rootGetters }, { value }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgUpgradeClient(value);\n                return msg;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgUpgradeClient:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgUpgradeClient:Create', 'Could not create message.');\n                }\n            }\n        },\n        async MsgUpdateClient({ rootGetters }, { value }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgUpdateClient(value);\n                return msg;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgUpdateClient:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgUpdateClient:Create', 'Could not create message.');\n                }\n            }\n        },\n        async MsgCreateClient({ rootGetters }, { value }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgCreateClient(value);\n                return msg;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgCreateClient:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgCreateClient:Create', 'Could not create message.');\n                }\n            }\n        },\n        async MsgSubmitMisbehaviour({ rootGetters }, { value }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgSubmitMisbehaviour(value);\n                return msg;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgSubmitMisbehaviour:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgSubmitMisbehaviour:Create', 'Could not create message.');\n                }\n            }\n        },\n    }\n};\n"]}]}