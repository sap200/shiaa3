{"remainingRequest":"/home/saptarsi/go/src/hackathon/shiaa3/vue/node_modules/babel-loader/lib/index.js!/home/saptarsi/go/src/hackathon/shiaa3/vue/node_modules/eslint-loader/index.js??ref--13-0!/home/saptarsi/go/src/hackathon/shiaa3/vue/src/store/generated/cosmos/cosmos-sdk/ibc.core.channel.v1/module/types/ibc/core/channel/v1/tx.js","dependencies":[{"path":"/home/saptarsi/go/src/hackathon/shiaa3/vue/src/store/generated/cosmos/cosmos-sdk/ibc.core.channel.v1/module/types/ibc/core/channel/v1/tx.js","mtime":1616424851716},{"path":"/home/saptarsi/go/src/hackathon/shiaa3/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/saptarsi/go/src/hackathon/shiaa3/vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/saptarsi/go/src/hackathon/shiaa3/vue/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5tYXgtc2FmZS1pbnRlZ2VyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS51aW50OC1hcnJheS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmNvcHktd2l0aGluLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZXZlcnkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maWxsLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaW5kZXgtb2YuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5sYXN0LWluZGV4LW9mLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkucmVkdWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkucmVkdWNlLXJpZ2h0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkucmV2ZXJzZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNldC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc29tZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNvcnQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zdWJhcnJheS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnRvLWxvY2FsZS1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLnRvLWpzb24uanMiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9ob21lL3NhcHRhcnNpL2dvL3NyYy9oYWNrYXRob24vc2hpYWEzL3Z1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9ob21lL3NhcHRhcnNpL2dvL3NyYy9oYWNrYXRob24vc2hpYWEzL3Z1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvaG9tZS9zYXB0YXJzaS9nby9zcmMvaGFja2F0aG9uL3NoaWFhMy92dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwoKLyogZXNsaW50LWRpc2FibGUgKi8KaW1wb3J0IHsgUmVhZGVyLCB1dGlsLCBjb25maWd1cmUsIFdyaXRlciB9IGZyb20gInByb3RvYnVmanMvbWluaW1hbCI7CmltcG9ydCAqIGFzIExvbmcgZnJvbSAibG9uZyI7CmltcG9ydCB7IENoYW5uZWwsIFBhY2tldCB9IGZyb20gIi4uLy4uLy4uLy4uL2liYy9jb3JlL2NoYW5uZWwvdjEvY2hhbm5lbCI7CmltcG9ydCB7IEhlaWdodCB9IGZyb20gIi4uLy4uLy4uLy4uL2liYy9jb3JlL2NsaWVudC92MS9jbGllbnQiOwpleHBvcnQgdmFyIHByb3RvYnVmUGFja2FnZSA9ICJpYmMuY29yZS5jaGFubmVsLnYxIjsKdmFyIGJhc2VNc2dDaGFubmVsT3BlbkluaXQgPSB7CiAgcG9ydElkOiAiIiwKICBzaWduZXI6ICIiCn07CmV4cG9ydCB2YXIgTXNnQ2hhbm5lbE9wZW5Jbml0ID0gewogIGVuY29kZTogZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UpIHsKICAgIHZhciB3cml0ZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFdyaXRlci5jcmVhdGUoKTsKCiAgICBpZiAobWVzc2FnZS5wb3J0SWQgIT09ICIiKSB7CiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLnBvcnRJZCk7CiAgICB9CgogICAgaWYgKG1lc3NhZ2UuY2hhbm5lbCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIENoYW5uZWwuZW5jb2RlKG1lc3NhZ2UuY2hhbm5lbCwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTsKICAgIH0KCiAgICBpZiAobWVzc2FnZS5zaWduZXIgIT09ICIiKSB7CiAgICAgIHdyaXRlci51aW50MzIoMjYpLnN0cmluZyhtZXNzYWdlLnNpZ25lcik7CiAgICB9CgogICAgcmV0dXJuIHdyaXRlcjsKICB9LAogIGRlY29kZTogZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHsKICAgIHZhciByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgPyBuZXcgUmVhZGVyKGlucHV0KSA6IGlucHV0OwogICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7CgogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlTXNnQ2hhbm5lbE9wZW5Jbml0KTsKCiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkgewogICAgICB2YXIgdGFnID0gcmVhZGVyLnVpbnQzMigpOwoKICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHsKICAgICAgICBjYXNlIDE6CiAgICAgICAgICBtZXNzYWdlLnBvcnRJZCA9IHJlYWRlci5zdHJpbmcoKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDI6CiAgICAgICAgICBtZXNzYWdlLmNoYW5uZWwgPSBDaGFubmVsLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAzOgogICAgICAgICAgbWVzc2FnZS5zaWduZXIgPSByZWFkZXIuc3RyaW5nKCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfSwKICBmcm9tSlNPTjogZnVuY3Rpb24gZnJvbUpTT04ob2JqZWN0KSB7CiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VNc2dDaGFubmVsT3BlbkluaXQpOwoKICAgIGlmIChvYmplY3QucG9ydElkICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnBvcnRJZCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLnBvcnRJZCA9IFN0cmluZyhvYmplY3QucG9ydElkKTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UucG9ydElkID0gIiI7CiAgICB9CgogICAgaWYgKG9iamVjdC5jaGFubmVsICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmNoYW5uZWwgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5jaGFubmVsID0gQ2hhbm5lbC5mcm9tSlNPTihvYmplY3QuY2hhbm5lbCk7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLmNoYW5uZWwgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgaWYgKG9iamVjdC5zaWduZXIgIT09IHVuZGVmaW5lZCAmJiBvYmplY3Quc2lnbmVyICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2Uuc2lnbmVyID0gU3RyaW5nKG9iamVjdC5zaWduZXIpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5zaWduZXIgPSAiIjsKICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9LAogIHRvSlNPTjogZnVuY3Rpb24gdG9KU09OKG1lc3NhZ2UpIHsKICAgIHZhciBvYmogPSB7fTsKICAgIG1lc3NhZ2UucG9ydElkICE9PSB1bmRlZmluZWQgJiYgKG9iai5wb3J0SWQgPSBtZXNzYWdlLnBvcnRJZCk7CiAgICBtZXNzYWdlLmNoYW5uZWwgIT09IHVuZGVmaW5lZCAmJiAob2JqLmNoYW5uZWwgPSBtZXNzYWdlLmNoYW5uZWwgPyBDaGFubmVsLnRvSlNPTihtZXNzYWdlLmNoYW5uZWwpIDogdW5kZWZpbmVkKTsKICAgIG1lc3NhZ2Uuc2lnbmVyICE9PSB1bmRlZmluZWQgJiYgKG9iai5zaWduZXIgPSBtZXNzYWdlLnNpZ25lcik7CiAgICByZXR1cm4gb2JqOwogIH0sCiAgZnJvbVBhcnRpYWw6IGZ1bmN0aW9uIGZyb21QYXJ0aWFsKG9iamVjdCkgewogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlTXNnQ2hhbm5lbE9wZW5Jbml0KTsKCiAgICBpZiAob2JqZWN0LnBvcnRJZCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wb3J0SWQgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5wb3J0SWQgPSBvYmplY3QucG9ydElkOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5wb3J0SWQgPSAiIjsKICAgIH0KCiAgICBpZiAob2JqZWN0LmNoYW5uZWwgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuY2hhbm5lbCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLmNoYW5uZWwgPSBDaGFubmVsLmZyb21QYXJ0aWFsKG9iamVjdC5jaGFubmVsKTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UuY2hhbm5lbCA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICBpZiAob2JqZWN0LnNpZ25lciAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5zaWduZXIgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5zaWduZXIgPSBvYmplY3Quc2lnbmVyOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5zaWduZXIgPSAiIjsKICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9Cn07CnZhciBiYXNlTXNnQ2hhbm5lbE9wZW5Jbml0UmVzcG9uc2UgPSB7fTsKZXhwb3J0IHZhciBNc2dDaGFubmVsT3BlbkluaXRSZXNwb25zZSA9IHsKICBlbmNvZGU6IGZ1bmN0aW9uIGVuY29kZShfKSB7CiAgICB2YXIgd3JpdGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBXcml0ZXIuY3JlYXRlKCk7CiAgICByZXR1cm4gd3JpdGVyOwogIH0sCiAgZGVjb2RlOiBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkgewogICAgdmFyIHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgVWludDhBcnJheSA/IG5ldyBSZWFkZXIoaW5wdXQpIDogaW5wdXQ7CiAgICB2YXIgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDsKCiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VNc2dDaGFubmVsT3BlbkluaXRSZXNwb25zZSk7CgogICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHsKICAgICAgdmFyIHRhZyA9IHJlYWRlci51aW50MzIoKTsKCiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfSwKICBmcm9tSlNPTjogZnVuY3Rpb24gZnJvbUpTT04oXykgewogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlTXNnQ2hhbm5lbE9wZW5Jbml0UmVzcG9uc2UpOwoKICAgIHJldHVybiBtZXNzYWdlOwogIH0sCiAgdG9KU09OOiBmdW5jdGlvbiB0b0pTT04oXykgewogICAgdmFyIG9iaiA9IHt9OwogICAgcmV0dXJuIG9iajsKICB9LAogIGZyb21QYXJ0aWFsOiBmdW5jdGlvbiBmcm9tUGFydGlhbChfKSB7CiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VNc2dDaGFubmVsT3BlbkluaXRSZXNwb25zZSk7CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfQp9Owp2YXIgYmFzZU1zZ0NoYW5uZWxPcGVuVHJ5ID0gewogIHBvcnRJZDogIiIsCiAgcHJldmlvdXNDaGFubmVsSWQ6ICIiLAogIGNvdW50ZXJwYXJ0eVZlcnNpb246ICIiLAogIHNpZ25lcjogIiIKfTsKZXhwb3J0IHZhciBNc2dDaGFubmVsT3BlblRyeSA9IHsKICBlbmNvZGU6IGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlKSB7CiAgICB2YXIgd3JpdGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBXcml0ZXIuY3JlYXRlKCk7CgogICAgaWYgKG1lc3NhZ2UucG9ydElkICE9PSAiIikgewogICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5wb3J0SWQpOwogICAgfQoKICAgIGlmIChtZXNzYWdlLnByZXZpb3VzQ2hhbm5lbElkICE9PSAiIikgewogICAgICB3cml0ZXIudWludDMyKDE4KS5zdHJpbmcobWVzc2FnZS5wcmV2aW91c0NoYW5uZWxJZCk7CiAgICB9CgogICAgaWYgKG1lc3NhZ2UuY2hhbm5lbCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIENoYW5uZWwuZW5jb2RlKG1lc3NhZ2UuY2hhbm5lbCwgd3JpdGVyLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKTsKICAgIH0KCiAgICBpZiAobWVzc2FnZS5jb3VudGVycGFydHlWZXJzaW9uICE9PSAiIikgewogICAgICB3cml0ZXIudWludDMyKDM0KS5zdHJpbmcobWVzc2FnZS5jb3VudGVycGFydHlWZXJzaW9uKTsKICAgIH0KCiAgICBpZiAobWVzc2FnZS5wcm9vZkluaXQubGVuZ3RoICE9PSAwKSB7CiAgICAgIHdyaXRlci51aW50MzIoNDIpLmJ5dGVzKG1lc3NhZ2UucHJvb2ZJbml0KTsKICAgIH0KCiAgICBpZiAobWVzc2FnZS5wcm9vZkhlaWdodCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIEhlaWdodC5lbmNvZGUobWVzc2FnZS5wcm9vZkhlaWdodCwgd3JpdGVyLnVpbnQzMig1MCkuZm9yaygpKS5sZGVsaW0oKTsKICAgIH0KCiAgICBpZiAobWVzc2FnZS5zaWduZXIgIT09ICIiKSB7CiAgICAgIHdyaXRlci51aW50MzIoNTgpLnN0cmluZyhtZXNzYWdlLnNpZ25lcik7CiAgICB9CgogICAgcmV0dXJuIHdyaXRlcjsKICB9LAogIGRlY29kZTogZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHsKICAgIHZhciByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgPyBuZXcgUmVhZGVyKGlucHV0KSA6IGlucHV0OwogICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7CgogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlTXNnQ2hhbm5lbE9wZW5UcnkpOwoKICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7CiAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7CgogICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykgewogICAgICAgIGNhc2UgMToKICAgICAgICAgIG1lc3NhZ2UucG9ydElkID0gcmVhZGVyLnN0cmluZygpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMjoKICAgICAgICAgIG1lc3NhZ2UucHJldmlvdXNDaGFubmVsSWQgPSByZWFkZXIuc3RyaW5nKCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAzOgogICAgICAgICAgbWVzc2FnZS5jaGFubmVsID0gQ2hhbm5lbC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgNDoKICAgICAgICAgIG1lc3NhZ2UuY291bnRlcnBhcnR5VmVyc2lvbiA9IHJlYWRlci5zdHJpbmcoKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDU6CiAgICAgICAgICBtZXNzYWdlLnByb29mSW5pdCA9IHJlYWRlci5ieXRlcygpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgNjoKICAgICAgICAgIG1lc3NhZ2UucHJvb2ZIZWlnaHQgPSBIZWlnaHQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDc6CiAgICAgICAgICBtZXNzYWdlLnNpZ25lciA9IHJlYWRlci5zdHJpbmcoKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9LAogIGZyb21KU09OOiBmdW5jdGlvbiBmcm9tSlNPTihvYmplY3QpIHsKICAgIHZhciBtZXNzYWdlID0gX29iamVjdFNwcmVhZCh7fSwgYmFzZU1zZ0NoYW5uZWxPcGVuVHJ5KTsKCiAgICBpZiAob2JqZWN0LnBvcnRJZCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wb3J0SWQgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5wb3J0SWQgPSBTdHJpbmcob2JqZWN0LnBvcnRJZCk7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLnBvcnRJZCA9ICIiOwogICAgfQoKICAgIGlmIChvYmplY3QucHJldmlvdXNDaGFubmVsSWQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucHJldmlvdXNDaGFubmVsSWQgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5wcmV2aW91c0NoYW5uZWxJZCA9IFN0cmluZyhvYmplY3QucHJldmlvdXNDaGFubmVsSWQpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5wcmV2aW91c0NoYW5uZWxJZCA9ICIiOwogICAgfQoKICAgIGlmIChvYmplY3QuY2hhbm5lbCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5jaGFubmVsICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UuY2hhbm5lbCA9IENoYW5uZWwuZnJvbUpTT04ob2JqZWN0LmNoYW5uZWwpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5jaGFubmVsID0gdW5kZWZpbmVkOwogICAgfQoKICAgIGlmIChvYmplY3QuY291bnRlcnBhcnR5VmVyc2lvbiAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5jb3VudGVycGFydHlWZXJzaW9uICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UuY291bnRlcnBhcnR5VmVyc2lvbiA9IFN0cmluZyhvYmplY3QuY291bnRlcnBhcnR5VmVyc2lvbik7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLmNvdW50ZXJwYXJ0eVZlcnNpb24gPSAiIjsKICAgIH0KCiAgICBpZiAob2JqZWN0LnByb29mSW5pdCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wcm9vZkluaXQgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5wcm9vZkluaXQgPSBieXRlc0Zyb21CYXNlNjQob2JqZWN0LnByb29mSW5pdCk7CiAgICB9CgogICAgaWYgKG9iamVjdC5wcm9vZkhlaWdodCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wcm9vZkhlaWdodCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLnByb29mSGVpZ2h0ID0gSGVpZ2h0LmZyb21KU09OKG9iamVjdC5wcm9vZkhlaWdodCk7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLnByb29mSGVpZ2h0ID0gdW5kZWZpbmVkOwogICAgfQoKICAgIGlmIChvYmplY3Quc2lnbmVyICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnNpZ25lciAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLnNpZ25lciA9IFN0cmluZyhvYmplY3Quc2lnbmVyKTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2Uuc2lnbmVyID0gIiI7CiAgICB9CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfSwKICB0b0pTT046IGZ1bmN0aW9uIHRvSlNPTihtZXNzYWdlKSB7CiAgICB2YXIgb2JqID0ge307CiAgICBtZXNzYWdlLnBvcnRJZCAhPT0gdW5kZWZpbmVkICYmIChvYmoucG9ydElkID0gbWVzc2FnZS5wb3J0SWQpOwogICAgbWVzc2FnZS5wcmV2aW91c0NoYW5uZWxJZCAhPT0gdW5kZWZpbmVkICYmIChvYmoucHJldmlvdXNDaGFubmVsSWQgPSBtZXNzYWdlLnByZXZpb3VzQ2hhbm5lbElkKTsKICAgIG1lc3NhZ2UuY2hhbm5lbCAhPT0gdW5kZWZpbmVkICYmIChvYmouY2hhbm5lbCA9IG1lc3NhZ2UuY2hhbm5lbCA/IENoYW5uZWwudG9KU09OKG1lc3NhZ2UuY2hhbm5lbCkgOiB1bmRlZmluZWQpOwogICAgbWVzc2FnZS5jb3VudGVycGFydHlWZXJzaW9uICE9PSB1bmRlZmluZWQgJiYgKG9iai5jb3VudGVycGFydHlWZXJzaW9uID0gbWVzc2FnZS5jb3VudGVycGFydHlWZXJzaW9uKTsKICAgIG1lc3NhZ2UucHJvb2ZJbml0ICE9PSB1bmRlZmluZWQgJiYgKG9iai5wcm9vZkluaXQgPSBiYXNlNjRGcm9tQnl0ZXMobWVzc2FnZS5wcm9vZkluaXQgIT09IHVuZGVmaW5lZCA/IG1lc3NhZ2UucHJvb2ZJbml0IDogbmV3IFVpbnQ4QXJyYXkoKSkpOwogICAgbWVzc2FnZS5wcm9vZkhlaWdodCAhPT0gdW5kZWZpbmVkICYmIChvYmoucHJvb2ZIZWlnaHQgPSBtZXNzYWdlLnByb29mSGVpZ2h0ID8gSGVpZ2h0LnRvSlNPTihtZXNzYWdlLnByb29mSGVpZ2h0KSA6IHVuZGVmaW5lZCk7CiAgICBtZXNzYWdlLnNpZ25lciAhPT0gdW5kZWZpbmVkICYmIChvYmouc2lnbmVyID0gbWVzc2FnZS5zaWduZXIpOwogICAgcmV0dXJuIG9iajsKICB9LAogIGZyb21QYXJ0aWFsOiBmdW5jdGlvbiBmcm9tUGFydGlhbChvYmplY3QpIHsKICAgIHZhciBtZXNzYWdlID0gX29iamVjdFNwcmVhZCh7fSwgYmFzZU1zZ0NoYW5uZWxPcGVuVHJ5KTsKCiAgICBpZiAob2JqZWN0LnBvcnRJZCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wb3J0SWQgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5wb3J0SWQgPSBvYmplY3QucG9ydElkOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5wb3J0SWQgPSAiIjsKICAgIH0KCiAgICBpZiAob2JqZWN0LnByZXZpb3VzQ2hhbm5lbElkICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnByZXZpb3VzQ2hhbm5lbElkICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UucHJldmlvdXNDaGFubmVsSWQgPSBvYmplY3QucHJldmlvdXNDaGFubmVsSWQ7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLnByZXZpb3VzQ2hhbm5lbElkID0gIiI7CiAgICB9CgogICAgaWYgKG9iamVjdC5jaGFubmVsICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmNoYW5uZWwgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5jaGFubmVsID0gQ2hhbm5lbC5mcm9tUGFydGlhbChvYmplY3QuY2hhbm5lbCk7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLmNoYW5uZWwgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgaWYgKG9iamVjdC5jb3VudGVycGFydHlWZXJzaW9uICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmNvdW50ZXJwYXJ0eVZlcnNpb24gIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5jb3VudGVycGFydHlWZXJzaW9uID0gb2JqZWN0LmNvdW50ZXJwYXJ0eVZlcnNpb247CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLmNvdW50ZXJwYXJ0eVZlcnNpb24gPSAiIjsKICAgIH0KCiAgICBpZiAob2JqZWN0LnByb29mSW5pdCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wcm9vZkluaXQgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5wcm9vZkluaXQgPSBvYmplY3QucHJvb2ZJbml0OwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5wcm9vZkluaXQgPSBuZXcgVWludDhBcnJheSgpOwogICAgfQoKICAgIGlmIChvYmplY3QucHJvb2ZIZWlnaHQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucHJvb2ZIZWlnaHQgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5wcm9vZkhlaWdodCA9IEhlaWdodC5mcm9tUGFydGlhbChvYmplY3QucHJvb2ZIZWlnaHQpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5wcm9vZkhlaWdodCA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICBpZiAob2JqZWN0LnNpZ25lciAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5zaWduZXIgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5zaWduZXIgPSBvYmplY3Quc2lnbmVyOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5zaWduZXIgPSAiIjsKICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9Cn07CnZhciBiYXNlTXNnQ2hhbm5lbE9wZW5UcnlSZXNwb25zZSA9IHt9OwpleHBvcnQgdmFyIE1zZ0NoYW5uZWxPcGVuVHJ5UmVzcG9uc2UgPSB7CiAgZW5jb2RlOiBmdW5jdGlvbiBlbmNvZGUoXykgewogICAgdmFyIHdyaXRlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogV3JpdGVyLmNyZWF0ZSgpOwogICAgcmV0dXJuIHdyaXRlcjsKICB9LAogIGRlY29kZTogZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHsKICAgIHZhciByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgPyBuZXcgUmVhZGVyKGlucHV0KSA6IGlucHV0OwogICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7CgogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlTXNnQ2hhbm5lbE9wZW5UcnlSZXNwb25zZSk7CgogICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHsKICAgICAgdmFyIHRhZyA9IHJlYWRlci51aW50MzIoKTsKCiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfSwKICBmcm9tSlNPTjogZnVuY3Rpb24gZnJvbUpTT04oXykgewogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlTXNnQ2hhbm5lbE9wZW5UcnlSZXNwb25zZSk7CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfSwKICB0b0pTT046IGZ1bmN0aW9uIHRvSlNPTihfKSB7CiAgICB2YXIgb2JqID0ge307CiAgICByZXR1cm4gb2JqOwogIH0sCiAgZnJvbVBhcnRpYWw6IGZ1bmN0aW9uIGZyb21QYXJ0aWFsKF8pIHsKICAgIHZhciBtZXNzYWdlID0gX29iamVjdFNwcmVhZCh7fSwgYmFzZU1zZ0NoYW5uZWxPcGVuVHJ5UmVzcG9uc2UpOwoKICAgIHJldHVybiBtZXNzYWdlOwogIH0KfTsKdmFyIGJhc2VNc2dDaGFubmVsT3BlbkFjayA9IHsKICBwb3J0SWQ6ICIiLAogIGNoYW5uZWxJZDogIiIsCiAgY291bnRlcnBhcnR5Q2hhbm5lbElkOiAiIiwKICBjb3VudGVycGFydHlWZXJzaW9uOiAiIiwKICBzaWduZXI6ICIiCn07CmV4cG9ydCB2YXIgTXNnQ2hhbm5lbE9wZW5BY2sgPSB7CiAgZW5jb2RlOiBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSkgewogICAgdmFyIHdyaXRlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogV3JpdGVyLmNyZWF0ZSgpOwoKICAgIGlmIChtZXNzYWdlLnBvcnRJZCAhPT0gIiIpIHsKICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UucG9ydElkKTsKICAgIH0KCiAgICBpZiAobWVzc2FnZS5jaGFubmVsSWQgIT09ICIiKSB7CiAgICAgIHdyaXRlci51aW50MzIoMTgpLnN0cmluZyhtZXNzYWdlLmNoYW5uZWxJZCk7CiAgICB9CgogICAgaWYgKG1lc3NhZ2UuY291bnRlcnBhcnR5Q2hhbm5lbElkICE9PSAiIikgewogICAgICB3cml0ZXIudWludDMyKDI2KS5zdHJpbmcobWVzc2FnZS5jb3VudGVycGFydHlDaGFubmVsSWQpOwogICAgfQoKICAgIGlmIChtZXNzYWdlLmNvdW50ZXJwYXJ0eVZlcnNpb24gIT09ICIiKSB7CiAgICAgIHdyaXRlci51aW50MzIoMzQpLnN0cmluZyhtZXNzYWdlLmNvdW50ZXJwYXJ0eVZlcnNpb24pOwogICAgfQoKICAgIGlmIChtZXNzYWdlLnByb29mVHJ5Lmxlbmd0aCAhPT0gMCkgewogICAgICB3cml0ZXIudWludDMyKDQyKS5ieXRlcyhtZXNzYWdlLnByb29mVHJ5KTsKICAgIH0KCiAgICBpZiAobWVzc2FnZS5wcm9vZkhlaWdodCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIEhlaWdodC5lbmNvZGUobWVzc2FnZS5wcm9vZkhlaWdodCwgd3JpdGVyLnVpbnQzMig1MCkuZm9yaygpKS5sZGVsaW0oKTsKICAgIH0KCiAgICBpZiAobWVzc2FnZS5zaWduZXIgIT09ICIiKSB7CiAgICAgIHdyaXRlci51aW50MzIoNTgpLnN0cmluZyhtZXNzYWdlLnNpZ25lcik7CiAgICB9CgogICAgcmV0dXJuIHdyaXRlcjsKICB9LAogIGRlY29kZTogZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHsKICAgIHZhciByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgPyBuZXcgUmVhZGVyKGlucHV0KSA6IGlucHV0OwogICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7CgogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlTXNnQ2hhbm5lbE9wZW5BY2spOwoKICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7CiAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7CgogICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykgewogICAgICAgIGNhc2UgMToKICAgICAgICAgIG1lc3NhZ2UucG9ydElkID0gcmVhZGVyLnN0cmluZygpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMjoKICAgICAgICAgIG1lc3NhZ2UuY2hhbm5lbElkID0gcmVhZGVyLnN0cmluZygpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMzoKICAgICAgICAgIG1lc3NhZ2UuY291bnRlcnBhcnR5Q2hhbm5lbElkID0gcmVhZGVyLnN0cmluZygpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgNDoKICAgICAgICAgIG1lc3NhZ2UuY291bnRlcnBhcnR5VmVyc2lvbiA9IHJlYWRlci5zdHJpbmcoKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDU6CiAgICAgICAgICBtZXNzYWdlLnByb29mVHJ5ID0gcmVhZGVyLmJ5dGVzKCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSA2OgogICAgICAgICAgbWVzc2FnZS5wcm9vZkhlaWdodCA9IEhlaWdodC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgNzoKICAgICAgICAgIG1lc3NhZ2Uuc2lnbmVyID0gcmVhZGVyLnN0cmluZygpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBtZXNzYWdlOwogIH0sCiAgZnJvbUpTT046IGZ1bmN0aW9uIGZyb21KU09OKG9iamVjdCkgewogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlTXNnQ2hhbm5lbE9wZW5BY2spOwoKICAgIGlmIChvYmplY3QucG9ydElkICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnBvcnRJZCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLnBvcnRJZCA9IFN0cmluZyhvYmplY3QucG9ydElkKTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UucG9ydElkID0gIiI7CiAgICB9CgogICAgaWYgKG9iamVjdC5jaGFubmVsSWQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuY2hhbm5lbElkICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UuY2hhbm5lbElkID0gU3RyaW5nKG9iamVjdC5jaGFubmVsSWQpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5jaGFubmVsSWQgPSAiIjsKICAgIH0KCiAgICBpZiAob2JqZWN0LmNvdW50ZXJwYXJ0eUNoYW5uZWxJZCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5jb3VudGVycGFydHlDaGFubmVsSWQgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5jb3VudGVycGFydHlDaGFubmVsSWQgPSBTdHJpbmcob2JqZWN0LmNvdW50ZXJwYXJ0eUNoYW5uZWxJZCk7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLmNvdW50ZXJwYXJ0eUNoYW5uZWxJZCA9ICIiOwogICAgfQoKICAgIGlmIChvYmplY3QuY291bnRlcnBhcnR5VmVyc2lvbiAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5jb3VudGVycGFydHlWZXJzaW9uICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UuY291bnRlcnBhcnR5VmVyc2lvbiA9IFN0cmluZyhvYmplY3QuY291bnRlcnBhcnR5VmVyc2lvbik7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLmNvdW50ZXJwYXJ0eVZlcnNpb24gPSAiIjsKICAgIH0KCiAgICBpZiAob2JqZWN0LnByb29mVHJ5ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnByb29mVHJ5ICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UucHJvb2ZUcnkgPSBieXRlc0Zyb21CYXNlNjQob2JqZWN0LnByb29mVHJ5KTsKICAgIH0KCiAgICBpZiAob2JqZWN0LnByb29mSGVpZ2h0ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnByb29mSGVpZ2h0ICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UucHJvb2ZIZWlnaHQgPSBIZWlnaHQuZnJvbUpTT04ob2JqZWN0LnByb29mSGVpZ2h0KTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UucHJvb2ZIZWlnaHQgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgaWYgKG9iamVjdC5zaWduZXIgIT09IHVuZGVmaW5lZCAmJiBvYmplY3Quc2lnbmVyICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2Uuc2lnbmVyID0gU3RyaW5nKG9iamVjdC5zaWduZXIpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5zaWduZXIgPSAiIjsKICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9LAogIHRvSlNPTjogZnVuY3Rpb24gdG9KU09OKG1lc3NhZ2UpIHsKICAgIHZhciBvYmogPSB7fTsKICAgIG1lc3NhZ2UucG9ydElkICE9PSB1bmRlZmluZWQgJiYgKG9iai5wb3J0SWQgPSBtZXNzYWdlLnBvcnRJZCk7CiAgICBtZXNzYWdlLmNoYW5uZWxJZCAhPT0gdW5kZWZpbmVkICYmIChvYmouY2hhbm5lbElkID0gbWVzc2FnZS5jaGFubmVsSWQpOwogICAgbWVzc2FnZS5jb3VudGVycGFydHlDaGFubmVsSWQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmNvdW50ZXJwYXJ0eUNoYW5uZWxJZCA9IG1lc3NhZ2UuY291bnRlcnBhcnR5Q2hhbm5lbElkKTsKICAgIG1lc3NhZ2UuY291bnRlcnBhcnR5VmVyc2lvbiAhPT0gdW5kZWZpbmVkICYmIChvYmouY291bnRlcnBhcnR5VmVyc2lvbiA9IG1lc3NhZ2UuY291bnRlcnBhcnR5VmVyc2lvbik7CiAgICBtZXNzYWdlLnByb29mVHJ5ICE9PSB1bmRlZmluZWQgJiYgKG9iai5wcm9vZlRyeSA9IGJhc2U2NEZyb21CeXRlcyhtZXNzYWdlLnByb29mVHJ5ICE9PSB1bmRlZmluZWQgPyBtZXNzYWdlLnByb29mVHJ5IDogbmV3IFVpbnQ4QXJyYXkoKSkpOwogICAgbWVzc2FnZS5wcm9vZkhlaWdodCAhPT0gdW5kZWZpbmVkICYmIChvYmoucHJvb2ZIZWlnaHQgPSBtZXNzYWdlLnByb29mSGVpZ2h0ID8gSGVpZ2h0LnRvSlNPTihtZXNzYWdlLnByb29mSGVpZ2h0KSA6IHVuZGVmaW5lZCk7CiAgICBtZXNzYWdlLnNpZ25lciAhPT0gdW5kZWZpbmVkICYmIChvYmouc2lnbmVyID0gbWVzc2FnZS5zaWduZXIpOwogICAgcmV0dXJuIG9iajsKICB9LAogIGZyb21QYXJ0aWFsOiBmdW5jdGlvbiBmcm9tUGFydGlhbChvYmplY3QpIHsKICAgIHZhciBtZXNzYWdlID0gX29iamVjdFNwcmVhZCh7fSwgYmFzZU1zZ0NoYW5uZWxPcGVuQWNrKTsKCiAgICBpZiAob2JqZWN0LnBvcnRJZCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wb3J0SWQgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5wb3J0SWQgPSBvYmplY3QucG9ydElkOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5wb3J0SWQgPSAiIjsKICAgIH0KCiAgICBpZiAob2JqZWN0LmNoYW5uZWxJZCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5jaGFubmVsSWQgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5jaGFubmVsSWQgPSBvYmplY3QuY2hhbm5lbElkOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5jaGFubmVsSWQgPSAiIjsKICAgIH0KCiAgICBpZiAob2JqZWN0LmNvdW50ZXJwYXJ0eUNoYW5uZWxJZCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5jb3VudGVycGFydHlDaGFubmVsSWQgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5jb3VudGVycGFydHlDaGFubmVsSWQgPSBvYmplY3QuY291bnRlcnBhcnR5Q2hhbm5lbElkOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5jb3VudGVycGFydHlDaGFubmVsSWQgPSAiIjsKICAgIH0KCiAgICBpZiAob2JqZWN0LmNvdW50ZXJwYXJ0eVZlcnNpb24gIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuY291bnRlcnBhcnR5VmVyc2lvbiAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLmNvdW50ZXJwYXJ0eVZlcnNpb24gPSBvYmplY3QuY291bnRlcnBhcnR5VmVyc2lvbjsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UuY291bnRlcnBhcnR5VmVyc2lvbiA9ICIiOwogICAgfQoKICAgIGlmIChvYmplY3QucHJvb2ZUcnkgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucHJvb2ZUcnkgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5wcm9vZlRyeSA9IG9iamVjdC5wcm9vZlRyeTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UucHJvb2ZUcnkgPSBuZXcgVWludDhBcnJheSgpOwogICAgfQoKICAgIGlmIChvYmplY3QucHJvb2ZIZWlnaHQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucHJvb2ZIZWlnaHQgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5wcm9vZkhlaWdodCA9IEhlaWdodC5mcm9tUGFydGlhbChvYmplY3QucHJvb2ZIZWlnaHQpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5wcm9vZkhlaWdodCA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICBpZiAob2JqZWN0LnNpZ25lciAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5zaWduZXIgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5zaWduZXIgPSBvYmplY3Quc2lnbmVyOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5zaWduZXIgPSAiIjsKICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9Cn07CnZhciBiYXNlTXNnQ2hhbm5lbE9wZW5BY2tSZXNwb25zZSA9IHt9OwpleHBvcnQgdmFyIE1zZ0NoYW5uZWxPcGVuQWNrUmVzcG9uc2UgPSB7CiAgZW5jb2RlOiBmdW5jdGlvbiBlbmNvZGUoXykgewogICAgdmFyIHdyaXRlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogV3JpdGVyLmNyZWF0ZSgpOwogICAgcmV0dXJuIHdyaXRlcjsKICB9LAogIGRlY29kZTogZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHsKICAgIHZhciByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgPyBuZXcgUmVhZGVyKGlucHV0KSA6IGlucHV0OwogICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7CgogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlTXNnQ2hhbm5lbE9wZW5BY2tSZXNwb25zZSk7CgogICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHsKICAgICAgdmFyIHRhZyA9IHJlYWRlci51aW50MzIoKTsKCiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfSwKICBmcm9tSlNPTjogZnVuY3Rpb24gZnJvbUpTT04oXykgewogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlTXNnQ2hhbm5lbE9wZW5BY2tSZXNwb25zZSk7CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfSwKICB0b0pTT046IGZ1bmN0aW9uIHRvSlNPTihfKSB7CiAgICB2YXIgb2JqID0ge307CiAgICByZXR1cm4gb2JqOwogIH0sCiAgZnJvbVBhcnRpYWw6IGZ1bmN0aW9uIGZyb21QYXJ0aWFsKF8pIHsKICAgIHZhciBtZXNzYWdlID0gX29iamVjdFNwcmVhZCh7fSwgYmFzZU1zZ0NoYW5uZWxPcGVuQWNrUmVzcG9uc2UpOwoKICAgIHJldHVybiBtZXNzYWdlOwogIH0KfTsKdmFyIGJhc2VNc2dDaGFubmVsT3BlbkNvbmZpcm0gPSB7CiAgcG9ydElkOiAiIiwKICBjaGFubmVsSWQ6ICIiLAogIHNpZ25lcjogIiIKfTsKZXhwb3J0IHZhciBNc2dDaGFubmVsT3BlbkNvbmZpcm0gPSB7CiAgZW5jb2RlOiBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSkgewogICAgdmFyIHdyaXRlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogV3JpdGVyLmNyZWF0ZSgpOwoKICAgIGlmIChtZXNzYWdlLnBvcnRJZCAhPT0gIiIpIHsKICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UucG9ydElkKTsKICAgIH0KCiAgICBpZiAobWVzc2FnZS5jaGFubmVsSWQgIT09ICIiKSB7CiAgICAgIHdyaXRlci51aW50MzIoMTgpLnN0cmluZyhtZXNzYWdlLmNoYW5uZWxJZCk7CiAgICB9CgogICAgaWYgKG1lc3NhZ2UucHJvb2ZBY2subGVuZ3RoICE9PSAwKSB7CiAgICAgIHdyaXRlci51aW50MzIoMjYpLmJ5dGVzKG1lc3NhZ2UucHJvb2ZBY2spOwogICAgfQoKICAgIGlmIChtZXNzYWdlLnByb29mSGVpZ2h0ICE9PSB1bmRlZmluZWQpIHsKICAgICAgSGVpZ2h0LmVuY29kZShtZXNzYWdlLnByb29mSGVpZ2h0LCB3cml0ZXIudWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpOwogICAgfQoKICAgIGlmIChtZXNzYWdlLnNpZ25lciAhPT0gIiIpIHsKICAgICAgd3JpdGVyLnVpbnQzMig0Mikuc3RyaW5nKG1lc3NhZ2Uuc2lnbmVyKTsKICAgIH0KCiAgICByZXR1cm4gd3JpdGVyOwogIH0sCiAgZGVjb2RlOiBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkgewogICAgdmFyIHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgVWludDhBcnJheSA/IG5ldyBSZWFkZXIoaW5wdXQpIDogaW5wdXQ7CiAgICB2YXIgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDsKCiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VNc2dDaGFubmVsT3BlbkNvbmZpcm0pOwoKICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7CiAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7CgogICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykgewogICAgICAgIGNhc2UgMToKICAgICAgICAgIG1lc3NhZ2UucG9ydElkID0gcmVhZGVyLnN0cmluZygpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMjoKICAgICAgICAgIG1lc3NhZ2UuY2hhbm5lbElkID0gcmVhZGVyLnN0cmluZygpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMzoKICAgICAgICAgIG1lc3NhZ2UucHJvb2ZBY2sgPSByZWFkZXIuYnl0ZXMoKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDQ6CiAgICAgICAgICBtZXNzYWdlLnByb29mSGVpZ2h0ID0gSGVpZ2h0LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSA1OgogICAgICAgICAgbWVzc2FnZS5zaWduZXIgPSByZWFkZXIuc3RyaW5nKCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfSwKICBmcm9tSlNPTjogZnVuY3Rpb24gZnJvbUpTT04ob2JqZWN0KSB7CiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VNc2dDaGFubmVsT3BlbkNvbmZpcm0pOwoKICAgIGlmIChvYmplY3QucG9ydElkICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnBvcnRJZCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLnBvcnRJZCA9IFN0cmluZyhvYmplY3QucG9ydElkKTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UucG9ydElkID0gIiI7CiAgICB9CgogICAgaWYgKG9iamVjdC5jaGFubmVsSWQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuY2hhbm5lbElkICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UuY2hhbm5lbElkID0gU3RyaW5nKG9iamVjdC5jaGFubmVsSWQpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5jaGFubmVsSWQgPSAiIjsKICAgIH0KCiAgICBpZiAob2JqZWN0LnByb29mQWNrICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnByb29mQWNrICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UucHJvb2ZBY2sgPSBieXRlc0Zyb21CYXNlNjQob2JqZWN0LnByb29mQWNrKTsKICAgIH0KCiAgICBpZiAob2JqZWN0LnByb29mSGVpZ2h0ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnByb29mSGVpZ2h0ICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UucHJvb2ZIZWlnaHQgPSBIZWlnaHQuZnJvbUpTT04ob2JqZWN0LnByb29mSGVpZ2h0KTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UucHJvb2ZIZWlnaHQgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgaWYgKG9iamVjdC5zaWduZXIgIT09IHVuZGVmaW5lZCAmJiBvYmplY3Quc2lnbmVyICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2Uuc2lnbmVyID0gU3RyaW5nKG9iamVjdC5zaWduZXIpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5zaWduZXIgPSAiIjsKICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9LAogIHRvSlNPTjogZnVuY3Rpb24gdG9KU09OKG1lc3NhZ2UpIHsKICAgIHZhciBvYmogPSB7fTsKICAgIG1lc3NhZ2UucG9ydElkICE9PSB1bmRlZmluZWQgJiYgKG9iai5wb3J0SWQgPSBtZXNzYWdlLnBvcnRJZCk7CiAgICBtZXNzYWdlLmNoYW5uZWxJZCAhPT0gdW5kZWZpbmVkICYmIChvYmouY2hhbm5lbElkID0gbWVzc2FnZS5jaGFubmVsSWQpOwogICAgbWVzc2FnZS5wcm9vZkFjayAhPT0gdW5kZWZpbmVkICYmIChvYmoucHJvb2ZBY2sgPSBiYXNlNjRGcm9tQnl0ZXMobWVzc2FnZS5wcm9vZkFjayAhPT0gdW5kZWZpbmVkID8gbWVzc2FnZS5wcm9vZkFjayA6IG5ldyBVaW50OEFycmF5KCkpKTsKICAgIG1lc3NhZ2UucHJvb2ZIZWlnaHQgIT09IHVuZGVmaW5lZCAmJiAob2JqLnByb29mSGVpZ2h0ID0gbWVzc2FnZS5wcm9vZkhlaWdodCA/IEhlaWdodC50b0pTT04obWVzc2FnZS5wcm9vZkhlaWdodCkgOiB1bmRlZmluZWQpOwogICAgbWVzc2FnZS5zaWduZXIgIT09IHVuZGVmaW5lZCAmJiAob2JqLnNpZ25lciA9IG1lc3NhZ2Uuc2lnbmVyKTsKICAgIHJldHVybiBvYmo7CiAgfSwKICBmcm9tUGFydGlhbDogZnVuY3Rpb24gZnJvbVBhcnRpYWwob2JqZWN0KSB7CiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VNc2dDaGFubmVsT3BlbkNvbmZpcm0pOwoKICAgIGlmIChvYmplY3QucG9ydElkICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnBvcnRJZCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLnBvcnRJZCA9IG9iamVjdC5wb3J0SWQ7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLnBvcnRJZCA9ICIiOwogICAgfQoKICAgIGlmIChvYmplY3QuY2hhbm5lbElkICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmNoYW5uZWxJZCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLmNoYW5uZWxJZCA9IG9iamVjdC5jaGFubmVsSWQ7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLmNoYW5uZWxJZCA9ICIiOwogICAgfQoKICAgIGlmIChvYmplY3QucHJvb2ZBY2sgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucHJvb2ZBY2sgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5wcm9vZkFjayA9IG9iamVjdC5wcm9vZkFjazsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UucHJvb2ZBY2sgPSBuZXcgVWludDhBcnJheSgpOwogICAgfQoKICAgIGlmIChvYmplY3QucHJvb2ZIZWlnaHQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucHJvb2ZIZWlnaHQgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5wcm9vZkhlaWdodCA9IEhlaWdodC5mcm9tUGFydGlhbChvYmplY3QucHJvb2ZIZWlnaHQpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5wcm9vZkhlaWdodCA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICBpZiAob2JqZWN0LnNpZ25lciAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5zaWduZXIgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5zaWduZXIgPSBvYmplY3Quc2lnbmVyOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5zaWduZXIgPSAiIjsKICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9Cn07CnZhciBiYXNlTXNnQ2hhbm5lbE9wZW5Db25maXJtUmVzcG9uc2UgPSB7fTsKZXhwb3J0IHZhciBNc2dDaGFubmVsT3BlbkNvbmZpcm1SZXNwb25zZSA9IHsKICBlbmNvZGU6IGZ1bmN0aW9uIGVuY29kZShfKSB7CiAgICB2YXIgd3JpdGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBXcml0ZXIuY3JlYXRlKCk7CiAgICByZXR1cm4gd3JpdGVyOwogIH0sCiAgZGVjb2RlOiBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkgewogICAgdmFyIHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgVWludDhBcnJheSA/IG5ldyBSZWFkZXIoaW5wdXQpIDogaW5wdXQ7CiAgICB2YXIgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDsKCiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VNc2dDaGFubmVsT3BlbkNvbmZpcm1SZXNwb25zZSk7CgogICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHsKICAgICAgdmFyIHRhZyA9IHJlYWRlci51aW50MzIoKTsKCiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfSwKICBmcm9tSlNPTjogZnVuY3Rpb24gZnJvbUpTT04oXykgewogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlTXNnQ2hhbm5lbE9wZW5Db25maXJtUmVzcG9uc2UpOwoKICAgIHJldHVybiBtZXNzYWdlOwogIH0sCiAgdG9KU09OOiBmdW5jdGlvbiB0b0pTT04oXykgewogICAgdmFyIG9iaiA9IHt9OwogICAgcmV0dXJuIG9iajsKICB9LAogIGZyb21QYXJ0aWFsOiBmdW5jdGlvbiBmcm9tUGFydGlhbChfKSB7CiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VNc2dDaGFubmVsT3BlbkNvbmZpcm1SZXNwb25zZSk7CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfQp9Owp2YXIgYmFzZU1zZ0NoYW5uZWxDbG9zZUluaXQgPSB7CiAgcG9ydElkOiAiIiwKICBjaGFubmVsSWQ6ICIiLAogIHNpZ25lcjogIiIKfTsKZXhwb3J0IHZhciBNc2dDaGFubmVsQ2xvc2VJbml0ID0gewogIGVuY29kZTogZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UpIHsKICAgIHZhciB3cml0ZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFdyaXRlci5jcmVhdGUoKTsKCiAgICBpZiAobWVzc2FnZS5wb3J0SWQgIT09ICIiKSB7CiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLnBvcnRJZCk7CiAgICB9CgogICAgaWYgKG1lc3NhZ2UuY2hhbm5lbElkICE9PSAiIikgewogICAgICB3cml0ZXIudWludDMyKDE4KS5zdHJpbmcobWVzc2FnZS5jaGFubmVsSWQpOwogICAgfQoKICAgIGlmIChtZXNzYWdlLnNpZ25lciAhPT0gIiIpIHsKICAgICAgd3JpdGVyLnVpbnQzMigyNikuc3RyaW5nKG1lc3NhZ2Uuc2lnbmVyKTsKICAgIH0KCiAgICByZXR1cm4gd3JpdGVyOwogIH0sCiAgZGVjb2RlOiBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkgewogICAgdmFyIHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgVWludDhBcnJheSA/IG5ldyBSZWFkZXIoaW5wdXQpIDogaW5wdXQ7CiAgICB2YXIgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDsKCiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VNc2dDaGFubmVsQ2xvc2VJbml0KTsKCiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkgewogICAgICB2YXIgdGFnID0gcmVhZGVyLnVpbnQzMigpOwoKICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHsKICAgICAgICBjYXNlIDE6CiAgICAgICAgICBtZXNzYWdlLnBvcnRJZCA9IHJlYWRlci5zdHJpbmcoKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDI6CiAgICAgICAgICBtZXNzYWdlLmNoYW5uZWxJZCA9IHJlYWRlci5zdHJpbmcoKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDM6CiAgICAgICAgICBtZXNzYWdlLnNpZ25lciA9IHJlYWRlci5zdHJpbmcoKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9LAogIGZyb21KU09OOiBmdW5jdGlvbiBmcm9tSlNPTihvYmplY3QpIHsKICAgIHZhciBtZXNzYWdlID0gX29iamVjdFNwcmVhZCh7fSwgYmFzZU1zZ0NoYW5uZWxDbG9zZUluaXQpOwoKICAgIGlmIChvYmplY3QucG9ydElkICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnBvcnRJZCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLnBvcnRJZCA9IFN0cmluZyhvYmplY3QucG9ydElkKTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UucG9ydElkID0gIiI7CiAgICB9CgogICAgaWYgKG9iamVjdC5jaGFubmVsSWQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuY2hhbm5lbElkICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UuY2hhbm5lbElkID0gU3RyaW5nKG9iamVjdC5jaGFubmVsSWQpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5jaGFubmVsSWQgPSAiIjsKICAgIH0KCiAgICBpZiAob2JqZWN0LnNpZ25lciAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5zaWduZXIgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5zaWduZXIgPSBTdHJpbmcob2JqZWN0LnNpZ25lcik7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLnNpZ25lciA9ICIiOwogICAgfQoKICAgIHJldHVybiBtZXNzYWdlOwogIH0sCiAgdG9KU09OOiBmdW5jdGlvbiB0b0pTT04obWVzc2FnZSkgewogICAgdmFyIG9iaiA9IHt9OwogICAgbWVzc2FnZS5wb3J0SWQgIT09IHVuZGVmaW5lZCAmJiAob2JqLnBvcnRJZCA9IG1lc3NhZ2UucG9ydElkKTsKICAgIG1lc3NhZ2UuY2hhbm5lbElkICE9PSB1bmRlZmluZWQgJiYgKG9iai5jaGFubmVsSWQgPSBtZXNzYWdlLmNoYW5uZWxJZCk7CiAgICBtZXNzYWdlLnNpZ25lciAhPT0gdW5kZWZpbmVkICYmIChvYmouc2lnbmVyID0gbWVzc2FnZS5zaWduZXIpOwogICAgcmV0dXJuIG9iajsKICB9LAogIGZyb21QYXJ0aWFsOiBmdW5jdGlvbiBmcm9tUGFydGlhbChvYmplY3QpIHsKICAgIHZhciBtZXNzYWdlID0gX29iamVjdFNwcmVhZCh7fSwgYmFzZU1zZ0NoYW5uZWxDbG9zZUluaXQpOwoKICAgIGlmIChvYmplY3QucG9ydElkICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnBvcnRJZCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLnBvcnRJZCA9IG9iamVjdC5wb3J0SWQ7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLnBvcnRJZCA9ICIiOwogICAgfQoKICAgIGlmIChvYmplY3QuY2hhbm5lbElkICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmNoYW5uZWxJZCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLmNoYW5uZWxJZCA9IG9iamVjdC5jaGFubmVsSWQ7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLmNoYW5uZWxJZCA9ICIiOwogICAgfQoKICAgIGlmIChvYmplY3Quc2lnbmVyICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnNpZ25lciAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLnNpZ25lciA9IG9iamVjdC5zaWduZXI7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLnNpZ25lciA9ICIiOwogICAgfQoKICAgIHJldHVybiBtZXNzYWdlOwogIH0KfTsKdmFyIGJhc2VNc2dDaGFubmVsQ2xvc2VJbml0UmVzcG9uc2UgPSB7fTsKZXhwb3J0IHZhciBNc2dDaGFubmVsQ2xvc2VJbml0UmVzcG9uc2UgPSB7CiAgZW5jb2RlOiBmdW5jdGlvbiBlbmNvZGUoXykgewogICAgdmFyIHdyaXRlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogV3JpdGVyLmNyZWF0ZSgpOwogICAgcmV0dXJuIHdyaXRlcjsKICB9LAogIGRlY29kZTogZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHsKICAgIHZhciByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgPyBuZXcgUmVhZGVyKGlucHV0KSA6IGlucHV0OwogICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7CgogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlTXNnQ2hhbm5lbENsb3NlSW5pdFJlc3BvbnNlKTsKCiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkgewogICAgICB2YXIgdGFnID0gcmVhZGVyLnVpbnQzMigpOwoKICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9LAogIGZyb21KU09OOiBmdW5jdGlvbiBmcm9tSlNPTihfKSB7CiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VNc2dDaGFubmVsQ2xvc2VJbml0UmVzcG9uc2UpOwoKICAgIHJldHVybiBtZXNzYWdlOwogIH0sCiAgdG9KU09OOiBmdW5jdGlvbiB0b0pTT04oXykgewogICAgdmFyIG9iaiA9IHt9OwogICAgcmV0dXJuIG9iajsKICB9LAogIGZyb21QYXJ0aWFsOiBmdW5jdGlvbiBmcm9tUGFydGlhbChfKSB7CiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VNc2dDaGFubmVsQ2xvc2VJbml0UmVzcG9uc2UpOwoKICAgIHJldHVybiBtZXNzYWdlOwogIH0KfTsKdmFyIGJhc2VNc2dDaGFubmVsQ2xvc2VDb25maXJtID0gewogIHBvcnRJZDogIiIsCiAgY2hhbm5lbElkOiAiIiwKICBzaWduZXI6ICIiCn07CmV4cG9ydCB2YXIgTXNnQ2hhbm5lbENsb3NlQ29uZmlybSA9IHsKICBlbmNvZGU6IGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlKSB7CiAgICB2YXIgd3JpdGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBXcml0ZXIuY3JlYXRlKCk7CgogICAgaWYgKG1lc3NhZ2UucG9ydElkICE9PSAiIikgewogICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5wb3J0SWQpOwogICAgfQoKICAgIGlmIChtZXNzYWdlLmNoYW5uZWxJZCAhPT0gIiIpIHsKICAgICAgd3JpdGVyLnVpbnQzMigxOCkuc3RyaW5nKG1lc3NhZ2UuY2hhbm5lbElkKTsKICAgIH0KCiAgICBpZiAobWVzc2FnZS5wcm9vZkluaXQubGVuZ3RoICE9PSAwKSB7CiAgICAgIHdyaXRlci51aW50MzIoMjYpLmJ5dGVzKG1lc3NhZ2UucHJvb2ZJbml0KTsKICAgIH0KCiAgICBpZiAobWVzc2FnZS5wcm9vZkhlaWdodCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIEhlaWdodC5lbmNvZGUobWVzc2FnZS5wcm9vZkhlaWdodCwgd3JpdGVyLnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTsKICAgIH0KCiAgICBpZiAobWVzc2FnZS5zaWduZXIgIT09ICIiKSB7CiAgICAgIHdyaXRlci51aW50MzIoNDIpLnN0cmluZyhtZXNzYWdlLnNpZ25lcik7CiAgICB9CgogICAgcmV0dXJuIHdyaXRlcjsKICB9LAogIGRlY29kZTogZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHsKICAgIHZhciByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgPyBuZXcgUmVhZGVyKGlucHV0KSA6IGlucHV0OwogICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7CgogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlTXNnQ2hhbm5lbENsb3NlQ29uZmlybSk7CgogICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHsKICAgICAgdmFyIHRhZyA9IHJlYWRlci51aW50MzIoKTsKCiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7CiAgICAgICAgY2FzZSAxOgogICAgICAgICAgbWVzc2FnZS5wb3J0SWQgPSByZWFkZXIuc3RyaW5nKCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAyOgogICAgICAgICAgbWVzc2FnZS5jaGFubmVsSWQgPSByZWFkZXIuc3RyaW5nKCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAzOgogICAgICAgICAgbWVzc2FnZS5wcm9vZkluaXQgPSByZWFkZXIuYnl0ZXMoKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDQ6CiAgICAgICAgICBtZXNzYWdlLnByb29mSGVpZ2h0ID0gSGVpZ2h0LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSA1OgogICAgICAgICAgbWVzc2FnZS5zaWduZXIgPSByZWFkZXIuc3RyaW5nKCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfSwKICBmcm9tSlNPTjogZnVuY3Rpb24gZnJvbUpTT04ob2JqZWN0KSB7CiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VNc2dDaGFubmVsQ2xvc2VDb25maXJtKTsKCiAgICBpZiAob2JqZWN0LnBvcnRJZCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wb3J0SWQgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5wb3J0SWQgPSBTdHJpbmcob2JqZWN0LnBvcnRJZCk7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLnBvcnRJZCA9ICIiOwogICAgfQoKICAgIGlmIChvYmplY3QuY2hhbm5lbElkICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmNoYW5uZWxJZCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLmNoYW5uZWxJZCA9IFN0cmluZyhvYmplY3QuY2hhbm5lbElkKTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UuY2hhbm5lbElkID0gIiI7CiAgICB9CgogICAgaWYgKG9iamVjdC5wcm9vZkluaXQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucHJvb2ZJbml0ICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UucHJvb2ZJbml0ID0gYnl0ZXNGcm9tQmFzZTY0KG9iamVjdC5wcm9vZkluaXQpOwogICAgfQoKICAgIGlmIChvYmplY3QucHJvb2ZIZWlnaHQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucHJvb2ZIZWlnaHQgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5wcm9vZkhlaWdodCA9IEhlaWdodC5mcm9tSlNPTihvYmplY3QucHJvb2ZIZWlnaHQpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5wcm9vZkhlaWdodCA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICBpZiAob2JqZWN0LnNpZ25lciAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5zaWduZXIgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5zaWduZXIgPSBTdHJpbmcob2JqZWN0LnNpZ25lcik7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLnNpZ25lciA9ICIiOwogICAgfQoKICAgIHJldHVybiBtZXNzYWdlOwogIH0sCiAgdG9KU09OOiBmdW5jdGlvbiB0b0pTT04obWVzc2FnZSkgewogICAgdmFyIG9iaiA9IHt9OwogICAgbWVzc2FnZS5wb3J0SWQgIT09IHVuZGVmaW5lZCAmJiAob2JqLnBvcnRJZCA9IG1lc3NhZ2UucG9ydElkKTsKICAgIG1lc3NhZ2UuY2hhbm5lbElkICE9PSB1bmRlZmluZWQgJiYgKG9iai5jaGFubmVsSWQgPSBtZXNzYWdlLmNoYW5uZWxJZCk7CiAgICBtZXNzYWdlLnByb29mSW5pdCAhPT0gdW5kZWZpbmVkICYmIChvYmoucHJvb2ZJbml0ID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2UucHJvb2ZJbml0ICE9PSB1bmRlZmluZWQgPyBtZXNzYWdlLnByb29mSW5pdCA6IG5ldyBVaW50OEFycmF5KCkpKTsKICAgIG1lc3NhZ2UucHJvb2ZIZWlnaHQgIT09IHVuZGVmaW5lZCAmJiAob2JqLnByb29mSGVpZ2h0ID0gbWVzc2FnZS5wcm9vZkhlaWdodCA/IEhlaWdodC50b0pTT04obWVzc2FnZS5wcm9vZkhlaWdodCkgOiB1bmRlZmluZWQpOwogICAgbWVzc2FnZS5zaWduZXIgIT09IHVuZGVmaW5lZCAmJiAob2JqLnNpZ25lciA9IG1lc3NhZ2Uuc2lnbmVyKTsKICAgIHJldHVybiBvYmo7CiAgfSwKICBmcm9tUGFydGlhbDogZnVuY3Rpb24gZnJvbVBhcnRpYWwob2JqZWN0KSB7CiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VNc2dDaGFubmVsQ2xvc2VDb25maXJtKTsKCiAgICBpZiAob2JqZWN0LnBvcnRJZCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wb3J0SWQgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5wb3J0SWQgPSBvYmplY3QucG9ydElkOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5wb3J0SWQgPSAiIjsKICAgIH0KCiAgICBpZiAob2JqZWN0LmNoYW5uZWxJZCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5jaGFubmVsSWQgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5jaGFubmVsSWQgPSBvYmplY3QuY2hhbm5lbElkOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5jaGFubmVsSWQgPSAiIjsKICAgIH0KCiAgICBpZiAob2JqZWN0LnByb29mSW5pdCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wcm9vZkluaXQgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5wcm9vZkluaXQgPSBvYmplY3QucHJvb2ZJbml0OwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5wcm9vZkluaXQgPSBuZXcgVWludDhBcnJheSgpOwogICAgfQoKICAgIGlmIChvYmplY3QucHJvb2ZIZWlnaHQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucHJvb2ZIZWlnaHQgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5wcm9vZkhlaWdodCA9IEhlaWdodC5mcm9tUGFydGlhbChvYmplY3QucHJvb2ZIZWlnaHQpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5wcm9vZkhlaWdodCA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICBpZiAob2JqZWN0LnNpZ25lciAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5zaWduZXIgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5zaWduZXIgPSBvYmplY3Quc2lnbmVyOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5zaWduZXIgPSAiIjsKICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9Cn07CnZhciBiYXNlTXNnQ2hhbm5lbENsb3NlQ29uZmlybVJlc3BvbnNlID0ge307CmV4cG9ydCB2YXIgTXNnQ2hhbm5lbENsb3NlQ29uZmlybVJlc3BvbnNlID0gewogIGVuY29kZTogZnVuY3Rpb24gZW5jb2RlKF8pIHsKICAgIHZhciB3cml0ZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFdyaXRlci5jcmVhdGUoKTsKICAgIHJldHVybiB3cml0ZXI7CiAgfSwKICBkZWNvZGU6IGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7CiAgICB2YXIgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBVaW50OEFycmF5ID8gbmV3IFJlYWRlcihpbnB1dCkgOiBpbnB1dDsKICAgIHZhciBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoOwoKICAgIHZhciBtZXNzYWdlID0gX29iamVjdFNwcmVhZCh7fSwgYmFzZU1zZ0NoYW5uZWxDbG9zZUNvbmZpcm1SZXNwb25zZSk7CgogICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHsKICAgICAgdmFyIHRhZyA9IHJlYWRlci51aW50MzIoKTsKCiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfSwKICBmcm9tSlNPTjogZnVuY3Rpb24gZnJvbUpTT04oXykgewogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlTXNnQ2hhbm5lbENsb3NlQ29uZmlybVJlc3BvbnNlKTsKCiAgICByZXR1cm4gbWVzc2FnZTsKICB9LAogIHRvSlNPTjogZnVuY3Rpb24gdG9KU09OKF8pIHsKICAgIHZhciBvYmogPSB7fTsKICAgIHJldHVybiBvYmo7CiAgfSwKICBmcm9tUGFydGlhbDogZnVuY3Rpb24gZnJvbVBhcnRpYWwoXykgewogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlTXNnQ2hhbm5lbENsb3NlQ29uZmlybVJlc3BvbnNlKTsKCiAgICByZXR1cm4gbWVzc2FnZTsKICB9Cn07CnZhciBiYXNlTXNnUmVjdlBhY2tldCA9IHsKICBzaWduZXI6ICIiCn07CmV4cG9ydCB2YXIgTXNnUmVjdlBhY2tldCA9IHsKICBlbmNvZGU6IGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlKSB7CiAgICB2YXIgd3JpdGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBXcml0ZXIuY3JlYXRlKCk7CgogICAgaWYgKG1lc3NhZ2UucGFja2V0ICE9PSB1bmRlZmluZWQpIHsKICAgICAgUGFja2V0LmVuY29kZShtZXNzYWdlLnBhY2tldCwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTsKICAgIH0KCiAgICBpZiAobWVzc2FnZS5wcm9vZkNvbW1pdG1lbnQubGVuZ3RoICE9PSAwKSB7CiAgICAgIHdyaXRlci51aW50MzIoMTgpLmJ5dGVzKG1lc3NhZ2UucHJvb2ZDb21taXRtZW50KTsKICAgIH0KCiAgICBpZiAobWVzc2FnZS5wcm9vZkhlaWdodCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIEhlaWdodC5lbmNvZGUobWVzc2FnZS5wcm9vZkhlaWdodCwgd3JpdGVyLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKTsKICAgIH0KCiAgICBpZiAobWVzc2FnZS5zaWduZXIgIT09ICIiKSB7CiAgICAgIHdyaXRlci51aW50MzIoMzQpLnN0cmluZyhtZXNzYWdlLnNpZ25lcik7CiAgICB9CgogICAgcmV0dXJuIHdyaXRlcjsKICB9LAogIGRlY29kZTogZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHsKICAgIHZhciByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgPyBuZXcgUmVhZGVyKGlucHV0KSA6IGlucHV0OwogICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7CgogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlTXNnUmVjdlBhY2tldCk7CgogICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHsKICAgICAgdmFyIHRhZyA9IHJlYWRlci51aW50MzIoKTsKCiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7CiAgICAgICAgY2FzZSAxOgogICAgICAgICAgbWVzc2FnZS5wYWNrZXQgPSBQYWNrZXQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDI6CiAgICAgICAgICBtZXNzYWdlLnByb29mQ29tbWl0bWVudCA9IHJlYWRlci5ieXRlcygpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMzoKICAgICAgICAgIG1lc3NhZ2UucHJvb2ZIZWlnaHQgPSBIZWlnaHQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDQ6CiAgICAgICAgICBtZXNzYWdlLnNpZ25lciA9IHJlYWRlci5zdHJpbmcoKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9LAogIGZyb21KU09OOiBmdW5jdGlvbiBmcm9tSlNPTihvYmplY3QpIHsKICAgIHZhciBtZXNzYWdlID0gX29iamVjdFNwcmVhZCh7fSwgYmFzZU1zZ1JlY3ZQYWNrZXQpOwoKICAgIGlmIChvYmplY3QucGFja2V0ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnBhY2tldCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLnBhY2tldCA9IFBhY2tldC5mcm9tSlNPTihvYmplY3QucGFja2V0KTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UucGFja2V0ID0gdW5kZWZpbmVkOwogICAgfQoKICAgIGlmIChvYmplY3QucHJvb2ZDb21taXRtZW50ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnByb29mQ29tbWl0bWVudCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLnByb29mQ29tbWl0bWVudCA9IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QucHJvb2ZDb21taXRtZW50KTsKICAgIH0KCiAgICBpZiAob2JqZWN0LnByb29mSGVpZ2h0ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnByb29mSGVpZ2h0ICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UucHJvb2ZIZWlnaHQgPSBIZWlnaHQuZnJvbUpTT04ob2JqZWN0LnByb29mSGVpZ2h0KTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UucHJvb2ZIZWlnaHQgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgaWYgKG9iamVjdC5zaWduZXIgIT09IHVuZGVmaW5lZCAmJiBvYmplY3Quc2lnbmVyICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2Uuc2lnbmVyID0gU3RyaW5nKG9iamVjdC5zaWduZXIpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5zaWduZXIgPSAiIjsKICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9LAogIHRvSlNPTjogZnVuY3Rpb24gdG9KU09OKG1lc3NhZ2UpIHsKICAgIHZhciBvYmogPSB7fTsKICAgIG1lc3NhZ2UucGFja2V0ICE9PSB1bmRlZmluZWQgJiYgKG9iai5wYWNrZXQgPSBtZXNzYWdlLnBhY2tldCA/IFBhY2tldC50b0pTT04obWVzc2FnZS5wYWNrZXQpIDogdW5kZWZpbmVkKTsKICAgIG1lc3NhZ2UucHJvb2ZDb21taXRtZW50ICE9PSB1bmRlZmluZWQgJiYgKG9iai5wcm9vZkNvbW1pdG1lbnQgPSBiYXNlNjRGcm9tQnl0ZXMobWVzc2FnZS5wcm9vZkNvbW1pdG1lbnQgIT09IHVuZGVmaW5lZCA/IG1lc3NhZ2UucHJvb2ZDb21taXRtZW50IDogbmV3IFVpbnQ4QXJyYXkoKSkpOwogICAgbWVzc2FnZS5wcm9vZkhlaWdodCAhPT0gdW5kZWZpbmVkICYmIChvYmoucHJvb2ZIZWlnaHQgPSBtZXNzYWdlLnByb29mSGVpZ2h0ID8gSGVpZ2h0LnRvSlNPTihtZXNzYWdlLnByb29mSGVpZ2h0KSA6IHVuZGVmaW5lZCk7CiAgICBtZXNzYWdlLnNpZ25lciAhPT0gdW5kZWZpbmVkICYmIChvYmouc2lnbmVyID0gbWVzc2FnZS5zaWduZXIpOwogICAgcmV0dXJuIG9iajsKICB9LAogIGZyb21QYXJ0aWFsOiBmdW5jdGlvbiBmcm9tUGFydGlhbChvYmplY3QpIHsKICAgIHZhciBtZXNzYWdlID0gX29iamVjdFNwcmVhZCh7fSwgYmFzZU1zZ1JlY3ZQYWNrZXQpOwoKICAgIGlmIChvYmplY3QucGFja2V0ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnBhY2tldCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLnBhY2tldCA9IFBhY2tldC5mcm9tUGFydGlhbChvYmplY3QucGFja2V0KTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UucGFja2V0ID0gdW5kZWZpbmVkOwogICAgfQoKICAgIGlmIChvYmplY3QucHJvb2ZDb21taXRtZW50ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnByb29mQ29tbWl0bWVudCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLnByb29mQ29tbWl0bWVudCA9IG9iamVjdC5wcm9vZkNvbW1pdG1lbnQ7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLnByb29mQ29tbWl0bWVudCA9IG5ldyBVaW50OEFycmF5KCk7CiAgICB9CgogICAgaWYgKG9iamVjdC5wcm9vZkhlaWdodCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wcm9vZkhlaWdodCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLnByb29mSGVpZ2h0ID0gSGVpZ2h0LmZyb21QYXJ0aWFsKG9iamVjdC5wcm9vZkhlaWdodCk7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLnByb29mSGVpZ2h0ID0gdW5kZWZpbmVkOwogICAgfQoKICAgIGlmIChvYmplY3Quc2lnbmVyICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnNpZ25lciAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLnNpZ25lciA9IG9iamVjdC5zaWduZXI7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLnNpZ25lciA9ICIiOwogICAgfQoKICAgIHJldHVybiBtZXNzYWdlOwogIH0KfTsKdmFyIGJhc2VNc2dSZWN2UGFja2V0UmVzcG9uc2UgPSB7fTsKZXhwb3J0IHZhciBNc2dSZWN2UGFja2V0UmVzcG9uc2UgPSB7CiAgZW5jb2RlOiBmdW5jdGlvbiBlbmNvZGUoXykgewogICAgdmFyIHdyaXRlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogV3JpdGVyLmNyZWF0ZSgpOwogICAgcmV0dXJuIHdyaXRlcjsKICB9LAogIGRlY29kZTogZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHsKICAgIHZhciByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgPyBuZXcgUmVhZGVyKGlucHV0KSA6IGlucHV0OwogICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7CgogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlTXNnUmVjdlBhY2tldFJlc3BvbnNlKTsKCiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkgewogICAgICB2YXIgdGFnID0gcmVhZGVyLnVpbnQzMigpOwoKICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9LAogIGZyb21KU09OOiBmdW5jdGlvbiBmcm9tSlNPTihfKSB7CiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VNc2dSZWN2UGFja2V0UmVzcG9uc2UpOwoKICAgIHJldHVybiBtZXNzYWdlOwogIH0sCiAgdG9KU09OOiBmdW5jdGlvbiB0b0pTT04oXykgewogICAgdmFyIG9iaiA9IHt9OwogICAgcmV0dXJuIG9iajsKICB9LAogIGZyb21QYXJ0aWFsOiBmdW5jdGlvbiBmcm9tUGFydGlhbChfKSB7CiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VNc2dSZWN2UGFja2V0UmVzcG9uc2UpOwoKICAgIHJldHVybiBtZXNzYWdlOwogIH0KfTsKdmFyIGJhc2VNc2dUaW1lb3V0ID0gewogIG5leHRTZXF1ZW5jZVJlY3Y6IDAsCiAgc2lnbmVyOiAiIgp9OwpleHBvcnQgdmFyIE1zZ1RpbWVvdXQgPSB7CiAgZW5jb2RlOiBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSkgewogICAgdmFyIHdyaXRlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogV3JpdGVyLmNyZWF0ZSgpOwoKICAgIGlmIChtZXNzYWdlLnBhY2tldCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIFBhY2tldC5lbmNvZGUobWVzc2FnZS5wYWNrZXQsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7CiAgICB9CgogICAgaWYgKG1lc3NhZ2UucHJvb2ZVbnJlY2VpdmVkLmxlbmd0aCAhPT0gMCkgewogICAgICB3cml0ZXIudWludDMyKDE4KS5ieXRlcyhtZXNzYWdlLnByb29mVW5yZWNlaXZlZCk7CiAgICB9CgogICAgaWYgKG1lc3NhZ2UucHJvb2ZIZWlnaHQgIT09IHVuZGVmaW5lZCkgewogICAgICBIZWlnaHQuZW5jb2RlKG1lc3NhZ2UucHJvb2ZIZWlnaHQsIHdyaXRlci51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7CiAgICB9CgogICAgaWYgKG1lc3NhZ2UubmV4dFNlcXVlbmNlUmVjdiAhPT0gMCkgewogICAgICB3cml0ZXIudWludDMyKDMyKS51aW50NjQobWVzc2FnZS5uZXh0U2VxdWVuY2VSZWN2KTsKICAgIH0KCiAgICBpZiAobWVzc2FnZS5zaWduZXIgIT09ICIiKSB7CiAgICAgIHdyaXRlci51aW50MzIoNDIpLnN0cmluZyhtZXNzYWdlLnNpZ25lcik7CiAgICB9CgogICAgcmV0dXJuIHdyaXRlcjsKICB9LAogIGRlY29kZTogZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHsKICAgIHZhciByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgPyBuZXcgUmVhZGVyKGlucHV0KSA6IGlucHV0OwogICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7CgogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlTXNnVGltZW91dCk7CgogICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHsKICAgICAgdmFyIHRhZyA9IHJlYWRlci51aW50MzIoKTsKCiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7CiAgICAgICAgY2FzZSAxOgogICAgICAgICAgbWVzc2FnZS5wYWNrZXQgPSBQYWNrZXQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDI6CiAgICAgICAgICBtZXNzYWdlLnByb29mVW5yZWNlaXZlZCA9IHJlYWRlci5ieXRlcygpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMzoKICAgICAgICAgIG1lc3NhZ2UucHJvb2ZIZWlnaHQgPSBIZWlnaHQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDQ6CiAgICAgICAgICBtZXNzYWdlLm5leHRTZXF1ZW5jZVJlY3YgPSBsb25nVG9OdW1iZXIocmVhZGVyLnVpbnQ2NCgpKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDU6CiAgICAgICAgICBtZXNzYWdlLnNpZ25lciA9IHJlYWRlci5zdHJpbmcoKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9LAogIGZyb21KU09OOiBmdW5jdGlvbiBmcm9tSlNPTihvYmplY3QpIHsKICAgIHZhciBtZXNzYWdlID0gX29iamVjdFNwcmVhZCh7fSwgYmFzZU1zZ1RpbWVvdXQpOwoKICAgIGlmIChvYmplY3QucGFja2V0ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnBhY2tldCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLnBhY2tldCA9IFBhY2tldC5mcm9tSlNPTihvYmplY3QucGFja2V0KTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UucGFja2V0ID0gdW5kZWZpbmVkOwogICAgfQoKICAgIGlmIChvYmplY3QucHJvb2ZVbnJlY2VpdmVkICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnByb29mVW5yZWNlaXZlZCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLnByb29mVW5yZWNlaXZlZCA9IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QucHJvb2ZVbnJlY2VpdmVkKTsKICAgIH0KCiAgICBpZiAob2JqZWN0LnByb29mSGVpZ2h0ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnByb29mSGVpZ2h0ICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UucHJvb2ZIZWlnaHQgPSBIZWlnaHQuZnJvbUpTT04ob2JqZWN0LnByb29mSGVpZ2h0KTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UucHJvb2ZIZWlnaHQgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgaWYgKG9iamVjdC5uZXh0U2VxdWVuY2VSZWN2ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0Lm5leHRTZXF1ZW5jZVJlY3YgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5uZXh0U2VxdWVuY2VSZWN2ID0gTnVtYmVyKG9iamVjdC5uZXh0U2VxdWVuY2VSZWN2KTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UubmV4dFNlcXVlbmNlUmVjdiA9IDA7CiAgICB9CgogICAgaWYgKG9iamVjdC5zaWduZXIgIT09IHVuZGVmaW5lZCAmJiBvYmplY3Quc2lnbmVyICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2Uuc2lnbmVyID0gU3RyaW5nKG9iamVjdC5zaWduZXIpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5zaWduZXIgPSAiIjsKICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9LAogIHRvSlNPTjogZnVuY3Rpb24gdG9KU09OKG1lc3NhZ2UpIHsKICAgIHZhciBvYmogPSB7fTsKICAgIG1lc3NhZ2UucGFja2V0ICE9PSB1bmRlZmluZWQgJiYgKG9iai5wYWNrZXQgPSBtZXNzYWdlLnBhY2tldCA/IFBhY2tldC50b0pTT04obWVzc2FnZS5wYWNrZXQpIDogdW5kZWZpbmVkKTsKICAgIG1lc3NhZ2UucHJvb2ZVbnJlY2VpdmVkICE9PSB1bmRlZmluZWQgJiYgKG9iai5wcm9vZlVucmVjZWl2ZWQgPSBiYXNlNjRGcm9tQnl0ZXMobWVzc2FnZS5wcm9vZlVucmVjZWl2ZWQgIT09IHVuZGVmaW5lZCA/IG1lc3NhZ2UucHJvb2ZVbnJlY2VpdmVkIDogbmV3IFVpbnQ4QXJyYXkoKSkpOwogICAgbWVzc2FnZS5wcm9vZkhlaWdodCAhPT0gdW5kZWZpbmVkICYmIChvYmoucHJvb2ZIZWlnaHQgPSBtZXNzYWdlLnByb29mSGVpZ2h0ID8gSGVpZ2h0LnRvSlNPTihtZXNzYWdlLnByb29mSGVpZ2h0KSA6IHVuZGVmaW5lZCk7CiAgICBtZXNzYWdlLm5leHRTZXF1ZW5jZVJlY3YgIT09IHVuZGVmaW5lZCAmJiAob2JqLm5leHRTZXF1ZW5jZVJlY3YgPSBtZXNzYWdlLm5leHRTZXF1ZW5jZVJlY3YpOwogICAgbWVzc2FnZS5zaWduZXIgIT09IHVuZGVmaW5lZCAmJiAob2JqLnNpZ25lciA9IG1lc3NhZ2Uuc2lnbmVyKTsKICAgIHJldHVybiBvYmo7CiAgfSwKICBmcm9tUGFydGlhbDogZnVuY3Rpb24gZnJvbVBhcnRpYWwob2JqZWN0KSB7CiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VNc2dUaW1lb3V0KTsKCiAgICBpZiAob2JqZWN0LnBhY2tldCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wYWNrZXQgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5wYWNrZXQgPSBQYWNrZXQuZnJvbVBhcnRpYWwob2JqZWN0LnBhY2tldCk7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLnBhY2tldCA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICBpZiAob2JqZWN0LnByb29mVW5yZWNlaXZlZCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wcm9vZlVucmVjZWl2ZWQgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5wcm9vZlVucmVjZWl2ZWQgPSBvYmplY3QucHJvb2ZVbnJlY2VpdmVkOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5wcm9vZlVucmVjZWl2ZWQgPSBuZXcgVWludDhBcnJheSgpOwogICAgfQoKICAgIGlmIChvYmplY3QucHJvb2ZIZWlnaHQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucHJvb2ZIZWlnaHQgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5wcm9vZkhlaWdodCA9IEhlaWdodC5mcm9tUGFydGlhbChvYmplY3QucHJvb2ZIZWlnaHQpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5wcm9vZkhlaWdodCA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICBpZiAob2JqZWN0Lm5leHRTZXF1ZW5jZVJlY3YgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QubmV4dFNlcXVlbmNlUmVjdiAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLm5leHRTZXF1ZW5jZVJlY3YgPSBvYmplY3QubmV4dFNlcXVlbmNlUmVjdjsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UubmV4dFNlcXVlbmNlUmVjdiA9IDA7CiAgICB9CgogICAgaWYgKG9iamVjdC5zaWduZXIgIT09IHVuZGVmaW5lZCAmJiBvYmplY3Quc2lnbmVyICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2Uuc2lnbmVyID0gb2JqZWN0LnNpZ25lcjsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2Uuc2lnbmVyID0gIiI7CiAgICB9CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfQp9Owp2YXIgYmFzZU1zZ1RpbWVvdXRSZXNwb25zZSA9IHt9OwpleHBvcnQgdmFyIE1zZ1RpbWVvdXRSZXNwb25zZSA9IHsKICBlbmNvZGU6IGZ1bmN0aW9uIGVuY29kZShfKSB7CiAgICB2YXIgd3JpdGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBXcml0ZXIuY3JlYXRlKCk7CiAgICByZXR1cm4gd3JpdGVyOwogIH0sCiAgZGVjb2RlOiBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkgewogICAgdmFyIHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgVWludDhBcnJheSA/IG5ldyBSZWFkZXIoaW5wdXQpIDogaW5wdXQ7CiAgICB2YXIgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDsKCiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VNc2dUaW1lb3V0UmVzcG9uc2UpOwoKICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7CiAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7CgogICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykgewogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBtZXNzYWdlOwogIH0sCiAgZnJvbUpTT046IGZ1bmN0aW9uIGZyb21KU09OKF8pIHsKICAgIHZhciBtZXNzYWdlID0gX29iamVjdFNwcmVhZCh7fSwgYmFzZU1zZ1RpbWVvdXRSZXNwb25zZSk7CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfSwKICB0b0pTT046IGZ1bmN0aW9uIHRvSlNPTihfKSB7CiAgICB2YXIgb2JqID0ge307CiAgICByZXR1cm4gb2JqOwogIH0sCiAgZnJvbVBhcnRpYWw6IGZ1bmN0aW9uIGZyb21QYXJ0aWFsKF8pIHsKICAgIHZhciBtZXNzYWdlID0gX29iamVjdFNwcmVhZCh7fSwgYmFzZU1zZ1RpbWVvdXRSZXNwb25zZSk7CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfQp9Owp2YXIgYmFzZU1zZ1RpbWVvdXRPbkNsb3NlID0gewogIG5leHRTZXF1ZW5jZVJlY3Y6IDAsCiAgc2lnbmVyOiAiIgp9OwpleHBvcnQgdmFyIE1zZ1RpbWVvdXRPbkNsb3NlID0gewogIGVuY29kZTogZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UpIHsKICAgIHZhciB3cml0ZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFdyaXRlci5jcmVhdGUoKTsKCiAgICBpZiAobWVzc2FnZS5wYWNrZXQgIT09IHVuZGVmaW5lZCkgewogICAgICBQYWNrZXQuZW5jb2RlKG1lc3NhZ2UucGFja2V0LCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpOwogICAgfQoKICAgIGlmIChtZXNzYWdlLnByb29mVW5yZWNlaXZlZC5sZW5ndGggIT09IDApIHsKICAgICAgd3JpdGVyLnVpbnQzMigxOCkuYnl0ZXMobWVzc2FnZS5wcm9vZlVucmVjZWl2ZWQpOwogICAgfQoKICAgIGlmIChtZXNzYWdlLnByb29mQ2xvc2UubGVuZ3RoICE9PSAwKSB7CiAgICAgIHdyaXRlci51aW50MzIoMjYpLmJ5dGVzKG1lc3NhZ2UucHJvb2ZDbG9zZSk7CiAgICB9CgogICAgaWYgKG1lc3NhZ2UucHJvb2ZIZWlnaHQgIT09IHVuZGVmaW5lZCkgewogICAgICBIZWlnaHQuZW5jb2RlKG1lc3NhZ2UucHJvb2ZIZWlnaHQsIHdyaXRlci51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCk7CiAgICB9CgogICAgaWYgKG1lc3NhZ2UubmV4dFNlcXVlbmNlUmVjdiAhPT0gMCkgewogICAgICB3cml0ZXIudWludDMyKDQwKS51aW50NjQobWVzc2FnZS5uZXh0U2VxdWVuY2VSZWN2KTsKICAgIH0KCiAgICBpZiAobWVzc2FnZS5zaWduZXIgIT09ICIiKSB7CiAgICAgIHdyaXRlci51aW50MzIoNTApLnN0cmluZyhtZXNzYWdlLnNpZ25lcik7CiAgICB9CgogICAgcmV0dXJuIHdyaXRlcjsKICB9LAogIGRlY29kZTogZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHsKICAgIHZhciByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgPyBuZXcgUmVhZGVyKGlucHV0KSA6IGlucHV0OwogICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7CgogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlTXNnVGltZW91dE9uQ2xvc2UpOwoKICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7CiAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7CgogICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykgewogICAgICAgIGNhc2UgMToKICAgICAgICAgIG1lc3NhZ2UucGFja2V0ID0gUGFja2V0LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAyOgogICAgICAgICAgbWVzc2FnZS5wcm9vZlVucmVjZWl2ZWQgPSByZWFkZXIuYnl0ZXMoKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDM6CiAgICAgICAgICBtZXNzYWdlLnByb29mQ2xvc2UgPSByZWFkZXIuYnl0ZXMoKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDQ6CiAgICAgICAgICBtZXNzYWdlLnByb29mSGVpZ2h0ID0gSGVpZ2h0LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSA1OgogICAgICAgICAgbWVzc2FnZS5uZXh0U2VxdWVuY2VSZWN2ID0gbG9uZ1RvTnVtYmVyKHJlYWRlci51aW50NjQoKSk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSA2OgogICAgICAgICAgbWVzc2FnZS5zaWduZXIgPSByZWFkZXIuc3RyaW5nKCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfSwKICBmcm9tSlNPTjogZnVuY3Rpb24gZnJvbUpTT04ob2JqZWN0KSB7CiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VNc2dUaW1lb3V0T25DbG9zZSk7CgogICAgaWYgKG9iamVjdC5wYWNrZXQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucGFja2V0ICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UucGFja2V0ID0gUGFja2V0LmZyb21KU09OKG9iamVjdC5wYWNrZXQpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5wYWNrZXQgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgaWYgKG9iamVjdC5wcm9vZlVucmVjZWl2ZWQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucHJvb2ZVbnJlY2VpdmVkICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UucHJvb2ZVbnJlY2VpdmVkID0gYnl0ZXNGcm9tQmFzZTY0KG9iamVjdC5wcm9vZlVucmVjZWl2ZWQpOwogICAgfQoKICAgIGlmIChvYmplY3QucHJvb2ZDbG9zZSAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wcm9vZkNsb3NlICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UucHJvb2ZDbG9zZSA9IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QucHJvb2ZDbG9zZSk7CiAgICB9CgogICAgaWYgKG9iamVjdC5wcm9vZkhlaWdodCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wcm9vZkhlaWdodCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLnByb29mSGVpZ2h0ID0gSGVpZ2h0LmZyb21KU09OKG9iamVjdC5wcm9vZkhlaWdodCk7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLnByb29mSGVpZ2h0ID0gdW5kZWZpbmVkOwogICAgfQoKICAgIGlmIChvYmplY3QubmV4dFNlcXVlbmNlUmVjdiAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5uZXh0U2VxdWVuY2VSZWN2ICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UubmV4dFNlcXVlbmNlUmVjdiA9IE51bWJlcihvYmplY3QubmV4dFNlcXVlbmNlUmVjdik7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLm5leHRTZXF1ZW5jZVJlY3YgPSAwOwogICAgfQoKICAgIGlmIChvYmplY3Quc2lnbmVyICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnNpZ25lciAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLnNpZ25lciA9IFN0cmluZyhvYmplY3Quc2lnbmVyKTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2Uuc2lnbmVyID0gIiI7CiAgICB9CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfSwKICB0b0pTT046IGZ1bmN0aW9uIHRvSlNPTihtZXNzYWdlKSB7CiAgICB2YXIgb2JqID0ge307CiAgICBtZXNzYWdlLnBhY2tldCAhPT0gdW5kZWZpbmVkICYmIChvYmoucGFja2V0ID0gbWVzc2FnZS5wYWNrZXQgPyBQYWNrZXQudG9KU09OKG1lc3NhZ2UucGFja2V0KSA6IHVuZGVmaW5lZCk7CiAgICBtZXNzYWdlLnByb29mVW5yZWNlaXZlZCAhPT0gdW5kZWZpbmVkICYmIChvYmoucHJvb2ZVbnJlY2VpdmVkID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2UucHJvb2ZVbnJlY2VpdmVkICE9PSB1bmRlZmluZWQgPyBtZXNzYWdlLnByb29mVW5yZWNlaXZlZCA6IG5ldyBVaW50OEFycmF5KCkpKTsKICAgIG1lc3NhZ2UucHJvb2ZDbG9zZSAhPT0gdW5kZWZpbmVkICYmIChvYmoucHJvb2ZDbG9zZSA9IGJhc2U2NEZyb21CeXRlcyhtZXNzYWdlLnByb29mQ2xvc2UgIT09IHVuZGVmaW5lZCA/IG1lc3NhZ2UucHJvb2ZDbG9zZSA6IG5ldyBVaW50OEFycmF5KCkpKTsKICAgIG1lc3NhZ2UucHJvb2ZIZWlnaHQgIT09IHVuZGVmaW5lZCAmJiAob2JqLnByb29mSGVpZ2h0ID0gbWVzc2FnZS5wcm9vZkhlaWdodCA/IEhlaWdodC50b0pTT04obWVzc2FnZS5wcm9vZkhlaWdodCkgOiB1bmRlZmluZWQpOwogICAgbWVzc2FnZS5uZXh0U2VxdWVuY2VSZWN2ICE9PSB1bmRlZmluZWQgJiYgKG9iai5uZXh0U2VxdWVuY2VSZWN2ID0gbWVzc2FnZS5uZXh0U2VxdWVuY2VSZWN2KTsKICAgIG1lc3NhZ2Uuc2lnbmVyICE9PSB1bmRlZmluZWQgJiYgKG9iai5zaWduZXIgPSBtZXNzYWdlLnNpZ25lcik7CiAgICByZXR1cm4gb2JqOwogIH0sCiAgZnJvbVBhcnRpYWw6IGZ1bmN0aW9uIGZyb21QYXJ0aWFsKG9iamVjdCkgewogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlTXNnVGltZW91dE9uQ2xvc2UpOwoKICAgIGlmIChvYmplY3QucGFja2V0ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnBhY2tldCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLnBhY2tldCA9IFBhY2tldC5mcm9tUGFydGlhbChvYmplY3QucGFja2V0KTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UucGFja2V0ID0gdW5kZWZpbmVkOwogICAgfQoKICAgIGlmIChvYmplY3QucHJvb2ZVbnJlY2VpdmVkICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnByb29mVW5yZWNlaXZlZCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLnByb29mVW5yZWNlaXZlZCA9IG9iamVjdC5wcm9vZlVucmVjZWl2ZWQ7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLnByb29mVW5yZWNlaXZlZCA9IG5ldyBVaW50OEFycmF5KCk7CiAgICB9CgogICAgaWYgKG9iamVjdC5wcm9vZkNsb3NlICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnByb29mQ2xvc2UgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5wcm9vZkNsb3NlID0gb2JqZWN0LnByb29mQ2xvc2U7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLnByb29mQ2xvc2UgPSBuZXcgVWludDhBcnJheSgpOwogICAgfQoKICAgIGlmIChvYmplY3QucHJvb2ZIZWlnaHQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucHJvb2ZIZWlnaHQgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5wcm9vZkhlaWdodCA9IEhlaWdodC5mcm9tUGFydGlhbChvYmplY3QucHJvb2ZIZWlnaHQpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5wcm9vZkhlaWdodCA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICBpZiAob2JqZWN0Lm5leHRTZXF1ZW5jZVJlY3YgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QubmV4dFNlcXVlbmNlUmVjdiAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLm5leHRTZXF1ZW5jZVJlY3YgPSBvYmplY3QubmV4dFNlcXVlbmNlUmVjdjsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UubmV4dFNlcXVlbmNlUmVjdiA9IDA7CiAgICB9CgogICAgaWYgKG9iamVjdC5zaWduZXIgIT09IHVuZGVmaW5lZCAmJiBvYmplY3Quc2lnbmVyICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2Uuc2lnbmVyID0gb2JqZWN0LnNpZ25lcjsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2Uuc2lnbmVyID0gIiI7CiAgICB9CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfQp9Owp2YXIgYmFzZU1zZ1RpbWVvdXRPbkNsb3NlUmVzcG9uc2UgPSB7fTsKZXhwb3J0IHZhciBNc2dUaW1lb3V0T25DbG9zZVJlc3BvbnNlID0gewogIGVuY29kZTogZnVuY3Rpb24gZW5jb2RlKF8pIHsKICAgIHZhciB3cml0ZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFdyaXRlci5jcmVhdGUoKTsKICAgIHJldHVybiB3cml0ZXI7CiAgfSwKICBkZWNvZGU6IGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7CiAgICB2YXIgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBVaW50OEFycmF5ID8gbmV3IFJlYWRlcihpbnB1dCkgOiBpbnB1dDsKICAgIHZhciBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoOwoKICAgIHZhciBtZXNzYWdlID0gX29iamVjdFNwcmVhZCh7fSwgYmFzZU1zZ1RpbWVvdXRPbkNsb3NlUmVzcG9uc2UpOwoKICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7CiAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7CgogICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykgewogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBtZXNzYWdlOwogIH0sCiAgZnJvbUpTT046IGZ1bmN0aW9uIGZyb21KU09OKF8pIHsKICAgIHZhciBtZXNzYWdlID0gX29iamVjdFNwcmVhZCh7fSwgYmFzZU1zZ1RpbWVvdXRPbkNsb3NlUmVzcG9uc2UpOwoKICAgIHJldHVybiBtZXNzYWdlOwogIH0sCiAgdG9KU09OOiBmdW5jdGlvbiB0b0pTT04oXykgewogICAgdmFyIG9iaiA9IHt9OwogICAgcmV0dXJuIG9iajsKICB9LAogIGZyb21QYXJ0aWFsOiBmdW5jdGlvbiBmcm9tUGFydGlhbChfKSB7CiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VNc2dUaW1lb3V0T25DbG9zZVJlc3BvbnNlKTsKCiAgICByZXR1cm4gbWVzc2FnZTsKICB9Cn07CnZhciBiYXNlTXNnQWNrbm93bGVkZ2VtZW50ID0gewogIHNpZ25lcjogIiIKfTsKZXhwb3J0IHZhciBNc2dBY2tub3dsZWRnZW1lbnQgPSB7CiAgZW5jb2RlOiBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSkgewogICAgdmFyIHdyaXRlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogV3JpdGVyLmNyZWF0ZSgpOwoKICAgIGlmIChtZXNzYWdlLnBhY2tldCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIFBhY2tldC5lbmNvZGUobWVzc2FnZS5wYWNrZXQsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7CiAgICB9CgogICAgaWYgKG1lc3NhZ2UuYWNrbm93bGVkZ2VtZW50Lmxlbmd0aCAhPT0gMCkgewogICAgICB3cml0ZXIudWludDMyKDE4KS5ieXRlcyhtZXNzYWdlLmFja25vd2xlZGdlbWVudCk7CiAgICB9CgogICAgaWYgKG1lc3NhZ2UucHJvb2ZBY2tlZC5sZW5ndGggIT09IDApIHsKICAgICAgd3JpdGVyLnVpbnQzMigyNikuYnl0ZXMobWVzc2FnZS5wcm9vZkFja2VkKTsKICAgIH0KCiAgICBpZiAobWVzc2FnZS5wcm9vZkhlaWdodCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIEhlaWdodC5lbmNvZGUobWVzc2FnZS5wcm9vZkhlaWdodCwgd3JpdGVyLnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTsKICAgIH0KCiAgICBpZiAobWVzc2FnZS5zaWduZXIgIT09ICIiKSB7CiAgICAgIHdyaXRlci51aW50MzIoNDIpLnN0cmluZyhtZXNzYWdlLnNpZ25lcik7CiAgICB9CgogICAgcmV0dXJuIHdyaXRlcjsKICB9LAogIGRlY29kZTogZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHsKICAgIHZhciByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgPyBuZXcgUmVhZGVyKGlucHV0KSA6IGlucHV0OwogICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7CgogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlTXNnQWNrbm93bGVkZ2VtZW50KTsKCiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkgewogICAgICB2YXIgdGFnID0gcmVhZGVyLnVpbnQzMigpOwoKICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHsKICAgICAgICBjYXNlIDE6CiAgICAgICAgICBtZXNzYWdlLnBhY2tldCA9IFBhY2tldC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMjoKICAgICAgICAgIG1lc3NhZ2UuYWNrbm93bGVkZ2VtZW50ID0gcmVhZGVyLmJ5dGVzKCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAzOgogICAgICAgICAgbWVzc2FnZS5wcm9vZkFja2VkID0gcmVhZGVyLmJ5dGVzKCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSA0OgogICAgICAgICAgbWVzc2FnZS5wcm9vZkhlaWdodCA9IEhlaWdodC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgNToKICAgICAgICAgIG1lc3NhZ2Uuc2lnbmVyID0gcmVhZGVyLnN0cmluZygpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBtZXNzYWdlOwogIH0sCiAgZnJvbUpTT046IGZ1bmN0aW9uIGZyb21KU09OKG9iamVjdCkgewogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlTXNnQWNrbm93bGVkZ2VtZW50KTsKCiAgICBpZiAob2JqZWN0LnBhY2tldCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wYWNrZXQgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5wYWNrZXQgPSBQYWNrZXQuZnJvbUpTT04ob2JqZWN0LnBhY2tldCk7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLnBhY2tldCA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICBpZiAob2JqZWN0LmFja25vd2xlZGdlbWVudCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5hY2tub3dsZWRnZW1lbnQgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5hY2tub3dsZWRnZW1lbnQgPSBieXRlc0Zyb21CYXNlNjQob2JqZWN0LmFja25vd2xlZGdlbWVudCk7CiAgICB9CgogICAgaWYgKG9iamVjdC5wcm9vZkFja2VkICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnByb29mQWNrZWQgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5wcm9vZkFja2VkID0gYnl0ZXNGcm9tQmFzZTY0KG9iamVjdC5wcm9vZkFja2VkKTsKICAgIH0KCiAgICBpZiAob2JqZWN0LnByb29mSGVpZ2h0ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnByb29mSGVpZ2h0ICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UucHJvb2ZIZWlnaHQgPSBIZWlnaHQuZnJvbUpTT04ob2JqZWN0LnByb29mSGVpZ2h0KTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UucHJvb2ZIZWlnaHQgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgaWYgKG9iamVjdC5zaWduZXIgIT09IHVuZGVmaW5lZCAmJiBvYmplY3Quc2lnbmVyICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2Uuc2lnbmVyID0gU3RyaW5nKG9iamVjdC5zaWduZXIpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5zaWduZXIgPSAiIjsKICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9LAogIHRvSlNPTjogZnVuY3Rpb24gdG9KU09OKG1lc3NhZ2UpIHsKICAgIHZhciBvYmogPSB7fTsKICAgIG1lc3NhZ2UucGFja2V0ICE9PSB1bmRlZmluZWQgJiYgKG9iai5wYWNrZXQgPSBtZXNzYWdlLnBhY2tldCA/IFBhY2tldC50b0pTT04obWVzc2FnZS5wYWNrZXQpIDogdW5kZWZpbmVkKTsKICAgIG1lc3NhZ2UuYWNrbm93bGVkZ2VtZW50ICE9PSB1bmRlZmluZWQgJiYgKG9iai5hY2tub3dsZWRnZW1lbnQgPSBiYXNlNjRGcm9tQnl0ZXMobWVzc2FnZS5hY2tub3dsZWRnZW1lbnQgIT09IHVuZGVmaW5lZCA/IG1lc3NhZ2UuYWNrbm93bGVkZ2VtZW50IDogbmV3IFVpbnQ4QXJyYXkoKSkpOwogICAgbWVzc2FnZS5wcm9vZkFja2VkICE9PSB1bmRlZmluZWQgJiYgKG9iai5wcm9vZkFja2VkID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2UucHJvb2ZBY2tlZCAhPT0gdW5kZWZpbmVkID8gbWVzc2FnZS5wcm9vZkFja2VkIDogbmV3IFVpbnQ4QXJyYXkoKSkpOwogICAgbWVzc2FnZS5wcm9vZkhlaWdodCAhPT0gdW5kZWZpbmVkICYmIChvYmoucHJvb2ZIZWlnaHQgPSBtZXNzYWdlLnByb29mSGVpZ2h0ID8gSGVpZ2h0LnRvSlNPTihtZXNzYWdlLnByb29mSGVpZ2h0KSA6IHVuZGVmaW5lZCk7CiAgICBtZXNzYWdlLnNpZ25lciAhPT0gdW5kZWZpbmVkICYmIChvYmouc2lnbmVyID0gbWVzc2FnZS5zaWduZXIpOwogICAgcmV0dXJuIG9iajsKICB9LAogIGZyb21QYXJ0aWFsOiBmdW5jdGlvbiBmcm9tUGFydGlhbChvYmplY3QpIHsKICAgIHZhciBtZXNzYWdlID0gX29iamVjdFNwcmVhZCh7fSwgYmFzZU1zZ0Fja25vd2xlZGdlbWVudCk7CgogICAgaWYgKG9iamVjdC5wYWNrZXQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucGFja2V0ICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UucGFja2V0ID0gUGFja2V0LmZyb21QYXJ0aWFsKG9iamVjdC5wYWNrZXQpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5wYWNrZXQgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgaWYgKG9iamVjdC5hY2tub3dsZWRnZW1lbnQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuYWNrbm93bGVkZ2VtZW50ICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UuYWNrbm93bGVkZ2VtZW50ID0gb2JqZWN0LmFja25vd2xlZGdlbWVudDsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UuYWNrbm93bGVkZ2VtZW50ID0gbmV3IFVpbnQ4QXJyYXkoKTsKICAgIH0KCiAgICBpZiAob2JqZWN0LnByb29mQWNrZWQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucHJvb2ZBY2tlZCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLnByb29mQWNrZWQgPSBvYmplY3QucHJvb2ZBY2tlZDsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UucHJvb2ZBY2tlZCA9IG5ldyBVaW50OEFycmF5KCk7CiAgICB9CgogICAgaWYgKG9iamVjdC5wcm9vZkhlaWdodCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wcm9vZkhlaWdodCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLnByb29mSGVpZ2h0ID0gSGVpZ2h0LmZyb21QYXJ0aWFsKG9iamVjdC5wcm9vZkhlaWdodCk7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLnByb29mSGVpZ2h0ID0gdW5kZWZpbmVkOwogICAgfQoKICAgIGlmIChvYmplY3Quc2lnbmVyICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnNpZ25lciAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLnNpZ25lciA9IG9iamVjdC5zaWduZXI7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLnNpZ25lciA9ICIiOwogICAgfQoKICAgIHJldHVybiBtZXNzYWdlOwogIH0KfTsKdmFyIGJhc2VNc2dBY2tub3dsZWRnZW1lbnRSZXNwb25zZSA9IHt9OwpleHBvcnQgdmFyIE1zZ0Fja25vd2xlZGdlbWVudFJlc3BvbnNlID0gewogIGVuY29kZTogZnVuY3Rpb24gZW5jb2RlKF8pIHsKICAgIHZhciB3cml0ZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFdyaXRlci5jcmVhdGUoKTsKICAgIHJldHVybiB3cml0ZXI7CiAgfSwKICBkZWNvZGU6IGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7CiAgICB2YXIgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBVaW50OEFycmF5ID8gbmV3IFJlYWRlcihpbnB1dCkgOiBpbnB1dDsKICAgIHZhciBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoOwoKICAgIHZhciBtZXNzYWdlID0gX29iamVjdFNwcmVhZCh7fSwgYmFzZU1zZ0Fja25vd2xlZGdlbWVudFJlc3BvbnNlKTsKCiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkgewogICAgICB2YXIgdGFnID0gcmVhZGVyLnVpbnQzMigpOwoKICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9LAogIGZyb21KU09OOiBmdW5jdGlvbiBmcm9tSlNPTihfKSB7CiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VNc2dBY2tub3dsZWRnZW1lbnRSZXNwb25zZSk7CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfSwKICB0b0pTT046IGZ1bmN0aW9uIHRvSlNPTihfKSB7CiAgICB2YXIgb2JqID0ge307CiAgICByZXR1cm4gb2JqOwogIH0sCiAgZnJvbVBhcnRpYWw6IGZ1bmN0aW9uIGZyb21QYXJ0aWFsKF8pIHsKICAgIHZhciBtZXNzYWdlID0gX29iamVjdFNwcmVhZCh7fSwgYmFzZU1zZ0Fja25vd2xlZGdlbWVudFJlc3BvbnNlKTsKCiAgICByZXR1cm4gbWVzc2FnZTsKICB9Cn07CmV4cG9ydCB2YXIgTXNnQ2xpZW50SW1wbCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gTXNnQ2xpZW50SW1wbChycGMpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNc2dDbGllbnRJbXBsKTsKCiAgICB0aGlzLnJwYyA9IHJwYzsKICB9CgogIF9jcmVhdGVDbGFzcyhNc2dDbGllbnRJbXBsLCBbewogICAga2V5OiAiQ2hhbm5lbE9wZW5Jbml0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBDaGFubmVsT3BlbkluaXQocmVxdWVzdCkgewogICAgICB2YXIgZGF0YSA9IE1zZ0NoYW5uZWxPcGVuSW5pdC5lbmNvZGUocmVxdWVzdCkuZmluaXNoKCk7CiAgICAgIHZhciBwcm9taXNlID0gdGhpcy5ycGMucmVxdWVzdCgiaWJjLmNvcmUuY2hhbm5lbC52MS5Nc2ciLCAiQ2hhbm5lbE9wZW5Jbml0IiwgZGF0YSk7CiAgICAgIHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICByZXR1cm4gTXNnQ2hhbm5lbE9wZW5Jbml0UmVzcG9uc2UuZGVjb2RlKG5ldyBSZWFkZXIoZGF0YSkpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJDaGFubmVsT3BlblRyeSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gQ2hhbm5lbE9wZW5UcnkocmVxdWVzdCkgewogICAgICB2YXIgZGF0YSA9IE1zZ0NoYW5uZWxPcGVuVHJ5LmVuY29kZShyZXF1ZXN0KS5maW5pc2goKTsKICAgICAgdmFyIHByb21pc2UgPSB0aGlzLnJwYy5yZXF1ZXN0KCJpYmMuY29yZS5jaGFubmVsLnYxLk1zZyIsICJDaGFubmVsT3BlblRyeSIsIGRhdGEpOwogICAgICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgcmV0dXJuIE1zZ0NoYW5uZWxPcGVuVHJ5UmVzcG9uc2UuZGVjb2RlKG5ldyBSZWFkZXIoZGF0YSkpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJDaGFubmVsT3BlbkFjayIsCiAgICB2YWx1ZTogZnVuY3Rpb24gQ2hhbm5lbE9wZW5BY2socmVxdWVzdCkgewogICAgICB2YXIgZGF0YSA9IE1zZ0NoYW5uZWxPcGVuQWNrLmVuY29kZShyZXF1ZXN0KS5maW5pc2goKTsKICAgICAgdmFyIHByb21pc2UgPSB0aGlzLnJwYy5yZXF1ZXN0KCJpYmMuY29yZS5jaGFubmVsLnYxLk1zZyIsICJDaGFubmVsT3BlbkFjayIsIGRhdGEpOwogICAgICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgcmV0dXJuIE1zZ0NoYW5uZWxPcGVuQWNrUmVzcG9uc2UuZGVjb2RlKG5ldyBSZWFkZXIoZGF0YSkpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJDaGFubmVsT3BlbkNvbmZpcm0iLAogICAgdmFsdWU6IGZ1bmN0aW9uIENoYW5uZWxPcGVuQ29uZmlybShyZXF1ZXN0KSB7CiAgICAgIHZhciBkYXRhID0gTXNnQ2hhbm5lbE9wZW5Db25maXJtLmVuY29kZShyZXF1ZXN0KS5maW5pc2goKTsKICAgICAgdmFyIHByb21pc2UgPSB0aGlzLnJwYy5yZXF1ZXN0KCJpYmMuY29yZS5jaGFubmVsLnYxLk1zZyIsICJDaGFubmVsT3BlbkNvbmZpcm0iLCBkYXRhKTsKICAgICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIHJldHVybiBNc2dDaGFubmVsT3BlbkNvbmZpcm1SZXNwb25zZS5kZWNvZGUobmV3IFJlYWRlcihkYXRhKSk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogIkNoYW5uZWxDbG9zZUluaXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIENoYW5uZWxDbG9zZUluaXQocmVxdWVzdCkgewogICAgICB2YXIgZGF0YSA9IE1zZ0NoYW5uZWxDbG9zZUluaXQuZW5jb2RlKHJlcXVlc3QpLmZpbmlzaCgpOwogICAgICB2YXIgcHJvbWlzZSA9IHRoaXMucnBjLnJlcXVlc3QoImliYy5jb3JlLmNoYW5uZWwudjEuTXNnIiwgIkNoYW5uZWxDbG9zZUluaXQiLCBkYXRhKTsKICAgICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIHJldHVybiBNc2dDaGFubmVsQ2xvc2VJbml0UmVzcG9uc2UuZGVjb2RlKG5ldyBSZWFkZXIoZGF0YSkpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJDaGFubmVsQ2xvc2VDb25maXJtIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBDaGFubmVsQ2xvc2VDb25maXJtKHJlcXVlc3QpIHsKICAgICAgdmFyIGRhdGEgPSBNc2dDaGFubmVsQ2xvc2VDb25maXJtLmVuY29kZShyZXF1ZXN0KS5maW5pc2goKTsKICAgICAgdmFyIHByb21pc2UgPSB0aGlzLnJwYy5yZXF1ZXN0KCJpYmMuY29yZS5jaGFubmVsLnYxLk1zZyIsICJDaGFubmVsQ2xvc2VDb25maXJtIiwgZGF0YSk7CiAgICAgIHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICByZXR1cm4gTXNnQ2hhbm5lbENsb3NlQ29uZmlybVJlc3BvbnNlLmRlY29kZShuZXcgUmVhZGVyKGRhdGEpKTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiUmVjdlBhY2tldCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gUmVjdlBhY2tldChyZXF1ZXN0KSB7CiAgICAgIHZhciBkYXRhID0gTXNnUmVjdlBhY2tldC5lbmNvZGUocmVxdWVzdCkuZmluaXNoKCk7CiAgICAgIHZhciBwcm9taXNlID0gdGhpcy5ycGMucmVxdWVzdCgiaWJjLmNvcmUuY2hhbm5lbC52MS5Nc2ciLCAiUmVjdlBhY2tldCIsIGRhdGEpOwogICAgICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgcmV0dXJuIE1zZ1JlY3ZQYWNrZXRSZXNwb25zZS5kZWNvZGUobmV3IFJlYWRlcihkYXRhKSk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogIlRpbWVvdXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIFRpbWVvdXQocmVxdWVzdCkgewogICAgICB2YXIgZGF0YSA9IE1zZ1RpbWVvdXQuZW5jb2RlKHJlcXVlc3QpLmZpbmlzaCgpOwogICAgICB2YXIgcHJvbWlzZSA9IHRoaXMucnBjLnJlcXVlc3QoImliYy5jb3JlLmNoYW5uZWwudjEuTXNnIiwgIlRpbWVvdXQiLCBkYXRhKTsKICAgICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIHJldHVybiBNc2dUaW1lb3V0UmVzcG9uc2UuZGVjb2RlKG5ldyBSZWFkZXIoZGF0YSkpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJUaW1lb3V0T25DbG9zZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gVGltZW91dE9uQ2xvc2UocmVxdWVzdCkgewogICAgICB2YXIgZGF0YSA9IE1zZ1RpbWVvdXRPbkNsb3NlLmVuY29kZShyZXF1ZXN0KS5maW5pc2goKTsKICAgICAgdmFyIHByb21pc2UgPSB0aGlzLnJwYy5yZXF1ZXN0KCJpYmMuY29yZS5jaGFubmVsLnYxLk1zZyIsICJUaW1lb3V0T25DbG9zZSIsIGRhdGEpOwogICAgICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgcmV0dXJuIE1zZ1RpbWVvdXRPbkNsb3NlUmVzcG9uc2UuZGVjb2RlKG5ldyBSZWFkZXIoZGF0YSkpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJBY2tub3dsZWRnZW1lbnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIEFja25vd2xlZGdlbWVudChyZXF1ZXN0KSB7CiAgICAgIHZhciBkYXRhID0gTXNnQWNrbm93bGVkZ2VtZW50LmVuY29kZShyZXF1ZXN0KS5maW5pc2goKTsKICAgICAgdmFyIHByb21pc2UgPSB0aGlzLnJwYy5yZXF1ZXN0KCJpYmMuY29yZS5jaGFubmVsLnYxLk1zZyIsICJBY2tub3dsZWRnZW1lbnQiLCBkYXRhKTsKICAgICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIHJldHVybiBNc2dBY2tub3dsZWRnZW1lbnRSZXNwb25zZS5kZWNvZGUobmV3IFJlYWRlcihkYXRhKSk7CiAgICAgIH0pOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIE1zZ0NsaWVudEltcGw7Cn0oKTsKCnZhciBnbG9iYWxUaGlzID0gZnVuY3Rpb24gKCkgewogIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gInVuZGVmaW5lZCIpIHJldHVybiBnbG9iYWxUaGlzOwogIGlmICh0eXBlb2Ygc2VsZiAhPT0gInVuZGVmaW5lZCIpIHJldHVybiBzZWxmOwogIGlmICh0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIikgcmV0dXJuIHdpbmRvdzsKICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gInVuZGVmaW5lZCIpIHJldHVybiBnbG9iYWw7CiAgdGhyb3cgIlVuYWJsZSB0byBsb2NhdGUgZ2xvYmFsIG9iamVjdCI7Cn0oKTsKCnZhciBhdG9iID0gZ2xvYmFsVGhpcy5hdG9iIHx8IGZ1bmN0aW9uIChiNjQpIHsKICByZXR1cm4gZ2xvYmFsVGhpcy5CdWZmZXIuZnJvbShiNjQsICJiYXNlNjQiKS50b1N0cmluZygiYmluYXJ5Iik7Cn07CgpmdW5jdGlvbiBieXRlc0Zyb21CYXNlNjQoYjY0KSB7CiAgdmFyIGJpbiA9IGF0b2IoYjY0KTsKICB2YXIgYXJyID0gbmV3IFVpbnQ4QXJyYXkoYmluLmxlbmd0aCk7CgogIGZvciAodmFyIGkgPSAwOyBpIDwgYmluLmxlbmd0aDsgKytpKSB7CiAgICBhcnJbaV0gPSBiaW4uY2hhckNvZGVBdChpKTsKICB9CgogIHJldHVybiBhcnI7Cn0KCnZhciBidG9hID0gZ2xvYmFsVGhpcy5idG9hIHx8IGZ1bmN0aW9uIChiaW4pIHsKICByZXR1cm4gZ2xvYmFsVGhpcy5CdWZmZXIuZnJvbShiaW4sICJiaW5hcnkiKS50b1N0cmluZygiYmFzZTY0Iik7Cn07CgpmdW5jdGlvbiBiYXNlNjRGcm9tQnl0ZXMoYXJyKSB7CiAgdmFyIGJpbiA9IFtdOwoKICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5ieXRlTGVuZ3RoOyArK2kpIHsKICAgIGJpbi5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoYXJyW2ldKSk7CiAgfQoKICByZXR1cm4gYnRvYShiaW4uam9pbigiIikpOwp9CgpmdW5jdGlvbiBsb25nVG9OdW1iZXIobG9uZykgewogIGlmIChsb25nLmd0KE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKSkgewogICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoIlZhbHVlIGlzIGxhcmdlciB0aGFuIE51bWJlci5NQVhfU0FGRV9JTlRFR0VSIik7CiAgfQoKICByZXR1cm4gbG9uZy50b051bWJlcigpOwp9CgppZiAodXRpbC5Mb25nICE9PSBMb25nKSB7CiAgdXRpbC5Mb25nID0gTG9uZzsKICBjb25maWd1cmUoKTsKfQ=="},{"version":3,"sources":["/home/saptarsi/go/src/hackathon/shiaa3/vue/src/store/generated/cosmos/cosmos-sdk/ibc.core.channel.v1/module/types/ibc/core/channel/v1/tx.js"],"names":["Reader","util","configure","Writer","Long","Channel","Packet","Height","protobufPackage","baseMsgChannelOpenInit","portId","signer","MsgChannelOpenInit","encode","message","writer","create","uint32","string","channel","undefined","fork","ldelim","decode","input","length","reader","Uint8Array","end","len","pos","tag","skipType","fromJSON","object","String","toJSON","obj","fromPartial","baseMsgChannelOpenInitResponse","MsgChannelOpenInitResponse","_","baseMsgChannelOpenTry","previousChannelId","counterpartyVersion","MsgChannelOpenTry","proofInit","bytes","proofHeight","bytesFromBase64","base64FromBytes","baseMsgChannelOpenTryResponse","MsgChannelOpenTryResponse","baseMsgChannelOpenAck","channelId","counterpartyChannelId","MsgChannelOpenAck","proofTry","baseMsgChannelOpenAckResponse","MsgChannelOpenAckResponse","baseMsgChannelOpenConfirm","MsgChannelOpenConfirm","proofAck","baseMsgChannelOpenConfirmResponse","MsgChannelOpenConfirmResponse","baseMsgChannelCloseInit","MsgChannelCloseInit","baseMsgChannelCloseInitResponse","MsgChannelCloseInitResponse","baseMsgChannelCloseConfirm","MsgChannelCloseConfirm","baseMsgChannelCloseConfirmResponse","MsgChannelCloseConfirmResponse","baseMsgRecvPacket","MsgRecvPacket","packet","proofCommitment","baseMsgRecvPacketResponse","MsgRecvPacketResponse","baseMsgTimeout","nextSequenceRecv","MsgTimeout","proofUnreceived","uint64","longToNumber","Number","baseMsgTimeoutResponse","MsgTimeoutResponse","baseMsgTimeoutOnClose","MsgTimeoutOnClose","proofClose","baseMsgTimeoutOnCloseResponse","MsgTimeoutOnCloseResponse","baseMsgAcknowledgement","MsgAcknowledgement","acknowledgement","proofAcked","baseMsgAcknowledgementResponse","MsgAcknowledgementResponse","MsgClientImpl","rpc","request","data","finish","promise","then","globalThis","self","window","global","atob","b64","Buffer","from","toString","bin","arr","i","charCodeAt","btoa","byteLength","push","fromCharCode","join","long","gt","MAX_SAFE_INTEGER","Error","toNumber"],"mappings":"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","sourcesContent":["/* eslint-disable */\nimport { Reader, util, configure, Writer } from \"protobufjs/minimal\";\nimport * as Long from \"long\";\nimport { Channel, Packet } from \"../../../../ibc/core/channel/v1/channel\";\nimport { Height } from \"../../../../ibc/core/client/v1/client\";\nexport const protobufPackage = \"ibc.core.channel.v1\";\nconst baseMsgChannelOpenInit = { portId: \"\", signer: \"\" };\nexport const MsgChannelOpenInit = {\n    encode(message, writer = Writer.create()) {\n        if (message.portId !== \"\") {\n            writer.uint32(10).string(message.portId);\n        }\n        if (message.channel !== undefined) {\n            Channel.encode(message.channel, writer.uint32(18).fork()).ldelim();\n        }\n        if (message.signer !== \"\") {\n            writer.uint32(26).string(message.signer);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = { ...baseMsgChannelOpenInit };\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.portId = reader.string();\n                    break;\n                case 2:\n                    message.channel = Channel.decode(reader, reader.uint32());\n                    break;\n                case 3:\n                    message.signer = reader.string();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const message = { ...baseMsgChannelOpenInit };\n        if (object.portId !== undefined && object.portId !== null) {\n            message.portId = String(object.portId);\n        }\n        else {\n            message.portId = \"\";\n        }\n        if (object.channel !== undefined && object.channel !== null) {\n            message.channel = Channel.fromJSON(object.channel);\n        }\n        else {\n            message.channel = undefined;\n        }\n        if (object.signer !== undefined && object.signer !== null) {\n            message.signer = String(object.signer);\n        }\n        else {\n            message.signer = \"\";\n        }\n        return message;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.portId !== undefined && (obj.portId = message.portId);\n        message.channel !== undefined &&\n            (obj.channel = message.channel\n                ? Channel.toJSON(message.channel)\n                : undefined);\n        message.signer !== undefined && (obj.signer = message.signer);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = { ...baseMsgChannelOpenInit };\n        if (object.portId !== undefined && object.portId !== null) {\n            message.portId = object.portId;\n        }\n        else {\n            message.portId = \"\";\n        }\n        if (object.channel !== undefined && object.channel !== null) {\n            message.channel = Channel.fromPartial(object.channel);\n        }\n        else {\n            message.channel = undefined;\n        }\n        if (object.signer !== undefined && object.signer !== null) {\n            message.signer = object.signer;\n        }\n        else {\n            message.signer = \"\";\n        }\n        return message;\n    },\n};\nconst baseMsgChannelOpenInitResponse = {};\nexport const MsgChannelOpenInitResponse = {\n    encode(_, writer = Writer.create()) {\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = {\n            ...baseMsgChannelOpenInitResponse,\n        };\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(_) {\n        const message = {\n            ...baseMsgChannelOpenInitResponse,\n        };\n        return message;\n    },\n    toJSON(_) {\n        const obj = {};\n        return obj;\n    },\n    fromPartial(_) {\n        const message = {\n            ...baseMsgChannelOpenInitResponse,\n        };\n        return message;\n    },\n};\nconst baseMsgChannelOpenTry = {\n    portId: \"\",\n    previousChannelId: \"\",\n    counterpartyVersion: \"\",\n    signer: \"\",\n};\nexport const MsgChannelOpenTry = {\n    encode(message, writer = Writer.create()) {\n        if (message.portId !== \"\") {\n            writer.uint32(10).string(message.portId);\n        }\n        if (message.previousChannelId !== \"\") {\n            writer.uint32(18).string(message.previousChannelId);\n        }\n        if (message.channel !== undefined) {\n            Channel.encode(message.channel, writer.uint32(26).fork()).ldelim();\n        }\n        if (message.counterpartyVersion !== \"\") {\n            writer.uint32(34).string(message.counterpartyVersion);\n        }\n        if (message.proofInit.length !== 0) {\n            writer.uint32(42).bytes(message.proofInit);\n        }\n        if (message.proofHeight !== undefined) {\n            Height.encode(message.proofHeight, writer.uint32(50).fork()).ldelim();\n        }\n        if (message.signer !== \"\") {\n            writer.uint32(58).string(message.signer);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = { ...baseMsgChannelOpenTry };\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.portId = reader.string();\n                    break;\n                case 2:\n                    message.previousChannelId = reader.string();\n                    break;\n                case 3:\n                    message.channel = Channel.decode(reader, reader.uint32());\n                    break;\n                case 4:\n                    message.counterpartyVersion = reader.string();\n                    break;\n                case 5:\n                    message.proofInit = reader.bytes();\n                    break;\n                case 6:\n                    message.proofHeight = Height.decode(reader, reader.uint32());\n                    break;\n                case 7:\n                    message.signer = reader.string();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const message = { ...baseMsgChannelOpenTry };\n        if (object.portId !== undefined && object.portId !== null) {\n            message.portId = String(object.portId);\n        }\n        else {\n            message.portId = \"\";\n        }\n        if (object.previousChannelId !== undefined &&\n            object.previousChannelId !== null) {\n            message.previousChannelId = String(object.previousChannelId);\n        }\n        else {\n            message.previousChannelId = \"\";\n        }\n        if (object.channel !== undefined && object.channel !== null) {\n            message.channel = Channel.fromJSON(object.channel);\n        }\n        else {\n            message.channel = undefined;\n        }\n        if (object.counterpartyVersion !== undefined &&\n            object.counterpartyVersion !== null) {\n            message.counterpartyVersion = String(object.counterpartyVersion);\n        }\n        else {\n            message.counterpartyVersion = \"\";\n        }\n        if (object.proofInit !== undefined && object.proofInit !== null) {\n            message.proofInit = bytesFromBase64(object.proofInit);\n        }\n        if (object.proofHeight !== undefined && object.proofHeight !== null) {\n            message.proofHeight = Height.fromJSON(object.proofHeight);\n        }\n        else {\n            message.proofHeight = undefined;\n        }\n        if (object.signer !== undefined && object.signer !== null) {\n            message.signer = String(object.signer);\n        }\n        else {\n            message.signer = \"\";\n        }\n        return message;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.portId !== undefined && (obj.portId = message.portId);\n        message.previousChannelId !== undefined &&\n            (obj.previousChannelId = message.previousChannelId);\n        message.channel !== undefined &&\n            (obj.channel = message.channel\n                ? Channel.toJSON(message.channel)\n                : undefined);\n        message.counterpartyVersion !== undefined &&\n            (obj.counterpartyVersion = message.counterpartyVersion);\n        message.proofInit !== undefined &&\n            (obj.proofInit = base64FromBytes(message.proofInit !== undefined ? message.proofInit : new Uint8Array()));\n        message.proofHeight !== undefined &&\n            (obj.proofHeight = message.proofHeight\n                ? Height.toJSON(message.proofHeight)\n                : undefined);\n        message.signer !== undefined && (obj.signer = message.signer);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = { ...baseMsgChannelOpenTry };\n        if (object.portId !== undefined && object.portId !== null) {\n            message.portId = object.portId;\n        }\n        else {\n            message.portId = \"\";\n        }\n        if (object.previousChannelId !== undefined &&\n            object.previousChannelId !== null) {\n            message.previousChannelId = object.previousChannelId;\n        }\n        else {\n            message.previousChannelId = \"\";\n        }\n        if (object.channel !== undefined && object.channel !== null) {\n            message.channel = Channel.fromPartial(object.channel);\n        }\n        else {\n            message.channel = undefined;\n        }\n        if (object.counterpartyVersion !== undefined &&\n            object.counterpartyVersion !== null) {\n            message.counterpartyVersion = object.counterpartyVersion;\n        }\n        else {\n            message.counterpartyVersion = \"\";\n        }\n        if (object.proofInit !== undefined && object.proofInit !== null) {\n            message.proofInit = object.proofInit;\n        }\n        else {\n            message.proofInit = new Uint8Array();\n        }\n        if (object.proofHeight !== undefined && object.proofHeight !== null) {\n            message.proofHeight = Height.fromPartial(object.proofHeight);\n        }\n        else {\n            message.proofHeight = undefined;\n        }\n        if (object.signer !== undefined && object.signer !== null) {\n            message.signer = object.signer;\n        }\n        else {\n            message.signer = \"\";\n        }\n        return message;\n    },\n};\nconst baseMsgChannelOpenTryResponse = {};\nexport const MsgChannelOpenTryResponse = {\n    encode(_, writer = Writer.create()) {\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = {\n            ...baseMsgChannelOpenTryResponse,\n        };\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(_) {\n        const message = {\n            ...baseMsgChannelOpenTryResponse,\n        };\n        return message;\n    },\n    toJSON(_) {\n        const obj = {};\n        return obj;\n    },\n    fromPartial(_) {\n        const message = {\n            ...baseMsgChannelOpenTryResponse,\n        };\n        return message;\n    },\n};\nconst baseMsgChannelOpenAck = {\n    portId: \"\",\n    channelId: \"\",\n    counterpartyChannelId: \"\",\n    counterpartyVersion: \"\",\n    signer: \"\",\n};\nexport const MsgChannelOpenAck = {\n    encode(message, writer = Writer.create()) {\n        if (message.portId !== \"\") {\n            writer.uint32(10).string(message.portId);\n        }\n        if (message.channelId !== \"\") {\n            writer.uint32(18).string(message.channelId);\n        }\n        if (message.counterpartyChannelId !== \"\") {\n            writer.uint32(26).string(message.counterpartyChannelId);\n        }\n        if (message.counterpartyVersion !== \"\") {\n            writer.uint32(34).string(message.counterpartyVersion);\n        }\n        if (message.proofTry.length !== 0) {\n            writer.uint32(42).bytes(message.proofTry);\n        }\n        if (message.proofHeight !== undefined) {\n            Height.encode(message.proofHeight, writer.uint32(50).fork()).ldelim();\n        }\n        if (message.signer !== \"\") {\n            writer.uint32(58).string(message.signer);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = { ...baseMsgChannelOpenAck };\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.portId = reader.string();\n                    break;\n                case 2:\n                    message.channelId = reader.string();\n                    break;\n                case 3:\n                    message.counterpartyChannelId = reader.string();\n                    break;\n                case 4:\n                    message.counterpartyVersion = reader.string();\n                    break;\n                case 5:\n                    message.proofTry = reader.bytes();\n                    break;\n                case 6:\n                    message.proofHeight = Height.decode(reader, reader.uint32());\n                    break;\n                case 7:\n                    message.signer = reader.string();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const message = { ...baseMsgChannelOpenAck };\n        if (object.portId !== undefined && object.portId !== null) {\n            message.portId = String(object.portId);\n        }\n        else {\n            message.portId = \"\";\n        }\n        if (object.channelId !== undefined && object.channelId !== null) {\n            message.channelId = String(object.channelId);\n        }\n        else {\n            message.channelId = \"\";\n        }\n        if (object.counterpartyChannelId !== undefined &&\n            object.counterpartyChannelId !== null) {\n            message.counterpartyChannelId = String(object.counterpartyChannelId);\n        }\n        else {\n            message.counterpartyChannelId = \"\";\n        }\n        if (object.counterpartyVersion !== undefined &&\n            object.counterpartyVersion !== null) {\n            message.counterpartyVersion = String(object.counterpartyVersion);\n        }\n        else {\n            message.counterpartyVersion = \"\";\n        }\n        if (object.proofTry !== undefined && object.proofTry !== null) {\n            message.proofTry = bytesFromBase64(object.proofTry);\n        }\n        if (object.proofHeight !== undefined && object.proofHeight !== null) {\n            message.proofHeight = Height.fromJSON(object.proofHeight);\n        }\n        else {\n            message.proofHeight = undefined;\n        }\n        if (object.signer !== undefined && object.signer !== null) {\n            message.signer = String(object.signer);\n        }\n        else {\n            message.signer = \"\";\n        }\n        return message;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.portId !== undefined && (obj.portId = message.portId);\n        message.channelId !== undefined && (obj.channelId = message.channelId);\n        message.counterpartyChannelId !== undefined &&\n            (obj.counterpartyChannelId = message.counterpartyChannelId);\n        message.counterpartyVersion !== undefined &&\n            (obj.counterpartyVersion = message.counterpartyVersion);\n        message.proofTry !== undefined &&\n            (obj.proofTry = base64FromBytes(message.proofTry !== undefined ? message.proofTry : new Uint8Array()));\n        message.proofHeight !== undefined &&\n            (obj.proofHeight = message.proofHeight\n                ? Height.toJSON(message.proofHeight)\n                : undefined);\n        message.signer !== undefined && (obj.signer = message.signer);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = { ...baseMsgChannelOpenAck };\n        if (object.portId !== undefined && object.portId !== null) {\n            message.portId = object.portId;\n        }\n        else {\n            message.portId = \"\";\n        }\n        if (object.channelId !== undefined && object.channelId !== null) {\n            message.channelId = object.channelId;\n        }\n        else {\n            message.channelId = \"\";\n        }\n        if (object.counterpartyChannelId !== undefined &&\n            object.counterpartyChannelId !== null) {\n            message.counterpartyChannelId = object.counterpartyChannelId;\n        }\n        else {\n            message.counterpartyChannelId = \"\";\n        }\n        if (object.counterpartyVersion !== undefined &&\n            object.counterpartyVersion !== null) {\n            message.counterpartyVersion = object.counterpartyVersion;\n        }\n        else {\n            message.counterpartyVersion = \"\";\n        }\n        if (object.proofTry !== undefined && object.proofTry !== null) {\n            message.proofTry = object.proofTry;\n        }\n        else {\n            message.proofTry = new Uint8Array();\n        }\n        if (object.proofHeight !== undefined && object.proofHeight !== null) {\n            message.proofHeight = Height.fromPartial(object.proofHeight);\n        }\n        else {\n            message.proofHeight = undefined;\n        }\n        if (object.signer !== undefined && object.signer !== null) {\n            message.signer = object.signer;\n        }\n        else {\n            message.signer = \"\";\n        }\n        return message;\n    },\n};\nconst baseMsgChannelOpenAckResponse = {};\nexport const MsgChannelOpenAckResponse = {\n    encode(_, writer = Writer.create()) {\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = {\n            ...baseMsgChannelOpenAckResponse,\n        };\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(_) {\n        const message = {\n            ...baseMsgChannelOpenAckResponse,\n        };\n        return message;\n    },\n    toJSON(_) {\n        const obj = {};\n        return obj;\n    },\n    fromPartial(_) {\n        const message = {\n            ...baseMsgChannelOpenAckResponse,\n        };\n        return message;\n    },\n};\nconst baseMsgChannelOpenConfirm = {\n    portId: \"\",\n    channelId: \"\",\n    signer: \"\",\n};\nexport const MsgChannelOpenConfirm = {\n    encode(message, writer = Writer.create()) {\n        if (message.portId !== \"\") {\n            writer.uint32(10).string(message.portId);\n        }\n        if (message.channelId !== \"\") {\n            writer.uint32(18).string(message.channelId);\n        }\n        if (message.proofAck.length !== 0) {\n            writer.uint32(26).bytes(message.proofAck);\n        }\n        if (message.proofHeight !== undefined) {\n            Height.encode(message.proofHeight, writer.uint32(34).fork()).ldelim();\n        }\n        if (message.signer !== \"\") {\n            writer.uint32(42).string(message.signer);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = { ...baseMsgChannelOpenConfirm };\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.portId = reader.string();\n                    break;\n                case 2:\n                    message.channelId = reader.string();\n                    break;\n                case 3:\n                    message.proofAck = reader.bytes();\n                    break;\n                case 4:\n                    message.proofHeight = Height.decode(reader, reader.uint32());\n                    break;\n                case 5:\n                    message.signer = reader.string();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const message = { ...baseMsgChannelOpenConfirm };\n        if (object.portId !== undefined && object.portId !== null) {\n            message.portId = String(object.portId);\n        }\n        else {\n            message.portId = \"\";\n        }\n        if (object.channelId !== undefined && object.channelId !== null) {\n            message.channelId = String(object.channelId);\n        }\n        else {\n            message.channelId = \"\";\n        }\n        if (object.proofAck !== undefined && object.proofAck !== null) {\n            message.proofAck = bytesFromBase64(object.proofAck);\n        }\n        if (object.proofHeight !== undefined && object.proofHeight !== null) {\n            message.proofHeight = Height.fromJSON(object.proofHeight);\n        }\n        else {\n            message.proofHeight = undefined;\n        }\n        if (object.signer !== undefined && object.signer !== null) {\n            message.signer = String(object.signer);\n        }\n        else {\n            message.signer = \"\";\n        }\n        return message;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.portId !== undefined && (obj.portId = message.portId);\n        message.channelId !== undefined && (obj.channelId = message.channelId);\n        message.proofAck !== undefined &&\n            (obj.proofAck = base64FromBytes(message.proofAck !== undefined ? message.proofAck : new Uint8Array()));\n        message.proofHeight !== undefined &&\n            (obj.proofHeight = message.proofHeight\n                ? Height.toJSON(message.proofHeight)\n                : undefined);\n        message.signer !== undefined && (obj.signer = message.signer);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = { ...baseMsgChannelOpenConfirm };\n        if (object.portId !== undefined && object.portId !== null) {\n            message.portId = object.portId;\n        }\n        else {\n            message.portId = \"\";\n        }\n        if (object.channelId !== undefined && object.channelId !== null) {\n            message.channelId = object.channelId;\n        }\n        else {\n            message.channelId = \"\";\n        }\n        if (object.proofAck !== undefined && object.proofAck !== null) {\n            message.proofAck = object.proofAck;\n        }\n        else {\n            message.proofAck = new Uint8Array();\n        }\n        if (object.proofHeight !== undefined && object.proofHeight !== null) {\n            message.proofHeight = Height.fromPartial(object.proofHeight);\n        }\n        else {\n            message.proofHeight = undefined;\n        }\n        if (object.signer !== undefined && object.signer !== null) {\n            message.signer = object.signer;\n        }\n        else {\n            message.signer = \"\";\n        }\n        return message;\n    },\n};\nconst baseMsgChannelOpenConfirmResponse = {};\nexport const MsgChannelOpenConfirmResponse = {\n    encode(_, writer = Writer.create()) {\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = {\n            ...baseMsgChannelOpenConfirmResponse,\n        };\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(_) {\n        const message = {\n            ...baseMsgChannelOpenConfirmResponse,\n        };\n        return message;\n    },\n    toJSON(_) {\n        const obj = {};\n        return obj;\n    },\n    fromPartial(_) {\n        const message = {\n            ...baseMsgChannelOpenConfirmResponse,\n        };\n        return message;\n    },\n};\nconst baseMsgChannelCloseInit = {\n    portId: \"\",\n    channelId: \"\",\n    signer: \"\",\n};\nexport const MsgChannelCloseInit = {\n    encode(message, writer = Writer.create()) {\n        if (message.portId !== \"\") {\n            writer.uint32(10).string(message.portId);\n        }\n        if (message.channelId !== \"\") {\n            writer.uint32(18).string(message.channelId);\n        }\n        if (message.signer !== \"\") {\n            writer.uint32(26).string(message.signer);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = { ...baseMsgChannelCloseInit };\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.portId = reader.string();\n                    break;\n                case 2:\n                    message.channelId = reader.string();\n                    break;\n                case 3:\n                    message.signer = reader.string();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const message = { ...baseMsgChannelCloseInit };\n        if (object.portId !== undefined && object.portId !== null) {\n            message.portId = String(object.portId);\n        }\n        else {\n            message.portId = \"\";\n        }\n        if (object.channelId !== undefined && object.channelId !== null) {\n            message.channelId = String(object.channelId);\n        }\n        else {\n            message.channelId = \"\";\n        }\n        if (object.signer !== undefined && object.signer !== null) {\n            message.signer = String(object.signer);\n        }\n        else {\n            message.signer = \"\";\n        }\n        return message;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.portId !== undefined && (obj.portId = message.portId);\n        message.channelId !== undefined && (obj.channelId = message.channelId);\n        message.signer !== undefined && (obj.signer = message.signer);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = { ...baseMsgChannelCloseInit };\n        if (object.portId !== undefined && object.portId !== null) {\n            message.portId = object.portId;\n        }\n        else {\n            message.portId = \"\";\n        }\n        if (object.channelId !== undefined && object.channelId !== null) {\n            message.channelId = object.channelId;\n        }\n        else {\n            message.channelId = \"\";\n        }\n        if (object.signer !== undefined && object.signer !== null) {\n            message.signer = object.signer;\n        }\n        else {\n            message.signer = \"\";\n        }\n        return message;\n    },\n};\nconst baseMsgChannelCloseInitResponse = {};\nexport const MsgChannelCloseInitResponse = {\n    encode(_, writer = Writer.create()) {\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = {\n            ...baseMsgChannelCloseInitResponse,\n        };\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(_) {\n        const message = {\n            ...baseMsgChannelCloseInitResponse,\n        };\n        return message;\n    },\n    toJSON(_) {\n        const obj = {};\n        return obj;\n    },\n    fromPartial(_) {\n        const message = {\n            ...baseMsgChannelCloseInitResponse,\n        };\n        return message;\n    },\n};\nconst baseMsgChannelCloseConfirm = {\n    portId: \"\",\n    channelId: \"\",\n    signer: \"\",\n};\nexport const MsgChannelCloseConfirm = {\n    encode(message, writer = Writer.create()) {\n        if (message.portId !== \"\") {\n            writer.uint32(10).string(message.portId);\n        }\n        if (message.channelId !== \"\") {\n            writer.uint32(18).string(message.channelId);\n        }\n        if (message.proofInit.length !== 0) {\n            writer.uint32(26).bytes(message.proofInit);\n        }\n        if (message.proofHeight !== undefined) {\n            Height.encode(message.proofHeight, writer.uint32(34).fork()).ldelim();\n        }\n        if (message.signer !== \"\") {\n            writer.uint32(42).string(message.signer);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = { ...baseMsgChannelCloseConfirm };\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.portId = reader.string();\n                    break;\n                case 2:\n                    message.channelId = reader.string();\n                    break;\n                case 3:\n                    message.proofInit = reader.bytes();\n                    break;\n                case 4:\n                    message.proofHeight = Height.decode(reader, reader.uint32());\n                    break;\n                case 5:\n                    message.signer = reader.string();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const message = { ...baseMsgChannelCloseConfirm };\n        if (object.portId !== undefined && object.portId !== null) {\n            message.portId = String(object.portId);\n        }\n        else {\n            message.portId = \"\";\n        }\n        if (object.channelId !== undefined && object.channelId !== null) {\n            message.channelId = String(object.channelId);\n        }\n        else {\n            message.channelId = \"\";\n        }\n        if (object.proofInit !== undefined && object.proofInit !== null) {\n            message.proofInit = bytesFromBase64(object.proofInit);\n        }\n        if (object.proofHeight !== undefined && object.proofHeight !== null) {\n            message.proofHeight = Height.fromJSON(object.proofHeight);\n        }\n        else {\n            message.proofHeight = undefined;\n        }\n        if (object.signer !== undefined && object.signer !== null) {\n            message.signer = String(object.signer);\n        }\n        else {\n            message.signer = \"\";\n        }\n        return message;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.portId !== undefined && (obj.portId = message.portId);\n        message.channelId !== undefined && (obj.channelId = message.channelId);\n        message.proofInit !== undefined &&\n            (obj.proofInit = base64FromBytes(message.proofInit !== undefined ? message.proofInit : new Uint8Array()));\n        message.proofHeight !== undefined &&\n            (obj.proofHeight = message.proofHeight\n                ? Height.toJSON(message.proofHeight)\n                : undefined);\n        message.signer !== undefined && (obj.signer = message.signer);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = { ...baseMsgChannelCloseConfirm };\n        if (object.portId !== undefined && object.portId !== null) {\n            message.portId = object.portId;\n        }\n        else {\n            message.portId = \"\";\n        }\n        if (object.channelId !== undefined && object.channelId !== null) {\n            message.channelId = object.channelId;\n        }\n        else {\n            message.channelId = \"\";\n        }\n        if (object.proofInit !== undefined && object.proofInit !== null) {\n            message.proofInit = object.proofInit;\n        }\n        else {\n            message.proofInit = new Uint8Array();\n        }\n        if (object.proofHeight !== undefined && object.proofHeight !== null) {\n            message.proofHeight = Height.fromPartial(object.proofHeight);\n        }\n        else {\n            message.proofHeight = undefined;\n        }\n        if (object.signer !== undefined && object.signer !== null) {\n            message.signer = object.signer;\n        }\n        else {\n            message.signer = \"\";\n        }\n        return message;\n    },\n};\nconst baseMsgChannelCloseConfirmResponse = {};\nexport const MsgChannelCloseConfirmResponse = {\n    encode(_, writer = Writer.create()) {\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = {\n            ...baseMsgChannelCloseConfirmResponse,\n        };\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(_) {\n        const message = {\n            ...baseMsgChannelCloseConfirmResponse,\n        };\n        return message;\n    },\n    toJSON(_) {\n        const obj = {};\n        return obj;\n    },\n    fromPartial(_) {\n        const message = {\n            ...baseMsgChannelCloseConfirmResponse,\n        };\n        return message;\n    },\n};\nconst baseMsgRecvPacket = { signer: \"\" };\nexport const MsgRecvPacket = {\n    encode(message, writer = Writer.create()) {\n        if (message.packet !== undefined) {\n            Packet.encode(message.packet, writer.uint32(10).fork()).ldelim();\n        }\n        if (message.proofCommitment.length !== 0) {\n            writer.uint32(18).bytes(message.proofCommitment);\n        }\n        if (message.proofHeight !== undefined) {\n            Height.encode(message.proofHeight, writer.uint32(26).fork()).ldelim();\n        }\n        if (message.signer !== \"\") {\n            writer.uint32(34).string(message.signer);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = { ...baseMsgRecvPacket };\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.packet = Packet.decode(reader, reader.uint32());\n                    break;\n                case 2:\n                    message.proofCommitment = reader.bytes();\n                    break;\n                case 3:\n                    message.proofHeight = Height.decode(reader, reader.uint32());\n                    break;\n                case 4:\n                    message.signer = reader.string();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const message = { ...baseMsgRecvPacket };\n        if (object.packet !== undefined && object.packet !== null) {\n            message.packet = Packet.fromJSON(object.packet);\n        }\n        else {\n            message.packet = undefined;\n        }\n        if (object.proofCommitment !== undefined &&\n            object.proofCommitment !== null) {\n            message.proofCommitment = bytesFromBase64(object.proofCommitment);\n        }\n        if (object.proofHeight !== undefined && object.proofHeight !== null) {\n            message.proofHeight = Height.fromJSON(object.proofHeight);\n        }\n        else {\n            message.proofHeight = undefined;\n        }\n        if (object.signer !== undefined && object.signer !== null) {\n            message.signer = String(object.signer);\n        }\n        else {\n            message.signer = \"\";\n        }\n        return message;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.packet !== undefined &&\n            (obj.packet = message.packet ? Packet.toJSON(message.packet) : undefined);\n        message.proofCommitment !== undefined &&\n            (obj.proofCommitment = base64FromBytes(message.proofCommitment !== undefined\n                ? message.proofCommitment\n                : new Uint8Array()));\n        message.proofHeight !== undefined &&\n            (obj.proofHeight = message.proofHeight\n                ? Height.toJSON(message.proofHeight)\n                : undefined);\n        message.signer !== undefined && (obj.signer = message.signer);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = { ...baseMsgRecvPacket };\n        if (object.packet !== undefined && object.packet !== null) {\n            message.packet = Packet.fromPartial(object.packet);\n        }\n        else {\n            message.packet = undefined;\n        }\n        if (object.proofCommitment !== undefined &&\n            object.proofCommitment !== null) {\n            message.proofCommitment = object.proofCommitment;\n        }\n        else {\n            message.proofCommitment = new Uint8Array();\n        }\n        if (object.proofHeight !== undefined && object.proofHeight !== null) {\n            message.proofHeight = Height.fromPartial(object.proofHeight);\n        }\n        else {\n            message.proofHeight = undefined;\n        }\n        if (object.signer !== undefined && object.signer !== null) {\n            message.signer = object.signer;\n        }\n        else {\n            message.signer = \"\";\n        }\n        return message;\n    },\n};\nconst baseMsgRecvPacketResponse = {};\nexport const MsgRecvPacketResponse = {\n    encode(_, writer = Writer.create()) {\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = { ...baseMsgRecvPacketResponse };\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(_) {\n        const message = { ...baseMsgRecvPacketResponse };\n        return message;\n    },\n    toJSON(_) {\n        const obj = {};\n        return obj;\n    },\n    fromPartial(_) {\n        const message = { ...baseMsgRecvPacketResponse };\n        return message;\n    },\n};\nconst baseMsgTimeout = { nextSequenceRecv: 0, signer: \"\" };\nexport const MsgTimeout = {\n    encode(message, writer = Writer.create()) {\n        if (message.packet !== undefined) {\n            Packet.encode(message.packet, writer.uint32(10).fork()).ldelim();\n        }\n        if (message.proofUnreceived.length !== 0) {\n            writer.uint32(18).bytes(message.proofUnreceived);\n        }\n        if (message.proofHeight !== undefined) {\n            Height.encode(message.proofHeight, writer.uint32(26).fork()).ldelim();\n        }\n        if (message.nextSequenceRecv !== 0) {\n            writer.uint32(32).uint64(message.nextSequenceRecv);\n        }\n        if (message.signer !== \"\") {\n            writer.uint32(42).string(message.signer);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = { ...baseMsgTimeout };\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.packet = Packet.decode(reader, reader.uint32());\n                    break;\n                case 2:\n                    message.proofUnreceived = reader.bytes();\n                    break;\n                case 3:\n                    message.proofHeight = Height.decode(reader, reader.uint32());\n                    break;\n                case 4:\n                    message.nextSequenceRecv = longToNumber(reader.uint64());\n                    break;\n                case 5:\n                    message.signer = reader.string();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const message = { ...baseMsgTimeout };\n        if (object.packet !== undefined && object.packet !== null) {\n            message.packet = Packet.fromJSON(object.packet);\n        }\n        else {\n            message.packet = undefined;\n        }\n        if (object.proofUnreceived !== undefined &&\n            object.proofUnreceived !== null) {\n            message.proofUnreceived = bytesFromBase64(object.proofUnreceived);\n        }\n        if (object.proofHeight !== undefined && object.proofHeight !== null) {\n            message.proofHeight = Height.fromJSON(object.proofHeight);\n        }\n        else {\n            message.proofHeight = undefined;\n        }\n        if (object.nextSequenceRecv !== undefined &&\n            object.nextSequenceRecv !== null) {\n            message.nextSequenceRecv = Number(object.nextSequenceRecv);\n        }\n        else {\n            message.nextSequenceRecv = 0;\n        }\n        if (object.signer !== undefined && object.signer !== null) {\n            message.signer = String(object.signer);\n        }\n        else {\n            message.signer = \"\";\n        }\n        return message;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.packet !== undefined &&\n            (obj.packet = message.packet ? Packet.toJSON(message.packet) : undefined);\n        message.proofUnreceived !== undefined &&\n            (obj.proofUnreceived = base64FromBytes(message.proofUnreceived !== undefined\n                ? message.proofUnreceived\n                : new Uint8Array()));\n        message.proofHeight !== undefined &&\n            (obj.proofHeight = message.proofHeight\n                ? Height.toJSON(message.proofHeight)\n                : undefined);\n        message.nextSequenceRecv !== undefined &&\n            (obj.nextSequenceRecv = message.nextSequenceRecv);\n        message.signer !== undefined && (obj.signer = message.signer);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = { ...baseMsgTimeout };\n        if (object.packet !== undefined && object.packet !== null) {\n            message.packet = Packet.fromPartial(object.packet);\n        }\n        else {\n            message.packet = undefined;\n        }\n        if (object.proofUnreceived !== undefined &&\n            object.proofUnreceived !== null) {\n            message.proofUnreceived = object.proofUnreceived;\n        }\n        else {\n            message.proofUnreceived = new Uint8Array();\n        }\n        if (object.proofHeight !== undefined && object.proofHeight !== null) {\n            message.proofHeight = Height.fromPartial(object.proofHeight);\n        }\n        else {\n            message.proofHeight = undefined;\n        }\n        if (object.nextSequenceRecv !== undefined &&\n            object.nextSequenceRecv !== null) {\n            message.nextSequenceRecv = object.nextSequenceRecv;\n        }\n        else {\n            message.nextSequenceRecv = 0;\n        }\n        if (object.signer !== undefined && object.signer !== null) {\n            message.signer = object.signer;\n        }\n        else {\n            message.signer = \"\";\n        }\n        return message;\n    },\n};\nconst baseMsgTimeoutResponse = {};\nexport const MsgTimeoutResponse = {\n    encode(_, writer = Writer.create()) {\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = { ...baseMsgTimeoutResponse };\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(_) {\n        const message = { ...baseMsgTimeoutResponse };\n        return message;\n    },\n    toJSON(_) {\n        const obj = {};\n        return obj;\n    },\n    fromPartial(_) {\n        const message = { ...baseMsgTimeoutResponse };\n        return message;\n    },\n};\nconst baseMsgTimeoutOnClose = { nextSequenceRecv: 0, signer: \"\" };\nexport const MsgTimeoutOnClose = {\n    encode(message, writer = Writer.create()) {\n        if (message.packet !== undefined) {\n            Packet.encode(message.packet, writer.uint32(10).fork()).ldelim();\n        }\n        if (message.proofUnreceived.length !== 0) {\n            writer.uint32(18).bytes(message.proofUnreceived);\n        }\n        if (message.proofClose.length !== 0) {\n            writer.uint32(26).bytes(message.proofClose);\n        }\n        if (message.proofHeight !== undefined) {\n            Height.encode(message.proofHeight, writer.uint32(34).fork()).ldelim();\n        }\n        if (message.nextSequenceRecv !== 0) {\n            writer.uint32(40).uint64(message.nextSequenceRecv);\n        }\n        if (message.signer !== \"\") {\n            writer.uint32(50).string(message.signer);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = { ...baseMsgTimeoutOnClose };\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.packet = Packet.decode(reader, reader.uint32());\n                    break;\n                case 2:\n                    message.proofUnreceived = reader.bytes();\n                    break;\n                case 3:\n                    message.proofClose = reader.bytes();\n                    break;\n                case 4:\n                    message.proofHeight = Height.decode(reader, reader.uint32());\n                    break;\n                case 5:\n                    message.nextSequenceRecv = longToNumber(reader.uint64());\n                    break;\n                case 6:\n                    message.signer = reader.string();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const message = { ...baseMsgTimeoutOnClose };\n        if (object.packet !== undefined && object.packet !== null) {\n            message.packet = Packet.fromJSON(object.packet);\n        }\n        else {\n            message.packet = undefined;\n        }\n        if (object.proofUnreceived !== undefined &&\n            object.proofUnreceived !== null) {\n            message.proofUnreceived = bytesFromBase64(object.proofUnreceived);\n        }\n        if (object.proofClose !== undefined && object.proofClose !== null) {\n            message.proofClose = bytesFromBase64(object.proofClose);\n        }\n        if (object.proofHeight !== undefined && object.proofHeight !== null) {\n            message.proofHeight = Height.fromJSON(object.proofHeight);\n        }\n        else {\n            message.proofHeight = undefined;\n        }\n        if (object.nextSequenceRecv !== undefined &&\n            object.nextSequenceRecv !== null) {\n            message.nextSequenceRecv = Number(object.nextSequenceRecv);\n        }\n        else {\n            message.nextSequenceRecv = 0;\n        }\n        if (object.signer !== undefined && object.signer !== null) {\n            message.signer = String(object.signer);\n        }\n        else {\n            message.signer = \"\";\n        }\n        return message;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.packet !== undefined &&\n            (obj.packet = message.packet ? Packet.toJSON(message.packet) : undefined);\n        message.proofUnreceived !== undefined &&\n            (obj.proofUnreceived = base64FromBytes(message.proofUnreceived !== undefined\n                ? message.proofUnreceived\n                : new Uint8Array()));\n        message.proofClose !== undefined &&\n            (obj.proofClose = base64FromBytes(message.proofClose !== undefined ? message.proofClose : new Uint8Array()));\n        message.proofHeight !== undefined &&\n            (obj.proofHeight = message.proofHeight\n                ? Height.toJSON(message.proofHeight)\n                : undefined);\n        message.nextSequenceRecv !== undefined &&\n            (obj.nextSequenceRecv = message.nextSequenceRecv);\n        message.signer !== undefined && (obj.signer = message.signer);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = { ...baseMsgTimeoutOnClose };\n        if (object.packet !== undefined && object.packet !== null) {\n            message.packet = Packet.fromPartial(object.packet);\n        }\n        else {\n            message.packet = undefined;\n        }\n        if (object.proofUnreceived !== undefined &&\n            object.proofUnreceived !== null) {\n            message.proofUnreceived = object.proofUnreceived;\n        }\n        else {\n            message.proofUnreceived = new Uint8Array();\n        }\n        if (object.proofClose !== undefined && object.proofClose !== null) {\n            message.proofClose = object.proofClose;\n        }\n        else {\n            message.proofClose = new Uint8Array();\n        }\n        if (object.proofHeight !== undefined && object.proofHeight !== null) {\n            message.proofHeight = Height.fromPartial(object.proofHeight);\n        }\n        else {\n            message.proofHeight = undefined;\n        }\n        if (object.nextSequenceRecv !== undefined &&\n            object.nextSequenceRecv !== null) {\n            message.nextSequenceRecv = object.nextSequenceRecv;\n        }\n        else {\n            message.nextSequenceRecv = 0;\n        }\n        if (object.signer !== undefined && object.signer !== null) {\n            message.signer = object.signer;\n        }\n        else {\n            message.signer = \"\";\n        }\n        return message;\n    },\n};\nconst baseMsgTimeoutOnCloseResponse = {};\nexport const MsgTimeoutOnCloseResponse = {\n    encode(_, writer = Writer.create()) {\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = {\n            ...baseMsgTimeoutOnCloseResponse,\n        };\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(_) {\n        const message = {\n            ...baseMsgTimeoutOnCloseResponse,\n        };\n        return message;\n    },\n    toJSON(_) {\n        const obj = {};\n        return obj;\n    },\n    fromPartial(_) {\n        const message = {\n            ...baseMsgTimeoutOnCloseResponse,\n        };\n        return message;\n    },\n};\nconst baseMsgAcknowledgement = { signer: \"\" };\nexport const MsgAcknowledgement = {\n    encode(message, writer = Writer.create()) {\n        if (message.packet !== undefined) {\n            Packet.encode(message.packet, writer.uint32(10).fork()).ldelim();\n        }\n        if (message.acknowledgement.length !== 0) {\n            writer.uint32(18).bytes(message.acknowledgement);\n        }\n        if (message.proofAcked.length !== 0) {\n            writer.uint32(26).bytes(message.proofAcked);\n        }\n        if (message.proofHeight !== undefined) {\n            Height.encode(message.proofHeight, writer.uint32(34).fork()).ldelim();\n        }\n        if (message.signer !== \"\") {\n            writer.uint32(42).string(message.signer);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = { ...baseMsgAcknowledgement };\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.packet = Packet.decode(reader, reader.uint32());\n                    break;\n                case 2:\n                    message.acknowledgement = reader.bytes();\n                    break;\n                case 3:\n                    message.proofAcked = reader.bytes();\n                    break;\n                case 4:\n                    message.proofHeight = Height.decode(reader, reader.uint32());\n                    break;\n                case 5:\n                    message.signer = reader.string();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const message = { ...baseMsgAcknowledgement };\n        if (object.packet !== undefined && object.packet !== null) {\n            message.packet = Packet.fromJSON(object.packet);\n        }\n        else {\n            message.packet = undefined;\n        }\n        if (object.acknowledgement !== undefined &&\n            object.acknowledgement !== null) {\n            message.acknowledgement = bytesFromBase64(object.acknowledgement);\n        }\n        if (object.proofAcked !== undefined && object.proofAcked !== null) {\n            message.proofAcked = bytesFromBase64(object.proofAcked);\n        }\n        if (object.proofHeight !== undefined && object.proofHeight !== null) {\n            message.proofHeight = Height.fromJSON(object.proofHeight);\n        }\n        else {\n            message.proofHeight = undefined;\n        }\n        if (object.signer !== undefined && object.signer !== null) {\n            message.signer = String(object.signer);\n        }\n        else {\n            message.signer = \"\";\n        }\n        return message;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.packet !== undefined &&\n            (obj.packet = message.packet ? Packet.toJSON(message.packet) : undefined);\n        message.acknowledgement !== undefined &&\n            (obj.acknowledgement = base64FromBytes(message.acknowledgement !== undefined\n                ? message.acknowledgement\n                : new Uint8Array()));\n        message.proofAcked !== undefined &&\n            (obj.proofAcked = base64FromBytes(message.proofAcked !== undefined ? message.proofAcked : new Uint8Array()));\n        message.proofHeight !== undefined &&\n            (obj.proofHeight = message.proofHeight\n                ? Height.toJSON(message.proofHeight)\n                : undefined);\n        message.signer !== undefined && (obj.signer = message.signer);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = { ...baseMsgAcknowledgement };\n        if (object.packet !== undefined && object.packet !== null) {\n            message.packet = Packet.fromPartial(object.packet);\n        }\n        else {\n            message.packet = undefined;\n        }\n        if (object.acknowledgement !== undefined &&\n            object.acknowledgement !== null) {\n            message.acknowledgement = object.acknowledgement;\n        }\n        else {\n            message.acknowledgement = new Uint8Array();\n        }\n        if (object.proofAcked !== undefined && object.proofAcked !== null) {\n            message.proofAcked = object.proofAcked;\n        }\n        else {\n            message.proofAcked = new Uint8Array();\n        }\n        if (object.proofHeight !== undefined && object.proofHeight !== null) {\n            message.proofHeight = Height.fromPartial(object.proofHeight);\n        }\n        else {\n            message.proofHeight = undefined;\n        }\n        if (object.signer !== undefined && object.signer !== null) {\n            message.signer = object.signer;\n        }\n        else {\n            message.signer = \"\";\n        }\n        return message;\n    },\n};\nconst baseMsgAcknowledgementResponse = {};\nexport const MsgAcknowledgementResponse = {\n    encode(_, writer = Writer.create()) {\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = {\n            ...baseMsgAcknowledgementResponse,\n        };\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(_) {\n        const message = {\n            ...baseMsgAcknowledgementResponse,\n        };\n        return message;\n    },\n    toJSON(_) {\n        const obj = {};\n        return obj;\n    },\n    fromPartial(_) {\n        const message = {\n            ...baseMsgAcknowledgementResponse,\n        };\n        return message;\n    },\n};\nexport class MsgClientImpl {\n    constructor(rpc) {\n        this.rpc = rpc;\n    }\n    ChannelOpenInit(request) {\n        const data = MsgChannelOpenInit.encode(request).finish();\n        const promise = this.rpc.request(\"ibc.core.channel.v1.Msg\", \"ChannelOpenInit\", data);\n        return promise.then((data) => MsgChannelOpenInitResponse.decode(new Reader(data)));\n    }\n    ChannelOpenTry(request) {\n        const data = MsgChannelOpenTry.encode(request).finish();\n        const promise = this.rpc.request(\"ibc.core.channel.v1.Msg\", \"ChannelOpenTry\", data);\n        return promise.then((data) => MsgChannelOpenTryResponse.decode(new Reader(data)));\n    }\n    ChannelOpenAck(request) {\n        const data = MsgChannelOpenAck.encode(request).finish();\n        const promise = this.rpc.request(\"ibc.core.channel.v1.Msg\", \"ChannelOpenAck\", data);\n        return promise.then((data) => MsgChannelOpenAckResponse.decode(new Reader(data)));\n    }\n    ChannelOpenConfirm(request) {\n        const data = MsgChannelOpenConfirm.encode(request).finish();\n        const promise = this.rpc.request(\"ibc.core.channel.v1.Msg\", \"ChannelOpenConfirm\", data);\n        return promise.then((data) => MsgChannelOpenConfirmResponse.decode(new Reader(data)));\n    }\n    ChannelCloseInit(request) {\n        const data = MsgChannelCloseInit.encode(request).finish();\n        const promise = this.rpc.request(\"ibc.core.channel.v1.Msg\", \"ChannelCloseInit\", data);\n        return promise.then((data) => MsgChannelCloseInitResponse.decode(new Reader(data)));\n    }\n    ChannelCloseConfirm(request) {\n        const data = MsgChannelCloseConfirm.encode(request).finish();\n        const promise = this.rpc.request(\"ibc.core.channel.v1.Msg\", \"ChannelCloseConfirm\", data);\n        return promise.then((data) => MsgChannelCloseConfirmResponse.decode(new Reader(data)));\n    }\n    RecvPacket(request) {\n        const data = MsgRecvPacket.encode(request).finish();\n        const promise = this.rpc.request(\"ibc.core.channel.v1.Msg\", \"RecvPacket\", data);\n        return promise.then((data) => MsgRecvPacketResponse.decode(new Reader(data)));\n    }\n    Timeout(request) {\n        const data = MsgTimeout.encode(request).finish();\n        const promise = this.rpc.request(\"ibc.core.channel.v1.Msg\", \"Timeout\", data);\n        return promise.then((data) => MsgTimeoutResponse.decode(new Reader(data)));\n    }\n    TimeoutOnClose(request) {\n        const data = MsgTimeoutOnClose.encode(request).finish();\n        const promise = this.rpc.request(\"ibc.core.channel.v1.Msg\", \"TimeoutOnClose\", data);\n        return promise.then((data) => MsgTimeoutOnCloseResponse.decode(new Reader(data)));\n    }\n    Acknowledgement(request) {\n        const data = MsgAcknowledgement.encode(request).finish();\n        const promise = this.rpc.request(\"ibc.core.channel.v1.Msg\", \"Acknowledgement\", data);\n        return promise.then((data) => MsgAcknowledgementResponse.decode(new Reader(data)));\n    }\n}\nvar globalThis = (() => {\n    if (typeof globalThis !== \"undefined\")\n        return globalThis;\n    if (typeof self !== \"undefined\")\n        return self;\n    if (typeof window !== \"undefined\")\n        return window;\n    if (typeof global !== \"undefined\")\n        return global;\n    throw \"Unable to locate global object\";\n})();\nconst atob = globalThis.atob ||\n    ((b64) => globalThis.Buffer.from(b64, \"base64\").toString(\"binary\"));\nfunction bytesFromBase64(b64) {\n    const bin = atob(b64);\n    const arr = new Uint8Array(bin.length);\n    for (let i = 0; i < bin.length; ++i) {\n        arr[i] = bin.charCodeAt(i);\n    }\n    return arr;\n}\nconst btoa = globalThis.btoa ||\n    ((bin) => globalThis.Buffer.from(bin, \"binary\").toString(\"base64\"));\nfunction base64FromBytes(arr) {\n    const bin = [];\n    for (let i = 0; i < arr.byteLength; ++i) {\n        bin.push(String.fromCharCode(arr[i]));\n    }\n    return btoa(bin.join(\"\"));\n}\nfunction longToNumber(long) {\n    if (long.gt(Number.MAX_SAFE_INTEGER)) {\n        throw new globalThis.Error(\"Value is larger than Number.MAX_SAFE_INTEGER\");\n    }\n    return long.toNumber();\n}\nif (util.Long !== Long) {\n    util.Long = Long;\n    configure();\n}\n"]}]}